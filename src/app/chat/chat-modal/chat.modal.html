<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="closeModal()">
        <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>
      <ion-item lines="none">
        <ion-avatar slot="start">
          <ion-img [src]="avatar"></ion-img>
        </ion-avatar>
        <ion-label>
          <h2>{{ user?.username }}</h2>
          <!--<p>En línea</p>-->
        </ion-label>
      </ion-item>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding #chatlist>
  <ion-card
    [color]="message.fromuser == user.id ? 'primary' : 'secondary'"
    class="{{ message.fromuser == user.id ? 'to' : 'from' }}"
    *ngFor="let message of messages"
  >
    <ion-card-content>
      {{ message.text }}
      <ion-note>{{ message.time_creation | date: "shortTime" }}</ion-note>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-item lines="none">
      <ion-textarea placeholder="Escribe tu mensaje aquí" #text></ion-textarea>
      <ion-icon
        button
        name="send"
        color="primary"
        (click)="sendMessage()"
      ></ion-icon>
    </ion-item>
  </ion-toolbar>
</ion-footer>
