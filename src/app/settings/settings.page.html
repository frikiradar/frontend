<ion-header no-border>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button>
        <ion-back-button text="Atrás" defaultHref="/"></ion-back-button>
      </ion-button>
    </ion-buttons>
    <ion-title>Configuración</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item-group>
      <ion-item-divider color="primary">
        <ion-icon name="lock" slot="start"></ion-icon>
        <ion-label>Seguridad</ion-label>
      </ion-item-divider>
      <!--<ion-item (click)="router.navigate(['settings/account'])" button lines="full">
                <ion-icon name="person" slot="start"></ion-icon>
                <ion-label>Mi cuenta</ion-label>
            </ion-item>-->
      <ion-item (click)="passwordModal()" button lines="full">
        <ion-icon name="key" slot="start"></ion-icon>
        <ion-label>
          <h2>Cambiar contraseña</h2>
        </ion-label>
      </ion-item>
      <ion-item (click)="devicesSettingsModal()" button lines="full">
        <ion-icon name="notifications" slot="start"></ion-icon>
        <ion-label>
          <h2>Dispositivos y notificaciones</h2>
        </ion-label>
      </ion-item>
      <ion-item lines="full">
        <ion-icon name="checkmark-circle-outline" slot="start"></ion-icon>
        <ion-label>
          <h2>Verificación en dos pasos</h2>
          <p>
            Te enviaremos un email con un código de verificación cada vez que
            inicies una nueva sesión.
          </p>
        </ion-label>
        <ion-checkbox
          slot="end"
          [(ngModel)]="user.two_step"
          (ngModelChange)="onChangeCheck('two_step', !$event)"
        >
        </ion-checkbox>
      </ion-item>
      <!--<ion-item button lines="full" *ngIf="user.verified">
        <ion-icon name="ribbon" slot="start"></ion-icon>
        <ion-label>
          <h2>Verificación de la cuenta</h2>
          <p>
            Comprueba el estado de verificación de tu cuenta.
          </p>
        </ion-label>
      </ion-item>-->
    </ion-item-group>

    <ion-item-group>
      <ion-item-divider color="primary">
        <ion-icon name="eye-off" slot="start"></ion-icon>
        <ion-label>Privacidad</ion-label>
      </ion-item-divider>
      <ion-item lines="full">
        <ion-icon name="pin" slot="start"></ion-icon>
        <ion-label>
          <h2>Localización exacta</h2>
          <p>Mostrar el nombre del lugar donde me encuentro.</p>
        </ion-label>
        <ion-checkbox
          slot="end"
          [(ngModel)]="!user.hide_location"
          (ngModelChange)="onChangeCheck('hide_location', $event)"
        ></ion-checkbox>
      </ion-item>
      <ion-item lines="full">
        <ion-icon name="chatbubbles" slot="start"></ion-icon>
        <ion-label>
          <h2>Mensajes directos</h2>
          <p>
            Poder recibir mensajes de cualquier usuario, aunque no haya indicado
            que me gusta.
          </p>
        </ion-label>
        <ion-checkbox
          slot="end"
          [(ngModel)]="!user.block_messages"
          (ngModelChange)="onChangeCheck('block_messages', $event)"
        ></ion-checkbox>
      </ion-item>
      <ion-item lines="full">
        <ion-icon name="time" slot="start"></ion-icon>
        <ion-label>
          <h2>Última conexión</h2>
          <p>
            Mostrar el momento de la última vez que entré a la aplicación
          </p>
        </ion-label>
        <ion-checkbox
          slot="end"
          [(ngModel)]="!user.hide_connection"
          (ngModelChange)="onChangeCheck('hide_connection', $event)"
        ></ion-checkbox>
      </ion-item>
      <ion-item (click)="blockUsersModal()" button lines="full">
        <ion-icon name="hand" slot="start"></ion-icon>
        <ion-label>Usuarios bloqueados</ion-label>
      </ion-item>
    </ion-item-group>

    <ion-item-group>
      <ion-item-divider color="primary">
        <ion-icon name="contact" slot="start"></ion-icon>
        <ion-label>Cuenta</ion-label>
      </ion-item-divider>
      <ion-item lines="full" (click)="premiumModal()" button>
        <ion-icon name="infinite" slot="start"></ion-icon>
        <ion-label>
          <h2>FrikiRadar ILIMITADO</h2>
          <p>Configurar mi cuenta premium</p>
        </ion-label>
      </ion-item>
      <ion-item lines="full" (click)="paymentsModal()" button>
        <ion-icon name="card" slot="start"></ion-icon>
        <ion-label>
          <h2>Historial de pagos</h2>
        </ion-label>
      </ion-item>
      <ion-item lines="full" (click)="usernameModal()" button>
        <ion-icon name="person" slot="start"></ion-icon>
        <ion-label>
          <h2>Cambiar nombre de usuario</h2>
          <p>{{ user.username }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="full" (click)="emailModal()" button>
        <ion-icon name="mail" slot="start"></ion-icon>
        <ion-label>
          <h2>Cambiar correo electrónico</h2>
          <p>{{ user.email }}</p>
        </ion-label>
      </ion-item>
      <ion-item lines="full" (click)="disableAccountModal()" button>
        <ion-icon name="close-circle" slot="start"></ion-icon>
        <ion-label>
          <h2>Desactivar la cuenta</h2>
        </ion-label>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>
