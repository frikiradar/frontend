<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="close()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Historial de pagos</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div *ngIf="payments?.length; else noPayments">
    <ion-list>
      <ion-item lines="full" *ngFor="let payment of payments">
        <ion-icon
          *ngIf="payment.method === 'PLAY_STORE'"
          slot="start"
          name="logo-android"
        ></ion-icon>
        <ion-icon
          *ngIf="payment.method === 'APP_STORE'"
          slot="start"
          name="logo-apple"
        ></ion-icon>
        <ion-icon
          *ngIf="payment.method === 'PAYPAL'"
          slot="start"
          name="logo-paypal"
        ></ion-icon>
        <ion-label>
          <h3>{{ payment.title }}</h3>
          <p>{{ payment.description }}</p>
        </ion-label>
        <ion-note slot="end" class="ion-text-right">
          {{ payment.payment_date | niceDate }}
          <h4>
            {{ payment.amount | number: "1.2-2" }} {{ payment.currency === "EUR"
            ? "€" : payment.currency === "MXN" ? "$" : payment.currency }}
          </h4>
        </ion-note>
      </ion-item>
    </ion-list>
  </div>
  <ng-template #noPayments>
    <div class="full-center ion-padding">
      <ion-icon name="close-circle-outline"></ion-icon>
      <h2>Sin resultados</h2>
      <p>No has efectuado ningún pago.</p>
    </div>
  </ng-template>
</ion-content>
