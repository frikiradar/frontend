<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col class="info">
        <app-login-info></app-login-info>
      </ion-col>
      <ion-col class="login">
        <div *ngIf="activeView == 'login'" class="ion-padding">
          <ion-img alt="frikiradar" src="/assets/icon/icon.svg"></ion-img>
          <h2>{{ "hola" | i18n }}</h2>
          <h3>{{ "te-doy-bienvenida-frikiradar" | i18n }}</h3>
          <div id="login-content">
            <form [formGroup]="loginForm" autocomplete="off">
              <ion-item lines="full" class="login-input">
                <ion-icon name="person-outline" slot="start"></ion-icon>
                <ion-input
                  label="{{ 'nombre-usuario-o-email' | i18n }}"
                  labelPlacement="floating"
                  outline
                  required
                  type="text"
                  formControlName="username"
                  name="username"
                  autocomplete="username"
                  appAutofill
                  clearOnEdit="true"
                  (keyup.enter)="checkLogin()"
                ></ion-input>
              </ion-item>
              <ion-item lines="full" *ngIf="insertPassword" class="login-input">
                <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
                <ion-input
                  label="{{ 'password' | i18n }}"
                  labelPlacement="floating"
                  required
                  [type]="clearPassword ? 'text' : 'password'"
                  formControlName="password"
                  name="password"
                  id="password-input"
                  autocomplete="current-password"
                  appAutofill
                  clearOnEdit="true"
                  (keyup.enter)="submitLogin()"
                >
                </ion-input>
                <ion-buttons slot="end" *ngIf="!passwordInput.pristine">
                  <ion-button (click)="clearPassword = !clearPassword">
                    <ion-icon
                      slot="icon-only"
                      [name]="clearPassword ? 'eye' : 'eye-off'"
                    ></ion-icon>
                  </ion-button>
                </ion-buttons>
              </ion-item>
              <ion-button
                color="primary"
                (click)="checkLogin()"
                shape="round"
                expand="block"
                size="large"
                class="login-button"
                *ngIf="!insertPassword"
              >
                <ion-icon slot="start" name="mail"></ion-icon>
                <ion-label
                  >{{ "continuar-con-email" | i18n }}</ion-label
                ></ion-button
              >
              <ion-button
                color="primary"
                (click)="submitLogin()"
                shape="round"
                size="large"
                expand="block"
                class="login-button"
                *ngIf="insertPassword"
              >
                <ion-icon slot="start" name="log-in-outline"></ion-icon>
                <ion-label>{{ "iniciar-sesin" | i18n }}</ion-label></ion-button
              >
              <ion-button
                color="light"
                shape="round"
                size="large"
                expand="block"
                class="login-button"
                (click)="insertPassword = false"
                *ngIf="insertPassword"
              >
                <ion-icon color="dark" name="arrow-back-outline"></ion-icon>
                <ion-label color="dark"
                  >{{ "volver" | i18n }}</ion-label
                ></ion-button
              >
            </form>
            <ion-button
              color="light"
              (click)="loginWithGoogle()"
              shape="round"
              expand="block"
              size="large"
              class="login-button"
              *ngIf="!insertPassword"
            >
              <ion-icon src="/assets/icon/google.svg" slot="start"></ion-icon>
              <ion-label color="dark"
                >{{ "iniciar-sesin-con-google" | i18n }}</ion-label
              ></ion-button
            >
            <p class="ion-text-center" id="forgot-password">
              <a (click)="forgotPassword()"
                >{{ "no-puedo-iniciar-sesin" | i18n }}</a
              >
            </p>
          </div>
        </div>
        <div *ngIf="activeView == 'register'">
          <ion-header class="ion-no-border">
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-button (click)="backToLogin()">
                  <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
                </ion-button>
              </ion-buttons>
              <ion-title>{{ "registro" | i18n }}</ion-title>
            </ion-toolbar>
          </ion-header>
          <app-register
            [username]="username"
            [email]="email"
            [provider]="provider"
            [credential]="credential"
          ></app-register>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
<!-- cambiar idioma-->
<ion-footer class="ion-no-border">
  <ion-item button (click)="changeLanguage()" lines="none">
    <ion-icon name="language"></ion-icon>
    <ion-label> {{ "change-login-language" | i18n }} </ion-label>
  </ion-item>
</ion-footer>
