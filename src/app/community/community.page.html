<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-toggle>
        <ion-avatar>
          <img
            [src]="auth.currentUserValue?.thumbnail"
            [alt]="auth.currentUserValue?.username"
            default="/assets/img/users/default.jpg"
          />
        </ion-avatar>
      </ion-menu-toggle>
    </ion-buttons>
    <ion-title>Comunidad</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-slides #stories id="stories" [options]="storiesOpts">
    <ion-slide>
      <ion-item button lines="none">
        <ion-avatar>
          <img [src]="auth.currentUserValue?.thumbnail" alt="games" />
          <ion-badge color="tertiary">+</ion-badge>
        </ion-avatar>
      </ion-item>
    </ion-slide>
    <ion-slide>
      <ion-item button lines="none">
        <ion-avatar>
          <img src="/assets/img/users/default.jpg" alt="games" />
        </ion-avatar>
      </ion-item>
    </ion-slide>
    <ion-slide>
      <ion-item button lines="none">
        <ion-avatar>
          <img src="/assets/img/users/default.jpg" alt="games" />
        </ion-avatar>
      </ion-item>
    </ion-slide>
    <ion-slide>
      <ion-item button lines="none">
        <ion-avatar>
          <img src="/assets/img/users/default.jpg" alt="games" />
        </ion-avatar>
      </ion-item>
    </ion-slide>
    <ion-slide>
      <ion-item button lines="none">
        <ion-avatar>
          <img src="/assets/img/users/default.jpg" alt="games" />
        </ion-avatar>
      </ion-item>
    </ion-slide>
  </ion-slides>

  <ion-label>
    <h2 class="section">Salas de chat</h2>
    <p class="subtitle">
      ¡Entra y habla con la comunidad FrikiRadar!
    </p>
  </ion-label>
  <ion-list id="rooms">
    <div *ngFor="let room of rooms">
      <ion-item
        button
        lines="none"
        *ngIf="auth.currentUserValue?.roles?.includes(room.permissions[0])"
        (click)="showRoom(room.slug)"
      >
        <ion-thumbnail>
          <img [src]="room.image" [alt]="room.name" />
          <ion-badge color="primary" *ngIf="room?.unread">&nbsp;</ion-badge>
        </ion-thumbnail>
        <ion-label>
          <h2 class="room-name" [ngClass]="room?.unread ? 'unread' : ''">
            {{ room?.name }}
          </h2>
          <p class="room-description">{{room?.description}}</p>
        </ion-label>
      </ion-item>
    </div>
  </ion-list>

  <!--<ion-label>
    <h2 class="section">Eventos</h2>
    <p class="subtitle">
      Próximamente
    </p>
  </ion-label>-->

  <!--<div class="full-center ion-padding">
    <ion-icon name="people-outline"></ion-icon>
    <h2>Próximamente</h2>
    <p>
      Regresa aquí más adelante para disfrutar de todo lo que FrikiRadar te
      puede ofrecer.
    </p>
  </div>-->
</ion-content>
