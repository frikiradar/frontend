"use strict";
(self["webpackChunkapp"] = self["webpackChunkapp"] || []).push([["node_modules_capacitor-firebase_messaging_dist_esm_web_js"],{

/***/ 22657:
/*!********************************************************************!*\
  !*** ./node_modules/@capacitor-firebase/messaging/dist/esm/web.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FirebaseMessagingWeb: () => (/* binding */ FirebaseMessagingWeb)
/* harmony export */ });
/* harmony import */ var _home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 89204);
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @capacitor/core */ 14070);
/* harmony import */ var firebase_messaging__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/messaging */ 91904);



class FirebaseMessagingWeb extends _capacitor_core__WEBPACK_IMPORTED_MODULE_1__.WebPlugin {
  constructor() {
    super();
    (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.isSupported)().then(supported => {
      if (!supported) {
        return;
      }
      const messaging = (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.getMessaging)();
      (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.onMessage)(messaging, payload => this.handleNotificationReceived(payload));
    });
  }
  checkPermissions() {
    var _this = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const receive = _this.convertNotificationPermissionToPermissionState(Notification.permission);
      return {
        receive
      };
    })();
  }
  requestPermissions() {
    var _this2 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const notificationPermission = yield Notification.requestPermission();
      const receive = _this2.convertNotificationPermissionToPermissionState(notificationPermission);
      return {
        receive
      };
    })();
  }
  isSupported() {
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const isSupported = yield (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.isSupported)();
      return {
        isSupported
      };
    })();
  }
  getToken(options) {
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const messaging = (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.getMessaging)();
      const token = yield (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.getToken)(messaging, {
        vapidKey: options.vapidKey,
        serviceWorkerRegistration: options.serviceWorkerRegistration
      });
      return {
        token
      };
    })();
  }
  deleteToken() {
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const messaging = (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.getMessaging)();
      yield (0,firebase_messaging__WEBPACK_IMPORTED_MODULE_2__.deleteToken)(messaging);
    })();
  }
  getDeliveredNotifications() {
    var _this3 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this3.throwUnavailableError();
    })();
  }
  removeDeliveredNotifications(_options) {
    var _this4 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this4.throwUnavailableError();
    })();
  }
  removeAllDeliveredNotifications() {
    var _this5 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this5.throwUnavailableError();
    })();
  }
  subscribeToTopic(_options) {
    var _this6 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this6.throwUnavailableError();
    })();
  }
  unsubscribeFromTopic(_options) {
    var _this7 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this7.throwUnavailableError();
    })();
  }
  createChannel(_options) {
    var _this8 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this8.throwUnavailableError();
    })();
  }
  deleteChannel(_options) {
    var _this9 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this9.throwUnavailableError();
    })();
  }
  listChannels() {
    var _this10 = this;
    return (0,_home_albertomerino_frikiradar_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this10.throwUnavailableError();
    })();
  }
  handleNotificationReceived(messagePayload) {
    const notification = this.createNotificationResult(messagePayload);
    const event = {
      notification
    };
    this.notifyListeners(FirebaseMessagingWeb.notificationReceivedEvent, event);
  }
  createNotificationResult(messagePayload) {
    var _a, _b, _c;
    const notification = {
      body: (_a = messagePayload.notification) === null || _a === void 0 ? void 0 : _a.body,
      data: messagePayload.data,
      id: messagePayload.messageId,
      image: (_b = messagePayload.notification) === null || _b === void 0 ? void 0 : _b.image,
      title: (_c = messagePayload.notification) === null || _c === void 0 ? void 0 : _c.title
    };
    return notification;
  }
  convertNotificationPermissionToPermissionState(permission) {
    let state = 'prompt';
    switch (permission) {
      case 'granted':
        state = 'granted';
        break;
      case 'denied':
        state = 'denied';
        break;
    }
    return state;
  }
  throwUnavailableError() {
    throw this.unavailable('Not available on web.');
  }
}
FirebaseMessagingWeb.notificationReceivedEvent = 'notificationReceived';

/***/ })

}]);
//# sourceMappingURL=node_modules_capacitor-firebase_messaging_dist_esm_web_js.js.map