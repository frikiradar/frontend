{"version":3,"file":"src_app_explore_explore_module_ts.js","mappings":"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","sources":["./src/app/explore/explore.module.ts","./src/app/explore/explore.page.ts","./src/app/explore/explore.page.html","./src/app/services/animate.service.ts"],"sourcesContent":["import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { FormsModule } from \"@angular/forms\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { IonicModule } from \"@ionic/angular\";\n\nimport { SharedModule } from \"../shared/shared.module\";\nimport { ExplorePage } from \"./explore.page\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: ExplorePage,\n  },\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    SharedModule,\n  ],\n  declarations: [ExplorePage],\n})\nexport class ExplorePageModule {}\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\n\nimport { ConfigService } from \"../services/config.service\";\nimport { AuthService } from \"../services/auth.service\";\nimport { Story } from \"../models/story\";\nimport { AnimateService } from \"../services/animate.service\";\nimport { StoryModal } from \"../story/story-modal/story.modal\";\nimport { ModalController } from \"@ionic/angular\";\nimport { StoryService } from \"../services/story.service\";\nimport { RulesPage } from \"../rules/rules.page\";\nimport { NavService } from \"../services/navigation.service\";\nimport { PostModal } from \"../post/post-modal/post.modal\";\nimport { PageService } from \"../services/page.service\";\nimport { Page } from \"../models/page\";\n\n@Component({\n  selector: \"app-explore\",\n  templateUrl: \"./explore.page.html\",\n  styleUrls: [\"./explore.page.scss\"],\n})\nexport class ExplorePage {\n  public stories: Story[];\n  public posts: Story[];\n  public pages: Page[];\n  public loading = true;\n  private page = 1;\n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    public auth: AuthService,\n    private config: ConfigService,\n    private animate: AnimateService,\n    private storySvc: StoryService,\n    private modalController: ModalController,\n    private nav: NavService,\n    private pageSvc: PageService\n  ) {}\n\n  async ngAfterViewInit() {\n    this.animate.animateSections(\"section\", 600, 500);\n\n    const rules = await this.config.get(\"rules\");\n    if (!rules) {\n      const modal = await this.modalController.create({\n        component: RulesPage,\n        cssClass: \"vertical-modal\",\n        backdropDismiss: false,\n      });\n      return await modal.present();\n    }\n  }\n\n  async ngOnInit() {\n    await this.getStories();\n    await this.getPages();\n    await this.getPosts();\n\n    const id = this.route.snapshot.paramMap.get(\"id\");\n    if (id) {\n      try {\n        const story = await this.storySvc.getStory(+id);\n\n        if (story.type === \"story\") {\n          this.storySvc.showStoriesModal([story]);\n        } else {\n          this.storySvc.showPostModal(story);\n        }\n      } catch (e) {\n        console.error(\"Historia no encontrada\");\n      }\n    }\n\n    this.loading = false;\n  }\n\n  async getStories() {\n    let stories = await this.storySvc.getStories();\n    this.stories = this.storySvc.orderStories(stories);\n  }\n\n  async getPages() {\n    this.pages = await this.pageSvc.getPages(2);\n  }\n\n  async getPosts() {\n    this.posts = await this.storySvc.getPosts();\n  }\n\n  async getMorePosts(event) {\n    this.page++;\n    const posts = await this.storySvc.getPosts(this.page);\n    this.posts = [...this.posts, ...posts];\n\n    event.target.complete();\n\n    if (posts.length === 0) {\n      event.target.disabled = true;\n      return;\n    }\n  }\n\n  async newStory() {\n    const modal = await this.modalController.create({\n      component: StoryModal,\n      keyboardClose: true,\n      showBackdrop: true,\n      cssClass: \"vertical-modal\",\n    });\n\n    await modal.present();\n    await modal.onDidDismiss();\n    await this.getStories();\n  }\n\n  async newPost() {\n    const modal = await this.modalController.create({\n      component: PostModal,\n      keyboardClose: true,\n      showBackdrop: true,\n      cssClass: \"vertical-modal\",\n    });\n\n    await modal.present();\n    await modal.onDidDismiss();\n    await this.getPosts();\n  }\n\n  showPages() {\n    this.router.navigate([\"/pages\"]);\n  }\n\n  showPage(id: number) {\n    this.router.navigate([\"/page\", id]);\n  }\n\n  search() {\n    this.router.navigate([\"/search\"]);\n  }\n\n  editProfile() {\n    this.nav.navigateRoot(\"/edit-profile\");\n  }\n\n  removePost(post: Story) {\n    this.posts = this.posts.filter((p) => p.id !== post.id);\n  }\n}\n","<ion-header class=\"ion-no-border\">\n  <ion-progress-bar type=\"indeterminate\" *ngIf=\"loading\"></ion-progress-bar>\n  <ion-progress-bar\n    type=\"determinate\"\n    color=\"dark\"\n    *ngIf=\"!loading\"\n  ></ion-progress-bar>\n  <ion-toolbar>\n    <ion-title>\n      <ion-icon name=\"compass\"></ion-icon>\n      <ion-label>{{ \"explorar\" | i18n }}</ion-label>\n    </ion-title>\n    <ion-buttons slot=\"end\" id=\"search\">\n      <ion-button shape=\"round\" (click)=\"search()\">\n        <ion-label>{{ \"search\" | i18n }}</ion-label>\n        <ion-icon slot=\"end\" name=\"search\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-item lines=\"none\" detail=\"false\" class=\"section-header\">\n    <ion-label color=\"light\">\n      <h2 class=\"section\">\n        <ion-text color=\"ligth\">{{ \"historias-frikis\" | i18n }}</ion-text>\n      </h2>\n    </ion-label>\n  </ion-item>\n  <section id=\"stories\">\n    <app-story-slider\n      [stories]=\"stories\"\n      (refresh)=\"getStories()\"\n    ></app-story-slider>\n  </section>\n\n  <section id=\"pages\" *ngIf=\"pages?.length\">\n    <ion-item\n      lines=\"none\"\n      (click)=\"showPages()\"\n      button\n      detail=\"false\"\n      class=\"section-header\"\n    >\n      <ion-label color=\"light\">\n        <h2 class=\"section\">\n          <ion-text color=\"ligth\"> {{ \"pginas\" | i18n }} </ion-text>\n        </h2>\n        <p class=\"subtitle\">\n          <ion-text color=\"ligth\">\n            {{ \"conoce-personas-con-que-compartes\" | i18n }}\n          </ion-text>\n        </p>\n      </ion-label>\n      <ion-icon\n        md=\"arrow-forward\"\n        ios=\"chevron-forward\"\n        slot=\"end\"\n        color=\"light\"\n      ></ion-icon>\n    </ion-item>\n    <ion-list>\n      <ion-item\n        button\n        detail=\"false\"\n        *ngFor=\"let page of pages\"\n        lines=\"none\"\n        (click)=\"showPage(page.slug)\"\n      >\n        <ion-thumbnail slot=\"start\">\n          <img\n            [src]=\"page.cover\"\n            [alt]=\"page.name\"\n            default=\"/assets/img/pages/default-games-page.jpg\"\n          />\n        </ion-thumbnail>\n        <ion-label>\n          <h2>{{page.name}}</h2>\n          <p>#{{page.slug}}</p>\n        </ion-label>\n        <ion-badge slot=\"end\" mode=\"ios\"> {{page.likes}} </ion-badge>\n      </ion-item>\n    </ion-list>\n  </section>\n\n  <section id=\"posts\" *ngIf=\"posts?.length\">\n    <ion-item lines=\"none\" detail=\"false\" class=\"section-header\">\n      <ion-label color=\"light\">\n        <h2 class=\"section\">\n          <ion-text color=\"ligth\">{{ \"posts\" | i18n }}</ion-text>\n        </h2>\n      </ion-label>\n    </ion-item>\n    <app-post\n      *ngFor=\"let post of posts\"\n      [post]=\"post\"\n      (deletePost)=\"removePost($event)\"\n    ></app-post>\n    <ion-infinite-scroll (ionInfinite)=\"getMorePosts($event)\" position=\"top\">\n      <ion-infinite-scroll-content loadingSpinner=\"dots\">\n      </ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n  </section>\n</ion-content>\n<ion-fab slot=\"fixed\" horizontal=\"end\" vertical=\"bottom\">\n  <ion-fab-button color=\"primary\" (click)=\"newPost()\">\n    <ion-icon name=\"add\"></ion-icon>\n  </ion-fab-button>\n</ion-fab>\n","import { Injectable } from \"@angular/core\";\nimport { Animation, AnimationController } from \"@ionic/angular\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class AnimateService {\n  constructor(private animationCtrl: AnimationController) {}\n\n  animateSections(\n    selector: string,\n    duration: number,\n    delayBetweenItems: number,\n    easing?: string\n  ): void {\n    const animationArray: Animation[] = [];\n    const elemArray = document.querySelectorAll(selector);\n    for (let i = 0; i <= elemArray.length; i++) {\n      // console.log('aqui: ', elemArray[i]);\n      const animation: Animation = this.animationCtrl\n        .create()\n        .addElement(elemArray[i])\n        .easing(easing ? easing : \"cubic-bezier(0.55, 0, 1, 0.45)\")\n        .duration(duration)\n        .delay(i * delayBetweenItems)\n        .fromTo(\"opacity\", \"0\", \"1\");\n      // .fromTo(\"width\", \"0\", \"100%\");\n      animationArray.push(animation);\n    }\n    animationArray.forEach((animation: Animation) => {\n      animation.play();\n    });\n  }\n}\n"],"names":["CommonModule","FormsModule","RouterModule","IonicModule","SharedModule","ExplorePage","routes","path","component","ExplorePageModule","forChild","declarations","imports","i1","ActivatedRoute","Router","ConfigService","AuthService","AnimateService","StoryModal","ModalController","StoryService","RulesPage","NavService","PostModal","PageService","i0","ɵɵelement","ɵɵelementStart","ɵɵlistener","ExplorePage_section_24_ion_item_13_Template_ion_item_click_0_listener","page_r4","ɵɵrestoreView","_r3","$implicit","ctx_r1","ɵɵnextContext","ɵɵresetView","showPage","slug","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","cover","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","ɵɵtextInterpolate1","likes","ExplorePage_section_24_Template_ion_item_click_1_listener","_r1","showPages","ɵɵtemplate","ExplorePage_section_24_ion_item_13_Template","ɵɵpipeBind1","pages","ExplorePage_section_25_app_post_7_Template_app_post_deletePost_0_listener","$event","_r6","removePost","post_r7","ExplorePage_section_25_app_post_7_Template","ExplorePage_section_25_Template_ion_infinite_scroll_ionInfinite_8_listener","_r5","getMorePosts","posts","constructor","router","route","auth","config","animate","storySvc","modalController","nav","pageSvc","loading","page","ngAfterViewInit","_this","_asyncToGenerator","animateSections","rules","get","modal","create","cssClass","backdropDismiss","present","ngOnInit","_this2","getStories","getPages","getPosts","id","snapshot","paramMap","story","getStory","type","showStoriesModal","showPostModal","e","console","error","_this3","stories","orderStories","_this4","_this5","event","_this6","target","complete","length","disabled","newStory","_this7","keyboardClose","showBackdrop","onDidDismiss","newPost","_this8","navigate","search","editProfile","navigateRoot","post","filter","p","ɵɵdirectiveInject","i2","i3","i4","i5","i6","i7","i8","selectors","decls","vars","consts","template","ExplorePage_Template","rf","ctx","ExplorePage_ion_progress_bar_1_Template","ExplorePage_ion_progress_bar_2_Template","ExplorePage_Template_ion_button_click_10_listener","ExplorePage_Template_app_story_slider_refresh_23_listener","ExplorePage_section_24_Template","ExplorePage_section_25_Template","ExplorePage_Template_ion_fab_button_click_27_listener","AnimationController","animationCtrl","selector","duration","delayBetweenItems","easing","animationArray","elemArray","document","querySelectorAll","i","animation","addElement","delay","fromTo","push","forEach","play","ɵɵinject","factory","ɵfac","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}