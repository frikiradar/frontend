{"version":3,"file":"main.js","mappings":"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C,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;;;;;;;;;;;ACblC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/audio-player/audio-player.component.ts","./src/app/chat-date.pipe.ts","./src/app/chat/chat-input/chat-input.component.ts","./src/app/chat/chat-list/chat-list.component.ts","./src/app/chat/chat-modal/chat-modal.component.ts","./src/app/credits/credits.modal.ts","./src/app/cropper/cropper.modal.ts","./src/app/events/event-modal/event.modal.ts","./src/app/guards/admin.guard.ts","./src/app/guards/auth.guard.ts","./src/app/guards/tab.guard.ts","./src/app/hashtag.pipe.ts","./src/app/mentions.pipe.ts","./src/app/nice-date.pipe.ts","./src/app/options-popover/options-popover.ts","./src/app/radar/request-geolocation-modal/request-geolocation.modal.ts","./src/app/rules/rules.page.ts","./src/app/services/admin.service.ts","./src/app/services/auth.service.ts","./src/app/services/chat.service.ts","./src/app/services/config.service.ts","./src/app/services/device.service.ts","./src/app/services/event.service.ts","./src/app/services/navigation.service.ts","./src/app/services/notification.service.ts","./src/app/services/push.service.ts","./src/app/services/rest.service.ts","./src/app/services/room.service.ts","./src/app/services/story.service.ts","./src/app/services/sw.service.ts","./src/app/services/upload.service.ts","./src/app/services/url.service.ts","./src/app/services/user.service.ts","./src/app/services/utils.service.ts","./src/app/shared/image-preload.directive.ts","./src/app/shared/shared.module.ts","./src/app/story/comment-likes/comment-likes.modal.ts","./src/app/story/story-modal/story.modal.ts","./src/app/story/view-stories/view-stories.modal.ts","./src/app/webcam/webcam.modal.ts","./src/environments/environment.ts","./src/helpers/error.interceptor.ts","./src/helpers/ionicgesture.config.ts","./src/helpers/jwt.interceptor.ts","./src/main.ts","./node_modules/@ionic/core/dist/esm|lazy|/^\\.\\/.*\\.entry\\.js$/|include: /\\.entry\\.js$/|exclude: /\\.system\\.entry\\.js$/|groupOptions: {}|namespace object"],"sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { AdminGuard } from \"./guards/admin.guard\";\nimport { AuthGuard } from \"./guards/auth.guard\";\nimport { TabGuard } from \"./guards/tab.guard\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    loadChildren: () =>\n      import(\"./tabs/tabs.module\").then(m => m.TabsPageModule),\n    canActivate: [AuthGuard, TabGuard]\n  },\n  {\n    path: \"login\",\n    loadChildren: () =>\n      import(\"./login/login.module\").then(m => m.LoginPageModule)\n  },\n  {\n    path: \"edit-profile\",\n    loadChildren: () =>\n      import(\"./edit-profile/edit-profile.module\").then(\n        m => m.EditProfilePageModule\n      )\n  },\n  {\n    path: \"profile\",\n    loadChildren: () =>\n      import(\"./profile/profile.module\").then(m => m.ProfilePageModule)\n  },\n  {\n    path: \"profile/:id\",\n    loadChildren: () =>\n      import(\"./profile/profile.module\").then(m => m.ProfilePageModule)\n  },\n  {\n    path: \"notification\",\n    loadChildren: () =>\n      import(\"./notification/notification.module\").then(\n        m => m.NotificationPageModule\n      )\n  },\n  {\n    path: \"chat\",\n    loadChildren: () => import(\"./chat/chat.module\").then(m => m.ChatPageModule)\n  },\n  {\n    path: \"chat/:id\",\n    loadChildren: () => import(\"./chat/chat.module\").then(m => m.ChatPageModule)\n  },\n  {\n    path: \"rooms\",\n    loadChildren: () =>\n      import(\"./room/rooms/rooms.module\").then(m => m.RoomsPageModule)\n  },\n  {\n    path: \"room/:slug\",\n    loadChildren: () => import(\"./room/room.module\").then(m => m.RoomPageModule)\n  },\n  {\n    path: \"search\",\n    loadChildren: () =>\n      import(\"./search/search.module\").then(m => m.SearchPageModule)\n  },\n  {\n    path: \"search/:query\",\n    loadChildren: () =>\n      import(\"./search/search.module\").then(m => m.SearchPageModule)\n  },\n  {\n    path: \"settings\",\n    loadChildren: () =>\n      import(\"./settings/settings.module\").then(m => m.SettingsPageModule)\n  },\n  {\n    path: \"admin\",\n    loadChildren: () =>\n      import(\"./admin/admin.module\").then(m => m.AdminPageModule),\n    canActivate: [AdminGuard]\n  },\n  {\n    path: \"story\",\n    loadChildren: () =>\n      import(\"./story/story.module\").then(m => m.StoryPageModule)\n  },\n  {\n    path: \"page/:slug\",\n    loadChildren: () =>\n      import(\"./pages/page/page.module\").then(m => m.PagePageModule)\n  },\n  {\n    path: \"pages\",\n    loadChildren: () =>\n      import(\"./pages/pages.module\").then(m => m.PagesPageModule)\n  },\n  {\n    path: \"ambassador\",\n    loadChildren: () =>\n      import(\"./ambassador/ambassador.module\").then(m => m.AmbassadorPageModule)\n  },\n  {\n    path: \"patreon\",\n    loadChildren: () =>\n      import(\"./patreon/patreon.module\").then(m => m.PatreonPageModule),\n    canActivate: [AuthGuard]\n  },\n  {\n    path: \"patreon/\",\n    loadChildren: () =>\n      import(\"./patreon/patreon.module\").then(m => m.PatreonPageModule),\n    canActivate: [AuthGuard]\n  },\n  {\n    path: \"rules\",\n    loadChildren: () =>\n      import(\"./rules/rules.module\").then(m => m.RulesPageModule)\n  },\n  {\n    path: \"event/:id\",\n    loadChildren: () =>\n      import(\"./events/event/event.module\").then(m => m.EventPageModule)\n  },\n  {\n    path: \":id\",\n    loadChildren: () =>\n      import(\"./profile/profile.module\").then(m => m.ProfilePageModule)\n  }\n];\n@NgModule({\n  imports: [\n    RouterModule.forRoot(routes, {\n      relativeLinkResolution: \"legacy\",\n      useHash: false\n    })\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule {}\n","import { Component } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { AppVersion } from \"@ionic-native/app-version/ngx\";\nimport { LaunchReview } from \"@ionic-native/launch-review/ngx\";\nimport { Network } from \"@ionic-native/network/ngx\";\nimport { SplashScreen } from \"@ionic-native/splash-screen/ngx\";\nimport { AlertController, Platform, ToastController } from \"@ionic/angular\";\nimport {\n  CodePush,\n  InstallMode,\n  SyncOptions\n} from \"@ionic-native/code-push/ngx\";\n\nimport { User } from \"./models/user\";\nimport { AuthService } from \"./services/auth.service\";\nimport { Config, ConfigService } from \"./services/config.service\";\nimport { UtilsService } from \"./services/utils.service\";\nimport { PushService } from \"./services/push.service\";\nimport { NavService } from \"./services/navigation.service\";\nimport { SwService } from \"./services/sw.service\";\n\n@Component({\n  selector: \"app-root\",\n  templateUrl: \"app.component.html\"\n})\nexport class AppComponent {\n  currentUser: User;\n  alertNetwork: HTMLIonAlertElement;\n  public internet = true;\n\n  constructor(\n    private auth: AuthService,\n    private alert: AlertController,\n    private router: Router,\n    private network: Network,\n    private splashScreen: SplashScreen,\n    private platform: Platform,\n    private utils: UtilsService,\n    private config: ConfigService,\n    private launchReview: LaunchReview,\n    private appVersion: AppVersion,\n    private push: PushService,\n    private codePush: CodePush,\n    private nav: NavService,\n    private sw: SwService,\n    private toast: ToastController,\n    private toastUpdate: ToastController\n  ) {\n    this.initializeApp();\n  }\n\n  async initializeApp() {\n    this.platform.ready().then(async () => {\n      if (this.platform.is(\"cordova\")) {\n        this.push.init();\n        this.splashScreen.hide();\n        this.checkCodePush();\n      } else {\n        if (this.auth.currentUserValue && this.auth.currentUserValue.id) {\n          this.push.init();\n        }\n        this.sw.init();\n      }\n\n      this.loadConfig();\n      this.networkStatus();\n      this.nav.backButtonStatus();\n\n      // Obtenemos tema en configuración local. Si no hay le mandamos el dark\n      let theme = (await this.config.get(\"theme\")) as Config[\"theme\"];\n      if (!theme) {\n        theme = \"dark\";\n      }\n      this.utils.toggleTheme(theme);\n\n      if (this.auth.currentUserValue && this.auth.currentUserValue.id) {\n        const user = await this.auth.getAuthUser();\n        this.auth.setAuthUser(user);\n        // Contar veces abierto\n        this.countOpenTimes();\n      } else {\n        // this.betaAdvertisement();\n      }\n    });\n  }\n\n  async networkStatus() {\n    this.network.onConnect().subscribe(async () => {\n      if (!this.internet) {\n        (\n          await this.toast.create({\n            message: \"¡Conexión a internet restablecida!\",\n            duration: 2000,\n            position: \"bottom\",\n            color: \"success\"\n          })\n        ).present();\n        this.internet = true;\n      }\n    });\n\n    this.network.onDisconnect().subscribe(async () => {\n      (\n        await this.toast.create({\n          message: \"¡Te has quedado sin internet!\",\n          duration: 5000,\n          position: \"bottom\",\n          color: \"danger\"\n        })\n      ).present();\n      this.internet = false;\n    });\n  }\n\n  checkCodePush() {\n    let syncOptions: SyncOptions;\n    if (this.auth.isAdmin()) {\n      syncOptions = {\n        updateDialog: {\n          updateTitle: \"¡Nueva actualización!\",\n          optionalUpdateMessage:\n            \"Hay una actualización disponible. ¿Quieres actualizar?\",\n          mandatoryUpdateMessage:\n            \"Hay una actualización obligatoria disponible\",\n          descriptionPrefix: \"\",\n          mandatoryContinueButtonLabel: \"Instalar\",\n          optionalIgnoreButtonLabel: \"Más tarde\",\n          optionalInstallButtonLabel: \"Instalar\",\n          appendReleaseDescription: false\n        },\n        installMode: InstallMode.IMMEDIATE\n      };\n    } else {\n      syncOptions = {\n        updateDialog: false,\n        installMode: InstallMode.ON_NEXT_RESTART\n      };\n    }\n\n    this.codePush.sync(syncOptions).subscribe(\n      async data => {\n        console.log(\"CODE PUSH SUCCESSFUL: \" + data);\n      },\n      err => {\n        console.log(\"CODE PUSH ERROR: \" + err);\n      }\n    );\n  }\n\n  async countOpenTimes() {\n    const config = await this.config.getConfig();\n    this.config.setConfig(config);\n    let openTimes: number;\n    if (config) {\n      openTimes = config.openTimes ? ++config.openTimes : 1;\n    } else {\n      openTimes = this.auth.currentUserValue.num_logins++;\n    }\n    this.config.set(\"openTimes\", openTimes);\n\n    if (openTimes === 7) {\n      const alert = await this.alert.create({\n        header: \"¡Conviértete en embajador 🐲!\",\n        message:\n          \"Únete al Patreon de embajadores de FrikiRadar y conseguirás ventajas exclusivas. ¡Infórmate!\",\n        buttons: [\n          {\n            text: \"¡Quiero informarme!\",\n            handler: async () => {\n              this.router.navigate([\"/ambassador\"]);\n            }\n          }\n        ],\n        cssClass: \"round-alert\"\n      });\n\n      await alert.present();\n    } else if (\n      openTimes >= 3 &&\n      !config.review &&\n      this.platform.is(\"cordova\")\n    ) {\n      const alert = await this.alert.create({\n        header: \"¡Únete a la batalla!\",\n        message:\n          \"¿Qué te parece FrikiRadar? Déjanos tu valoración de 5 estrellas y una sugerencia para que cada vez más personas formen parte de esta gran comunidad.\",\n        backdropDismiss: false,\n        buttons: [\n          {\n            text: \"Sí, ¡cuenta conmigo! 🏹\",\n            handler: () => {\n              config.review = true;\n              this.config.setConfig(config);\n              if (this.launchReview.isRatingSupported()) {\n                this.launchReview.rating().toPromise().then();\n              } else {\n                this.launchReview.launch();\n              }\n            }\n          },\n          {\n            text: \"La próxima vez mejor 🙏\"\n          },\n          {\n            text: \"Mmm, mejor no 🙈\",\n            handler: () => {\n              config.review = true;\n              this.config.setConfig(config);\n            }\n          }\n        ],\n        cssClass: \"round-alert\"\n      });\n\n      await alert.present();\n    }\n  }\n\n  async betaAdvertisement() {\n    const alert = await this.alert.create({\n      header: \"¡Con tu ayuda seguiremos creciendo!\",\n      message:\n        \"FrikiRadar acaba de comenzar su andadura y aún le queda un largo camino por delante. Por eso agradecemos tu ayuda dando a conocer FrikiRadar y compartiendo con tus amigos.\",\n      buttons: [\n        {\n          text: \"¡Compartir!\",\n          handler: () => {\n            this.utils.share();\n          }\n        }\n      ],\n      cssClass: \"round-alert\"\n    });\n\n    await alert.present();\n  }\n\n  async loadConfig() {\n    const maintenanceAlert = await this.alert.create({\n      header: \"En mantenimiento\",\n      message:\n        \"😅 Ups... Estamos haciendo ajustes en nuestros servidores. Por favor, regresa en unos minutos. No te preocupes, todo continuará tal y como estaba.\",\n      backdropDismiss: false,\n      buttons: [\n        {\n          text: \"Oki doki\",\n          handler: () => {\n            if (this.platform.is(\"cordova\")) {\n              navigator[\"app\"].exitApp();\n            } else {\n              window.open(\"\", \"_parent\", \"\");\n              window.close();\n            }\n          }\n        }\n      ],\n      cssClass: \"round-alert\"\n    });\n\n    try {\n      const config = await this.config.getConfig(true);\n      if (this.platform.is(\"cordova\")) {\n        let version = +(await this.appVersion.getVersionNumber()).replace(\n          \".\",\n          \"\"\n        );\n        // Debe tener 3 digitos, por eso mayor o igual a 100\n        version = version >= 100 ? version : version * 10;\n\n        if (version < +config.min_version) {\n          const versionAlert = await this.alert.create({\n            header: \"Versión obsoleta\",\n            message:\n              \"La versión de FrikiRadar que tienes instalada no soporta las últimas funcionalidades. Es necesario actualizar la app para seguir utilizándola.\",\n            backdropDismiss: false,\n            buttons: [\n              {\n                text: \"ACTUALIZAR\",\n                handler: () => {\n                  this.launchReview.launch().then();\n                }\n              }\n            ],\n            cssClass: \"round-alert\"\n          });\n\n          versionAlert.present();\n        } else {\n          const oldVersion = await this.config.get(\"version\");\n          if (+version > (!Number.isNaN(oldVersion) ? +oldVersion : 0)) {\n            this.config.set(\"version\", version);\n          }\n        }\n      } else if (config.maintenance) {\n        maintenanceAlert.present();\n      }\n    } catch (e) {\n      maintenanceAlert.present();\n    }\n  }\n}\n","import { registerLocaleData } from \"@angular/common\";\nimport { HTTP_INTERCEPTORS, HttpClientModule } from \"@angular/common/http\";\nimport localeEs from \"@angular/common/locales/es\";\nimport { LOCALE_ID, NgModule } from \"@angular/core\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport {\n  BrowserModule,\n  HAMMER_GESTURE_CONFIG,\n  HammerModule,\n} from \"@angular/platform-browser\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { RouteReuseStrategy } from \"@angular/router\";\nimport { AndroidPermissions } from \"@ionic-native/android-permissions/ngx\";\nimport { AppVersion } from \"@ionic-native/app-version/ngx\";\nimport { Clipboard } from \"@ionic-native/clipboard/ngx\";\nimport { Device } from \"@ionic-native/device/ngx\";\nimport { Diagnostic } from \"@ionic-native/diagnostic/ngx\";\nimport { Geolocation } from \"@ionic-native/geolocation/ngx\";\nimport { WebView } from \"@ionic-native/ionic-webview/ngx\";\nimport { Keyboard } from \"@ionic-native/keyboard/ngx\";\nimport { LaunchReview } from \"@ionic-native/launch-review/ngx\";\nimport { LocalNotifications } from \"@ionic-native/local-notifications/ngx\";\nimport { LocationAccuracy } from \"@ionic-native/location-accuracy/ngx\";\nimport { Network } from \"@ionic-native/network/ngx\";\nimport { SocialSharing } from \"@ionic-native/social-sharing/ngx\";\nimport { SplashScreen } from \"@ionic-native/splash-screen/ngx\";\nimport { StatusBar } from \"@ionic-native/status-bar/ngx\";\nimport { Vibration } from \"@ionic-native/vibration/ngx\";\nimport { IonicModule, IonicRouteStrategy } from \"@ionic/angular\";\nimport { BrowserTab } from \"@ionic-native/browser-tab/ngx\";\nimport { InAppBrowser } from \"@ionic-native/in-app-browser/ngx\";\nimport { LinkyModule } from \"ngx-linky\";\nimport { PickerModule } from \"@ctrl/ngx-emoji-mart\";\nimport { NgxIonicImageViewerModule } from \"ngx-ionic-image-viewer\";\nimport { FirebaseX } from \"@ionic-native/firebase-x/ngx\";\nimport { ImageCropperModule } from \"ngx-image-cropper\";\nimport { AngularFireModule } from \"@angular/fire/compat\";\nimport { AngularFireMessagingModule } from \"@angular/fire/compat/messaging/\";\nimport { WebcamModule } from \"ngx-webcam\";\nimport {\n  ServiceWorkerModule,\n  SwRegistrationOptions,\n} from \"@angular/service-worker\";\nimport { Media } from \"@ionic-native/media/ngx\";\nimport { File as NativeFile } from \"@ionic-native/file/ngx\";\nimport { CodePush } from \"@ionic-native/code-push/ngx\";\n\nimport { IonicGestureConfig } from \"src/helpers/ionicgesture.config\";\nimport { environment } from \"../environments/environment\";\nimport { ErrorInterceptor } from \"../helpers/error.interceptor\";\nimport { JwtInterceptor } from \"../helpers/jwt.interceptor\";\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { AppComponent } from \"./app.component\";\nimport { SharedModule } from \"./shared/shared.module\";\nimport { OptionsPopover } from \"./options-popover/options-popover\";\n\n// registrar los locales con el nombre que quieras utilizar a la hora de proveer\nregisterLocaleData(localeEs, \"es\");\n\n@NgModule({\n  declarations: [AppComponent, OptionsPopover],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot({ animated: true }),\n    PickerModule,\n    AppRoutingModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    SharedModule,\n    BrowserAnimationsModule,\n    LinkyModule,\n    HammerModule,\n    NgxIonicImageViewerModule,\n    ImageCropperModule,\n    ServiceWorkerModule.register(\"ngsw-worker.js\", {\n      enabled: true,\n    }),\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireMessagingModule,\n    WebcamModule,\n  ],\n  providers: [\n    StatusBar,\n    { provide: RouteReuseStrategy, useClass: IonicRouteStrategy },\n    { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\n    { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\n    { provide: LOCALE_ID, useValue: \"es\" },\n    { provide: HAMMER_GESTURE_CONFIG, useClass: IonicGestureConfig },\n    {\n      provide: SwRegistrationOptions,\n      useFactory: () => ({ enabled: environment.production }),\n    },\n    Device,\n    Network,\n    Vibration,\n    Geolocation,\n    SplashScreen,\n    Clipboard,\n    LaunchReview,\n    Keyboard,\n    LocalNotifications,\n    AndroidPermissions,\n    SocialSharing,\n    AppVersion,\n    WebView,\n    Diagnostic,\n    LocationAccuracy,\n    BrowserTab,\n    InAppBrowser,\n    FirebaseX,\n    Media,\n    NativeFile,\n    CodePush,\n  ],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Howl } from \"howler\";\nimport { Component, Input, OnInit, ViewChild } from \"@angular/core\";\nimport { IonRange } from \"@ionic/angular\";\n\nimport { UtilsService } from \"../services/utils.service\";\n\n@Component({\n  selector: \"audio-player\",\n  templateUrl: \"./audio-player.component.html\",\n  styleUrls: [\"./audio-player.component.scss\"]\n})\nexport class AudioPlayerComponent implements OnInit {\n  @Input() src: string;\n\n  private player: Howl = null;\n  public downloading = false;\n  public downloaded = false;\n  public isPlaying = false;\n  public progress = 0;\n  public duration = 0;\n  public timeDuration: string;\n  public timeProgress: string;\n  @ViewChild(\"range\", { static: false }) range: IonRange;\n\n  constructor(private utils: UtilsService) {}\n\n  ngOnInit() {}\n\n  download() {\n    this.downloading = true;\n    this.start();\n  }\n\n  async start() {\n    if (this.player) {\n      this.player.stop();\n    }\n    const src = await this.utils.getDataURI(this.src);\n    this.player = new Howl({\n      src,\n      html5: true,\n      onplay: () => {\n        this.isPlaying = true;\n        this.updateProgress();\n      },\n      onend: () => {\n        this.isPlaying = false;\n        this.progress = 0;\n      }\n    });\n\n    setTimeout(() => {\n      this.duration = this.player.duration();\n      this.timeDuration = this.timeToString(this.duration);\n      this.timeProgress = this.timeDuration;\n      this.downloading = false;\n      this.downloaded = true;\n    }, 2000);\n  }\n\n  togglePlayer(pause: boolean) {\n    if (!this.player) {\n      return;\n    }\n    this.isPlaying = !pause;\n    if (pause) {\n      this.player.pause();\n    } else {\n      this.player.play();\n      this.duration = this.player.duration();\n    }\n  }\n\n  seek() {\n    let newValue = this.range.value as number;\n    this.player.seek(this.duration * (newValue / 100));\n  }\n\n  updateProgress() {\n    let seek = this.player.seek();\n    this.progress = (seek / this.player.duration()) * 100 || 0;\n    this.timeProgress = this.timeToString(seek);\n    setTimeout(() => {\n      if (this.isPlaying) {\n        this.updateProgress();\n      }\n    }, 100);\n  }\n\n  timeToString(time: number): string {\n    const duration = Math.round(time);\n    const minutes = Math.floor(duration / 60);\n    const seconds = duration - minutes * 60;\n    let minutesString = \"\" + minutes;\n    if (minutes < 10) {\n      minutesString = \"0\" + minutesString;\n    }\n    let secondsString = \"\" + seconds;\n    if (seconds < 10) {\n      secondsString = \"0\" + seconds;\n    }\n\n    return minutesString + \":\" + secondsString;\n  }\n}\n","import { DatePipe } from \"@angular/common\";\nimport { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"chatDate\"\n})\nexport class ChatDatePipe implements PipeTransform {\n  transform(value: string) {\n    return convertToChatDate(value);\n  }\n}\n\nfunction convertToChatDate(time: string) {\n  const date = new Date(time);\n  const datePipe = new DatePipe(\"es-ES\");\n  const today = new Date();\n  const diff = (new Date().getTime() - date.getTime()) / 1000;\n\n  const daydiff = Math.floor(\n    (Date.UTC(today.getFullYear(), today.getMonth(), today.getDate()) -\n      Date.UTC(date.getFullYear(), date.getMonth(), date.getDate())) /\n      (1000 * 60 * 60 * 24)\n  );\n\n  return (\n    (daydiff === 0 &&\n      ((diff < 300 && \"Ahora mismo\") ||\n        (diff >= 300 && \"Hoy, \" + datePipe.transform(time, \"HH:mm\")))) ||\n    (daydiff === 1 && \"Ayer, \" + datePipe.transform(time, \"HH:mm\")) ||\n    (daydiff < 8 &&\n      \"Hace \" + daydiff + \" días, \" + datePipe.transform(time, \"HH:mm\")) ||\n    (daydiff < 30 &&\n      datePipe.transform(\n        time,\n        \"d 'de' MMMM', '\" + datePipe.transform(time, \"HH:mm\")\n      )) ||\n    datePipe.transform(\n      time,\n      \"d MMM 'de' yyyy', '\" + datePipe.transform(time, \"HH:mm\")\n    )\n  );\n}\n","/// <reference types=\"@types/dom-mediacapture-record\" />\n\nimport {\n  Component,\n  Output,\n  ViewChild,\n  EventEmitter,\n  Input,\n  SimpleChanges,\n  ElementRef\n} from \"@angular/core\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators\n} from \"@angular/forms\";\nimport { Keyboard } from \"@ionic-native/keyboard/ngx\";\nimport { ActionSheetController, IonTextarea, Platform } from \"@ionic/angular\";\nimport { AndroidPermissions } from \"@ionic-native/android-permissions/ngx\";\nimport { DomSanitizer, SafeUrl } from \"@angular/platform-browser\";\nimport { Media, MediaObject } from \"@ionic-native/media/ngx\";\nimport { File as NativeFile, FileEntry } from \"@ionic-native/file/ngx\";\nimport { WebView } from \"@ionic-native/ionic-webview/ngx\";\n\nimport { Chat } from \"src/app/models/chat\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { UserService } from \"src/app/services/user.service\";\nimport { User } from \"src/app/models/user\";\n\n@Component({\n  selector: \"app-chat-input\",\n  templateUrl: \"./chat-input.component.html\",\n  styleUrls: [\"./chat-input.component.scss\"]\n})\nexport class ChatInputComponent {\n  @Output() onWriting: EventEmitter<boolean> = new EventEmitter();\n  @Output() onSubmit: EventEmitter<Chat> = new EventEmitter();\n  @Output() editingChange: EventEmitter<boolean> = new EventEmitter(true);\n  @Output() replyingChange: EventEmitter<boolean> = new EventEmitter(true);\n  @Output() onCreateEvent: EventEmitter<void> = new EventEmitter();\n\n  public chatForm: FormGroup;\n  get message() {\n    return this.chatForm.get(\"message\");\n  }\n\n  @ViewChild(\"imageInput\", { static: false })\n  imageInput: ElementRef;\n  @ViewChild(\"player\", { static: false })\n  player: ElementRef;\n\n  public emojis: boolean = false;\n  public image: string;\n  public imagePreview: SafeUrl;\n  private mediaRecorder: MediaRecorder;\n  public recording: boolean = false;\n  public countRecordingString = \"0m 0s\";\n  private countInterval: any;\n  public recorded: boolean = false;\n  public audio: string;\n  public audioPreview: SafeUrl;\n  private audioMedia: MediaObject;\n  private audioFile: FileEntry;\n\n  @Input() replying: boolean = false;\n  @Input() editing = false;\n  @Input() selectedMessage: Chat;\n  @Input() mentions: boolean;\n  @Input() events: boolean;\n  @Input() microphone: boolean;\n\n  @ViewChild(\"textarea\", { static: false })\n  textarea: IonTextarea;\n  private inputAt = false;\n  private mention: string;\n  public userMentions: User[\"username\"][] = [];\n  public usernames: User[];\n  private writing = false;\n\n  constructor(\n    public formBuilder: FormBuilder,\n    public auth: AuthService,\n    public keyboard: Keyboard,\n    public platform: Platform,\n    private androidPermissions: AndroidPermissions,\n    public sheet: ActionSheetController,\n    public utils: UtilsService,\n    private userSvc: UserService,\n    private sanitizer: DomSanitizer,\n    private file: NativeFile,\n    private webview: WebView,\n    private media: Media\n  ) {\n    this.chatForm = formBuilder.group({\n      message: new FormControl(\"\", [Validators.required])\n    });\n  }\n\n  onPaste(event: ClipboardEvent) {\n    console.log(event);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    // console.log(changes);\n    if (\n      changes[\"editing\"] &&\n      !changes[\"editing\"].firstChange &&\n      changes[\"editing\"].currentValue\n    ) {\n      if (this.replying) {\n        this.closeReplying();\n      }\n      this.message.setValue(this.selectedMessage.text);\n      this.focusTextArea();\n    }\n\n    if (\n      changes[\"replying\"] &&\n      !changes[\"replying\"].firstChange &&\n      changes[\"replying\"].currentValue\n    ) {\n      if (this.editing) {\n        this.closeEdit();\n      }\n      this.focusTextArea();\n    }\n\n    if (changes[\"selectedMessage\"] && !changes[\"selectedMessage\"].firstChange) {\n      if (this.editing) {\n        this.closeEdit();\n      }\n      if (this.replying) {\n        this.closeReplying();\n      }\n    }\n  }\n\n  openEmojis() {\n    this.keyboard.setKeyboardStyle;\n    this.emojis = !this.emojis;\n\n    if (this.emojis) {\n      if (this.platform.is(\"cordova\")) {\n        this.keyboard.hide();\n      }\n    } else {\n      this.focusTextArea();\n    }\n  }\n\n  addEmoji(event: any) {\n    this.message.setValue(\n      (this.message.value ? this.message.value : \"\") + event.emoji.native\n    );\n  }\n\n  closeEdit() {\n    this.editing = false;\n    this.message.setValue(\"\");\n    this.editingChange.emit(this.editing);\n  }\n\n  closeReplying() {\n    this.replying = false;\n    this.replyingChange.emit(this.replying);\n  }\n\n  sendMessage() {\n    this.recorded = false;\n    this.emojis = false;\n\n    const message = {\n      text: this.message.value ? this.message.value.trim() : \"\",\n      image: this.image,\n      audio: this.audio,\n      mentions: this.userMentions\n    };\n\n    this.onSubmit.emit(message);\n    this.message.setValue(\"\");\n    this.audioMedia?.release();\n    this.image = \"\";\n    this.audio = \"\";\n    this.focusTextArea();\n  }\n\n  async openPictureSheet() {\n    if (this.platform.is(\"android\") && this.platform.is(\"cordova\")) {\n      await this.androidPermissions.requestPermissions([\n        this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,\n        this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE\n      ]);\n    }\n\n    const actionSheet = await this.sheet.create({\n      header:\n        \"Enviar contenido explícito sin el consentimiento del receptor puede ser motivo de expulsión.\",\n      buttons: [\n        {\n          text: \"Desde la cámara\",\n          icon: \"camera\",\n          handler: async () => {\n            if (this.platform.is(\"cordova\")) {\n              const image = (await this.utils.takePicture(\n                \"camera\",\n                false,\n                \"default\",\n                true\n              )) as string;\n              this.addPicture(image);\n            } else {\n              const image = await this.utils.webcamImage(\"default\");\n              if (!image || typeof image === \"boolean\") {\n                actionSheet.dismiss();\n                return false;\n              }\n              this.addPicture(image);\n            }\n          }\n        },\n        {\n          text: \"Desde la galería\",\n          icon: \"images\",\n          handler: async () => {\n            if (this.platform.is(\"cordova\")) {\n              const image = (await this.utils.takePicture(\n                \"gallery\",\n                false,\n                \"default\",\n                true\n              )) as string;\n              this.addPicture(image);\n            } else {\n              this.imageInput.nativeElement.dispatchEvent(\n                new MouseEvent(\"click\")\n              );\n            }\n          }\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n  async openMic() {\n    if (this.platform.is(\"cordova\")) {\n      if (this.platform.is(\"android\")) {\n        await this.androidPermissions.requestPermissions([\n          this.androidPermissions.PERMISSION.RECORD_AUDIO,\n          this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,\n          this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE\n        ]);\n      }\n\n      try {\n        let path = this.file.dataDirectory;\n        let extension = \"\";\n        if (this.platform.is(\"ios\")) {\n          // path = this.file.dataDirectory;\n          extension = \".m4a\";\n        } else {\n          // path = this.file.dataDirectory;\n          extension = \".mp3\";\n        }\n        const name = `record_${new Date().getTime() + extension}`;\n        this.audioFile = await this.file.createFile(path, name, true);\n        // const audioMediaSrc = this.audioFile.nativeURL.replace(/^file:[\\/]+/, \"\");\n        this.audioMedia = this.media.create(this.audioFile.toInternalURL());\n        this.audioMedia.startRecord();\n        this.recording = true;\n      } catch (error) {\n        console.log(error);\n      }\n    } else if (navigator.mediaDevices) {\n      let chunks = [];\n      navigator.mediaDevices\n        .getUserMedia({ audio: true, video: false })\n        .then(stream => {\n          const tracks = stream.getTracks();\n          this.mediaRecorder = new MediaRecorder(stream);\n          this.mediaRecorder.start();\n          this.recording = true;\n\n          this.mediaRecorder.addEventListener(\"stop\", async error => {\n            this.recording = false;\n            this.recorded = true;\n\n            tracks.forEach(track => {\n              track.stop();\n            });\n\n            const blob = new Blob(chunks, { type: \"audio/ogg; codecs=opus\" });\n            chunks = [];\n            this.audio = URL.createObjectURL(blob);\n            this.audioPreview = this.sanitizer.bypassSecurityTrustUrl(\n              this.audio\n            );\n          });\n\n          this.mediaRecorder.addEventListener(\"dataavailable\", async e => {\n            chunks.push(e.data);\n          });\n        });\n    }\n\n    this.countRecording();\n  }\n\n  async stopMic() {\n    if (this.platform.is(\"cordova\") && this.audioFile) {\n      try {\n        this.audioMedia.stopRecord();\n        this.recording = false;\n        this.recorded = true;\n        await this.utils.delay(200);\n        // this.audioMedia.play();\n        this.audio = this.webview.convertFileSrc(this.audioFile.nativeURL);\n        this.audioPreview = this.sanitizer.bypassSecurityTrustUrl(this.audio);\n      } catch (e) {\n        console.error(e);\n      }\n    } else {\n      this.mediaRecorder.stop();\n      // console.log(this.mediaRecorder.state);\n    }\n\n    this.stopCountRecording();\n  }\n\n  removeRecorded() {\n    this.recorded = false;\n    if (this.platform.is(\"cordova\")) {\n      this.audioMedia?.release();\n    }\n  }\n\n  async addPicture(image: string | Blob) {\n    if (typeof image !== \"string\") {\n      image = await this.utils.fileToBase64(image);\n    }\n    this.image = image;\n    this.imagePreview = this.sanitizer.bypassSecurityTrustUrl(image);\n  }\n\n  setMention(username: string) {\n    this.usernames = [];\n    this.inputAt = false;\n    this.message.setValue(\n      this.message.value.replace(this.mention, `@${username} `)\n    );\n    this.userMentions = [...this.userMentions, username];\n    this.focusTextArea();\n  }\n\n  async setWriting(text: string) {\n    if (this.message.value) {\n      if (this.mentions) {\n        if (text.charAt(text.length - 1) == \"@\") {\n          this.inputAt = true;\n        }\n\n        if (this.inputAt) {\n          const pattern = /\\B@[a-zA-Z0-9-_.À-ÿ\\u00f1\\u00d1 ]+/gi;\n          const matches = text.match(pattern);\n          if (matches) {\n            this.mention = matches[matches.length - 1];\n          }\n        }\n      }\n\n      if (this.writing) {\n        return;\n      }\n      this.writing = true;\n\n      if (!this.editing) {\n        this.onWriting.emit(true);\n      }\n\n      if (\n        this.inputAt &&\n        this.mention?.length > 3 &&\n        this.message.value.length > 3\n      ) {\n        this.usernames = await this.userSvc.searchUsernames(\n          this.mention.replace(\"@\", \"\")\n        );\n      } else {\n        this.usernames = [];\n      }\n\n      setTimeout(async () => {\n        this.writing = false;\n      }, 500);\n    } else {\n      this.usernames = [];\n    }\n  }\n\n  keydownEnter(event: Event) {\n    if (!this.platform.is(\"hybrid\")) {\n      event.preventDefault();\n      this.sendMessage();\n    }\n  }\n\n  async focusTextArea() {\n    this.textarea?.setFocus();\n    if (this.platform.is(\"cordova\")) {\n      this.keyboard.show();\n    }\n  }\n\n  async createEvent() {\n    this.onCreateEvent.emit();\n  }\n\n  countRecording() {\n    let time = 0;\n    this.countInterval = setInterval(() => {\n      time++;\n\n      let minutes = Math.floor((time % (60 * 60)) / 60);\n      let seconds = Math.floor(time % 60);\n\n      this.countRecordingString = minutes + \"m \" + seconds + \"s\";\n    }, 1000);\n  }\n\n  stopCountRecording() {\n    clearInterval(this.countInterval);\n    this.countRecordingString = \"\";\n  }\n}\n","import {\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  Output,\n  SimpleChanges\n} from \"@angular/core\";\nimport { MenuController, ToastController } from \"@ionic/angular\";\nimport { Router } from \"@angular/router\";\nimport { Config, ConfigService } from \"src/app/services/config.service\";\n\nimport { User } from \"../../models/user\";\nimport { Chat } from \"./../../models/chat\";\nimport { AuthService } from \"./../../services/auth.service\";\nimport { ChatService } from \"./../../services/chat.service\";\n\n@Component({\n  selector: \"app-chat-list\",\n  templateUrl: \"./chat-list.component.html\",\n  styleUrls: [\"./chat-list.component.scss\"]\n})\nexport class ChatListComponent {\n  @Output() userChange: EventEmitter<User[\"id\"]> = new EventEmitter();\n  @Input() selected: User[\"id\"];\n  @Input() messageEvent: EventEmitter<Chat>;\n\n  public loading = false;\n  public showOptions = false;\n  public selectedChat: Chat;\n  public archivedChats: Config[\"chats\"];\n  public allChats: Chat[] = null;\n  public showingArchived = false;\n  public chats: Chat[] = null;\n  source: EventSource;\n\n  constructor(\n    private chatSvc: ChatService,\n    public auth: AuthService,\n    public menu: MenuController,\n    private toast: ToastController,\n    private config: ConfigService,\n    private cd: ChangeDetectorRef,\n    private router: Router\n  ) {}\n\n  @HostListener(\"window:focus\")\n  async onFocus() {\n    await this.getLastMessages();\n  }\n\n  async ngAfterViewInit() {\n    if (this.router.url === \"/chat\" || window.innerWidth > 991) {\n      await this.getLastMessages();\n    }\n  }\n\n  async ngOnInit() {\n    this.messageEvent.subscribe(message => {\n      if (!message) {\n        return;\n      }\n      if (this.chats?.some(m => m.conversationId === message?.conversationId)) {\n        this.chats.map(m => {\n          if (m.conversationId === message.conversationId) {\n            if (m.writing && !message.writing) {\n              m.writing = false;\n            }\n            if (message.writing) {\n              m.writing = true;\n              this.cd.detectChanges();\n              setTimeout(() => {\n                m.writing = false;\n                this.cd.detectChanges();\n              }, 10000);\n            } else if (message.id > m.id) {\n              m.text = message.text;\n              m.time_creation = message.time_creation;\n              m.time_read = message.time_read;\n              if (message.time_read) {\n                if (m.count > 0) {\n                  m.count--;\n                }\n              } else if (\n                message.fromuser.id !== this.auth.currentUserValue.id\n              ) {\n                m.count++;\n              }\n            }\n          }\n        });\n      } else if (!message.writing) {\n        message.user =\n          message.fromuser.id === this.auth.currentUserValue.id\n            ? message.touser\n            : message.fromuser;\n        if (this.chats) {\n          this.chats = [message, ...this.chats];\n        }\n      }\n      if (!message.writing) {\n        this.chats?.sort((a, b) => {\n          return (\n            new Date(b.time_creation).getTime() -\n            new Date(a.time_creation).getTime()\n          );\n        });\n        this.setChats();\n      }\n    });\n  }\n\n  async getCachedMessages() {\n    this.allChats = (await this.config.get(\"chats\")) as Config[\"chats\"];\n    await this.setChats();\n  }\n\n  async getLastMessages() {\n    this.getCachedMessages();\n    const allChats = await this.chatSvc.getChats();\n    this.allChats = allChats;\n    await this.setChats();\n    this.loading = false;\n  }\n\n  async setChats() {\n    this.config.set(\"chats\", this.allChats);\n    const config = await this.chatSvc.getChatsConfig();\n    let chats = this.allChats?.filter(c => {\n      return !config?.some(\n        cc => cc.conversationId === c.conversationId && cc.archived\n      );\n    });\n    if (this.chats) {\n      if (this.chats[0].id === chats[0].id) {\n        this.chats[0].time_read = chats[0].time_read;\n        this.chats[0].count = chats[0].count;\n        this.chats[0].user.last_login = chats[0].user.last_login;\n      } else {\n        // TODO: Actualizar cada user del listado, comprobando si algún user nuevo y añadiendolo\n        this.chats = chats;\n      }\n    } else {\n      this.chats = chats;\n    }\n\n    this.archivedChats = config?.filter(cc => cc.archived);\n    this.selectedChat = this.chats?.find(c => +c.user?.id === this.selected);\n    this.cd.detectChanges();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes?.selected?.currentValue) {\n      this.selectedChat = this.chats?.find(\n        c => +c.user.id === +changes?.selected?.currentValue\n      );\n    }\n  }\n\n  async showChat(id: User[\"id\"]) {\n    this.userChange.emit(id);\n  }\n\n  async deleteChat(chat: Chat) {\n    this.selected = undefined;\n    this.selectedChat = undefined;\n    this.showOptions = false;\n    const chats = this.chats;\n    this.chats = this.chats.filter(c => c.user.id !== chat.user.id);\n    const toast = await this.toast.create({\n      message: \"Has eliminado el chat con \" + chat.user.name,\n      duration: 3000,\n      position: \"bottom\",\n      buttons: [\n        {\n          text: \"Deshacer\",\n          handler: () => {\n            this.chats = chats;\n          }\n        }\n      ]\n    });\n    toast.present();\n\n    const log = await toast.onDidDismiss();\n    if (log.role === \"timeout\") {\n      await this.chatSvc.deleteChat(chat.user.id);\n    }\n  }\n\n  async archiveChat(chat: Chat) {\n    this.selected = undefined;\n    this.selectedChat = undefined;\n    this.showOptions = false;\n\n    try {\n      await this.chatSvc.archiveChat(chat);\n      const config = await this.chatSvc.getChatsConfig();\n      this.archivedChats = config.filter(cc => cc.archived);\n      this.chats = this.chats.filter(c => c.user.id !== chat.user.id);\n      const toast = await this.toast.create({\n        message: \"Has archivado el chat con \" + chat.user.name,\n        duration: 3000,\n        position: \"bottom\"\n      });\n      toast.present();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async unarchiveChat(chat: Chat) {\n    this.selected = undefined;\n    this.selectedChat = undefined;\n    this.showOptions = false;\n    const chats = this.chats;\n\n    try {\n      await this.chatSvc.unarchiveChat(chat);\n      const config = await this.chatSvc.getChatsConfig();\n      this.archivedChats = config.filter(cc => cc.archived);\n      this.chats = this.chats.filter(c => c.user.id !== chat.user.id);\n      const toast = await this.toast.create({\n        message: \"Has desarchivado el chat con \" + chat.user.name,\n        duration: 3000,\n        position: \"bottom\"\n      });\n      toast.present();\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  async dragItem(event: any, id: number) {\n    if (event.detail.ratio < -1.8) {\n      await event.target.close();\n      this.showChat(id);\n    }\n  }\n\n  async openItem(event: any, id: number) {\n    console.log(event);\n    const element = event.target.parentElement;\n    element.open(\"end\");\n  }\n\n  selectChat(chat: Chat) {\n    if (chat.user.username !== \"frikiradar\") {\n      this.selected = chat.user.id;\n      this.selectedChat = chat;\n      this.showOptions = true;\n    }\n  }\n\n  hideOptions() {\n    this.showOptions = false;\n    this.selectedChat = undefined;\n  }\n\n  async showArchivedChats() {\n    this.showingArchived = true;\n    const config = await this.chatSvc.getChatsConfig();\n    this.chats = this.allChats.filter(c => {\n      return config?.some(\n        cc => cc.conversationId === c.conversationId && cc.archived\n      );\n    });\n  }\n\n  async showUnarchivedChats() {\n    this.showingArchived = false;\n    const config = await this.chatSvc.getChatsConfig();\n    this.chats = this.allChats.filter(c => {\n      return !config?.some(\n        cc => cc.conversationId === c.conversationId && cc.archived\n      );\n    });\n  }\n\n  back() {\n    this.router.navigateByUrl(\"/tabs/community\");\n  }\n}\n","import { EventService } from \"src/app/services/event.service\";\nimport {\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  HostListener,\n  Input,\n  OnInit,\n  Output,\n  ViewChild,\n} from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Clipboard } from \"@ionic-native/clipboard/ngx\";\nimport { Keyboard } from \"@ionic-native/keyboard/ngx\";\nimport {\n  AlertController,\n  IonContent,\n  IonInfiniteScroll,\n  ModalController,\n  Platform,\n  PopoverController,\n  ToastController,\n} from \"@ionic/angular\";\nimport { Vibration } from \"@ionic-native/vibration/ngx\";\n\nimport { Chat } from \"../../models/chat\";\nimport { User } from \"../../models/user\";\nimport { ChatService } from \"../../services/chat.service\";\nimport { ConfigService } from \"../../services/config.service\";\nimport { UrlService } from \"../../services/url.service\";\nimport { AuthService } from \"../../services/auth.service\";\nimport { UserService } from \"../../services/user.service\";\nimport { UtilsService } from \"../../services/utils.service\";\nimport { ViewerModalComponent } from \"ngx-ionic-image-viewer\";\nimport { OptionsPopover } from \"../../options-popover/options-popover\";\nimport { NavService } from \"src/app/services/navigation.service\";\nimport { AngularFireMessaging } from \"@angular/fire/compat/messaging\";\nimport { EventModal } from \"src/app/events/event-modal/event.modal\";\nimport { Event } from \"src/app/models/event\";\n\n@Component({\n  selector: \"app-chat-modal\",\n  templateUrl: \"./chat-modal.component.html\",\n  styleUrls: [\"./chat-modal.component.scss\"],\n})\nexport class ChatModalComponent implements OnInit {\n  @Input() userId: User[\"id\"];\n  @Input() messageEvent: EventEmitter<Chat>;\n  @Output() messageChange: EventEmitter<Chat> = new EventEmitter();\n  @Output() backToList: EventEmitter<any> = new EventEmitter();\n\n  @ViewChild(\"chatlist\", { static: false })\n  chatlist: IonContent;\n  @ViewChild(IonInfiniteScroll, { static: false })\n  infiniteScroll: IonInfiniteScroll;\n\n  user: Partial<User>;\n  messages: Chat[] = [];\n  page = 1;\n  pressOptions = false;\n  selectedMessage: Chat;\n  alertError: any;\n  private conversationId: string;\n  public replying = false;\n  public editing = false;\n  public writing = false;\n  public toUserWriting = \"\";\n  public realtimeChat = true;\n\n  constructor(\n    public auth: AuthService,\n    public userSvc: UserService,\n    private router: Router,\n    public chatSvc: ChatService,\n    private toast: ToastController,\n    private alert: AlertController,\n    private clipboard: Clipboard,\n    public keyboard: Keyboard,\n    public platform: Platform,\n    private config: ConfigService,\n    private urlSvc: UrlService,\n    public utils: UtilsService,\n    public modalController: ModalController,\n    private popover: PopoverController,\n    private vibration: Vibration,\n    private nav: NavService,\n    private dc: ChangeDetectorRef,\n    private afMessaging: AngularFireMessaging,\n    private eventSvc: EventService\n  ) {}\n\n  @HostListener(\"window:focus\")\n  async onFocus() {\n    await this.getLastMessages();\n  }\n\n  async ngOnInit() {\n    if (this.userId) {\n      const min = Math.min(this.auth.currentUserValue.id, this.userId);\n      const max = Math.max(this.auth.currentUserValue.id, this.userId);\n      this.conversationId = `${min}_${max}`;\n\n      this.getLastMessages();\n    }\n\n    const config: {\n      maintenance: boolean;\n      min_version: string;\n      chat: boolean;\n    } = (await this.config.getConfig()) as any;\n\n    this.alertError = await this.alert.create({\n      header: `Ups, error al conectar`,\n      message:\n        \"Es posible que el servicio de chat esté en mantenimiento en estos momentos.\",\n      backdropDismiss: false,\n      buttons: [\n        {\n          text: \"Intentar reconectar\",\n        },\n        {\n          text: \"Ok, seré paciente\",\n          handler: () => {\n            this.nav.back();\n          },\n        },\n      ],\n      cssClass: \"round-alert\",\n    });\n\n    if (!config.chat && !this.auth.isAdmin()) {\n      this.alertError.present();\n    }\n\n    this.messageEvent.subscribe(async (message) => {\n      if (!message) {\n        return;\n      }\n\n      if (message.conversationId === this.conversationId) {\n        if (message.writing && message.fromuser?.id === this.user?.id) {\n          this.getWriting();\n        } else if (!message.writing) {\n          this.toUserWriting = \"\";\n          await this.newMessage(message);\n        }\n      }\n    });\n\n    if (!this.platform.is(\"cordova\")) {\n      try {\n        await this.afMessaging.requestPermission.toPromise();\n      } catch (e) {\n        this.realtimeChat = false;\n      }\n    }\n  }\n\n  async getLastMessages() {\n    if (!this.userId) {\n      return;\n    }\n\n    try {\n      let messages = (await this.chatSvc.getMessages(this.userId, true, 1))\n        .filter((m) => m.text || m.image || m.audio)\n        .reverse();\n\n      messages = messages.filter((m) => {\n        if (!this.messages.some((me) => me.id === m.id)) {\n          return m;\n        }\n      });\n\n      messages.map((m) => {\n        if (new Date(m?.event?.date) < new Date()) {\n          m.event.past = true;\n        }\n      });\n\n      if (this.messages.length) {\n        messages.forEach(async (message) => {\n          await this.newMessage(message);\n        });\n      } else {\n        this.messages = messages;\n      }\n\n      if (this.messages.length < 15) {\n        this.infiniteScroll.complete();\n      } else {\n        this.infiniteScroll.complete();\n        this.infiniteScroll.disabled = false;\n        this.infiniteScroll.ionInfinite;\n      }\n\n      if (this.messages.length > 0) {\n        if (this.userId == this.messages[0].fromuser.id) {\n          this.user = this.messages[0].fromuser;\n        } else {\n          this.user = this.messages[0].touser;\n        }\n      } else {\n        try {\n          this.user = await this.userSvc.getUser(this.userId);\n        } catch (e) {\n          console.error(e);\n        }\n      }\n\n      window.addEventListener(\"keyboardDidShow\", (event) => {\n        this.scrollDown();\n      });\n\n      window.addEventListener(\"keyboardDidHide\", (event) => {\n        this.scrollDown();\n      });\n\n      this.scrollDown(200);\n    } catch (e) {\n      console.error(e);\n      await this.alertError.present();\n    }\n  }\n\n  async newMessage(message: Chat) {\n    console.log(message);\n    if (\n      this.messages.some(\n        (m) =>\n          (m.id === message.id && !!m.id) ||\n          (m.tmp_id === message.tmp_id && !!m.tmp_id)\n      )\n    ) {\n      // Si ya existe el mensaje lo actualizamos\n      this.messages.map((m) => {\n        if (\n          (m.id === message.id && !!m.id) ||\n          (m.tmp_id === message.tmp_id && !!m.tmp_id)\n        ) {\n          m.id = message.id;\n          m.text = message.text;\n          m.time_read = message.time_read;\n          m.edited = message.edited;\n          m.deleted = message.deleted;\n          m.sending = false;\n          m.event = message.event;\n          m.reply_to = message.reply_to;\n        }\n      });\n      // this.messageChange.emit(message);\n    } else {\n      this.messages = [...this.messages, message];\n      // this.messageChange.emit(message);\n      /* //Opción para ordenar por orden de creación en lugar de recepción\n      this.messages = messages.sort((a, b) => {\n        return (\n          new Date(a.time_creation).getTime() -\n          new Date(b.time_creation).getTime()\n        );\n      });*/\n    }\n\n    if (\n      message.fromuser?.id === this.user?.id &&\n      (message.text || message.image || message.audio)\n    ) {\n      // marcamos como leido\n      try {\n        if (this.user?.id !== this.auth.currentUserValue.id) {\n          message = await this.chatSvc.readChat(message.id);\n        }\n      } catch (e) {\n        console.error(e);\n        await this.alertError.present();\n      }\n    }\n\n    if (message.fromuser?.id === this.user?.id) {\n      this.user = message.fromuser;\n    }\n\n    // Borramos los deleted\n    this.messages = this.messages.filter((m) => {\n      if (!m.deleted) {\n        return m;\n      }\n    });\n\n    this.messages.map((m) => {\n      if (new Date(m?.event?.date) < new Date()) {\n        m.event.past = true;\n      }\n    });\n\n    this.dc.detectChanges();\n    this.scrollDown();\n  }\n\n  async sendMessage(message?: Chat) {\n    const text = message.text;\n    const image = message.image;\n    const audio = message.audio;\n\n    if (this.editing) {\n      const chat = await this.chatSvc\n        .updateMessage(this.selectedMessage.id, text)\n        .then();\n      this.messages.map((m) => {\n        if (m.id === this.selectedMessage.id) {\n          m.text = text;\n        }\n      });\n      this.editing = false;\n    } else {\n      const tmpId = this.utils.makeId(6);\n\n      const message = {\n        tmp_id: tmpId,\n        touser: this.user,\n        fromuser: this.auth.currentUserValue,\n        text,\n        image,\n        audio,\n        time_creation: new Date(),\n        sending: true,\n      } as Chat;\n\n      this.messages = [...this.messages, ...[message]].filter(\n        (m: Chat) => m.text || m.image || m.audio\n      );\n\n      this.scrollDown(1, true);\n      let replyToId =\n        this.selectedMessage && this.replying ? this.selectedMessage.id : null;\n      this.replying = false;\n\n      try {\n        let chat = null;\n        if (!image && !audio) {\n          chat = await this.chatSvc\n            .sendMessage(this.user.id, text, replyToId, tmpId)\n            .then();\n        } else if (image) {\n          const imageFile = await this.utils.urltoBlob(image);\n          chat = await this.chatSvc\n            .sendImage(this.user.id, imageFile, text, tmpId)\n            .then();\n        } else if (audio) {\n          const audioFile = await this.utils.urltoBlob(audio);\n          chat = await this.chatSvc\n            .sendAudio(this.user.id, audioFile, tmpId)\n            .then();\n        }\n\n        await this.newMessage(chat);\n\n        // this.messageChange.emit(chat);\n\n        replyToId = null;\n      } catch (e) {\n        this.messages = this.messages.filter((m) => m.sending !== true);\n        console.error(e);\n      }\n    }\n  }\n\n  async scrollDown(delay = 1, force = false) {\n    const scroll = await this.chatlist.getScrollElement();\n    if (\n      scroll.scrollTop +\n        scroll.offsetHeight +\n        (scroll.offsetHeight - 200) / 2 >=\n        scroll.scrollHeight ||\n      force\n    ) {\n      if (!this.chatlist) {\n        return;\n      }\n      setTimeout(() => {\n        this.chatlist.scrollToBottom(0);\n      }, delay);\n    }\n  }\n\n  async loadChats(event: any) {\n    if (!this.messages.length) {\n      return;\n    }\n    this.page++;\n    const messages = (\n      await this.chatSvc.getMessages(this.userId, false, this.page)\n    )\n      .filter((m) => m.text || m.image || m.audio)\n      .reverse();\n    this.messages = [...messages, ...this.messages];\n\n    this.messages.map((m) => {\n      if (new Date(m?.event?.date) < new Date()) {\n        m.event.past = true;\n      }\n    });\n\n    this.infiniteScroll.complete();\n\n    if (messages.length < 15) {\n      event.target.disabled = true;\n    }\n  }\n\n  async showProfile(id: User[\"id\"]) {\n    if (id !== 1) {\n      this.router.navigate([\"/profile\", id]);\n      if (await this.modalController.getTop()) {\n        this.modalController.dismiss();\n      }\n    }\n  }\n\n  selectMessage(event: any, message: Chat) {\n    event.preventDefault();\n    this.vibration.vibrate(5);\n    this.selectedMessage = message;\n    this.pressOptions = true;\n  }\n\n  async copy() {\n    this.pressOptions = false;\n    try {\n      if (this.platform.is(\"cordova\")) {\n        await this.clipboard.copy(this.selectedMessage.text);\n      } else {\n        await navigator.clipboard.writeText(this.selectedMessage.text);\n      }\n\n      (\n        await this.toast.create({\n          message: \"Mensaje copiado\",\n          duration: 2000,\n          position: \"middle\",\n        })\n      ).present();\n    } catch (e) {\n      (\n        await this.toast.create({\n          message: \"Error al copiar el mensaje\",\n          duration: 2000,\n          position: \"middle\",\n        })\n      ).present();\n    }\n  }\n\n  reply() {\n    this.replying = true;\n    this.pressOptions = false;\n  }\n\n  edit() {\n    this.editing = true;\n    this.pressOptions = false;\n  }\n\n  async deleteMessage() {\n    this.pressOptions = false;\n    try {\n      await this.chatSvc.deleteMessage(this.selectedMessage.id);\n      this.messages = this.messages.filter(\n        (m) => m.id !== this.selectedMessage.id\n      );\n    } catch (e) {\n      (\n        await this.toast.create({\n          message: \"Error al eliminar el mensaje\",\n          duration: 2000,\n          position: \"middle\",\n        })\n      ).present();\n\n      console.error(e);\n    }\n  }\n\n  async dragItem(event: any, message: Chat) {\n    this.selectedMessage = message;\n    if (event.detail.ratio < -0.9) {\n      event.target.close();\n      this.reply();\n    }\n  }\n\n  openUrl(event: any) {\n    this.urlSvc.openUrl(event);\n    return false;\n  }\n\n  async openViewer(src: string, title: string, text: string, scheme = \"dark\") {\n    let componentProps = {};\n    if (text) {\n      componentProps = {\n        src,\n        title,\n        text,\n        scheme,\n      };\n    } else {\n      componentProps = {\n        src,\n        title,\n        scheme,\n      };\n    }\n    const modal = await this.modalController.create({\n      component: ViewerModalComponent,\n      componentProps,\n      cssClass: \"ion-img-viewer\",\n      keyboardClose: true,\n      showBackdrop: true,\n    });\n\n    return await modal.present();\n  }\n\n  async showOptions(event: any) {\n    const popover = await this.popover.create({\n      component: OptionsPopover,\n      cssClass: \"options-popover\",\n      event: event,\n      translucent: true,\n      componentProps: {\n        user: this.user,\n        page: \"chat\",\n      },\n    });\n    return await popover.present();\n  }\n\n  async setWriting() {\n    if (this.writing || this.editing) {\n      return;\n    }\n    this.writing = true;\n    await this.chatSvc.writing(this.auth.currentUserValue.id, this.userId);\n    setTimeout(async () => {\n      this.writing = false;\n    }, 15000);\n  }\n\n  async getWriting() {\n    this.toUserWriting = \"Escribiendo...\";\n    setTimeout(() => {\n      this.toUserWriting = \"\";\n    }, 10000);\n  }\n\n  goToMessage(message: Chat) {\n    if (message?.reply_to?.id) {\n      const el = document.getElementById(\"\" + message.reply_to.id);\n      if (el) {\n        el.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n        el.classList.add(\"clicked\");\n        setTimeout(() => {\n          el.classList.remove(\"clicked\");\n        }, 1000);\n      }\n    }\n  }\n\n  async createEvent() {\n    const modal = await this.modalController.create({\n      component: EventModal,\n      keyboardClose: true,\n      showBackdrop: true,\n      cssClass: \"full-modal\",\n      componentProps: { user: this.user },\n    });\n\n    await modal.present();\n    await modal.onDidDismiss();\n  }\n\n  async confirmDate(message: Chat) {\n    await this.eventSvc.confirmDate(message.id);\n  }\n\n  async declineDate(message: Chat) {\n    await this.eventSvc.declineDate(message.id);\n  }\n\n  showEvent(event: Event) {\n    this.router.navigate([\"/event\", event.id]);\n  }\n\n  back() {\n    this.backToList.emit();\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\n\nimport { User } from \"../models/user\";\nimport { Config, ConfigService } from \"../services/config.service\";\n\n@Component({\n  selector: \"credits-modal\",\n  templateUrl: \"./credits.modal.html\",\n  styleUrls: [\"./credits.modal.scss\"]\n})\nexport class CreditsModal implements OnInit {\n  public patreon: Config[\"patreon\"];\n  constructor(private modal: ModalController, private config: ConfigService) {}\n\n  async ngOnInit() {\n    this.patreon = (await this.config.get(\"patreon\")) as Config[\"patreon\"];\n  }\n\n  close() {\n    this.modal.dismiss();\n  }\n}\n","import { Component, Input, OnInit } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { ImageCroppedEvent, ImageTransform } from \"ngx-image-cropper\";\n\n@Component({\n  selector: \"cropper-modal\",\n  templateUrl: \"./cropper.modal.html\",\n  styleUrls: [\"./cropper.modal.scss\"]\n})\nexport class CropperModal implements OnInit {\n  @Input() src: string;\n  @Input() event: any;\n  @Input() square: boolean;\n  @Input() aspectRatio: number = 1 / 1;\n  public imageChangedEvent: any = \"\";\n  public croppedImage: any = \"\";\n  public transform: ImageTransform = {};\n  public maintainAspectRatio: any = true;\n\n  constructor(public modal: ModalController) {}\n\n  async ngOnInit() {\n    this.imageChangedEvent = this.event;\n  }\n\n  fileChangeEvent(event: any): void {\n    this.imageChangedEvent = event;\n  }\n\n  imageCropped(event: ImageCroppedEvent) {\n    this.croppedImage = event.base64;\n  }\n\n  async imageLoaded() {\n    // imagen cargada\n  }\n\n  loadImageFailed() {\n    // show message\n  }\n\n  rotateRight() {\n    this.transform = {\n      ...this.transform,\n      rotate: this.transform.rotate ? this.transform.rotate + 90 : 90\n    };\n  }\n\n  flipH() {\n    this.transform = {\n      ...this.transform,\n      flipH: !this.transform.flipH\n    };\n  }\n\n  flipV() {\n    this.transform = {\n      ...this.transform,\n      flipV: !this.transform.flipV\n    };\n  }\n\n  zoomIn() {\n    this.transform = {\n      ...this.transform,\n      scale: this.transform.scale ? this.transform.scale + 0.1 : 1.1\n    };\n  }\n\n  zoomOut() {\n    this.transform = {\n      ...this.transform,\n      scale: this.transform.scale ? this.transform.scale - 0.1 : 0.99\n    };\n  }\n\n  toggleAspect() {\n    this.maintainAspectRatio = !this.maintainAspectRatio;\n  }\n\n  ok() {\n    this.modal.dismiss(this.croppedImage);\n  }\n\n  cancel() {\n    this.modal.dismiss();\n  }\n}\n","import { Component, Input } from \"@angular/core\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators\n} from \"@angular/forms\";\nimport { DomSanitizer, SafeUrl } from \"@angular/platform-browser\";\nimport { ModalController, ToastController } from \"@ionic/angular\";\n\nimport { Event } from \"src/app/models/event\";\nimport { Page } from \"src/app/models/page\";\nimport { User } from \"src/app/models/user\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { EventService } from \"src/app/services/event.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\n\n@Component({\n  selector: \"event-modal\",\n  templateUrl: \"./event.modal.html\",\n  styleUrls: [\"./event.modal.scss\"]\n})\nexport class EventModal {\n  @Input() event: Event;\n  @Input() user: User;\n  @Input() page: Page;\n\n  public eventForm: FormGroup;\n  private imageFile: Blob;\n  public editing = false;\n  public src: string = \"\";\n  public slug: string = \"\";\n  public endDate = false;\n  public showMore = false;\n  public mapSrc: SafeUrl = \"\";\n  public type: \"online\" | \"offline\" = \"online\";\n  public country: Event[\"country\"];\n\n  constructor(\n    public formBuilder: FormBuilder,\n    private toast: ToastController,\n    private modal: ModalController,\n    public utils: UtilsService,\n    private sanitizer: DomSanitizer,\n    private eventSvc: EventService,\n    public auth: AuthService\n  ) {\n    this.eventForm = formBuilder.group({\n      title: new FormControl(\"\", [Validators.required]),\n      description: new FormControl(\"\"),\n      date: new FormControl(\"\", [Validators.required]),\n      endDate: new FormControl(),\n      // repeat: new FormControl(),\n      url: new FormControl(\"\", [Validators.required]),\n      price: new FormControl(0),\n      country: new FormControl(),\n      city: new FormControl(),\n      address: new FormControl(),\n      postal_code: new FormControl(),\n      contact_phone: new FormControl(),\n      contact_email: new FormControl(),\n      minage: new FormControl(0),\n      image: new FormControl(),\n      official: new FormControl()\n    });\n  }\n\n  async ngOnInit() {\n    if (this.user) {\n      this.eventForm.get(\"title\").setValue(\"Cita con \" + this.user.name);\n    }\n\n    if (this.event?.id) {\n      this.editing = true;\n      this.type = this.event.type;\n      this.eventForm.get(\"title\").setValue(this.event.title);\n      this.eventForm.get(\"description\").setValue(this.event.description);\n      this.eventForm.get(\"date\").setValue(this.event.date);\n      this.eventForm.get(\"url\").setValue(this.event.url);\n      this.eventForm.get(\"country\").setValue(this.event.country);\n      this.eventForm.get(\"city\").setValue(this.event.city);\n      this.eventForm.get(\"address\").setValue(this.event.address);\n      this.eventForm.get(\"postal_code\").setValue(this.event.postal_code);\n      this.eventForm.get(\"contact_phone\").setValue(this.event.contact_phone);\n      this.eventForm.get(\"contact_email\").setValue(this.event.contact_email);\n      this.eventForm.get(\"minage\").setValue(this.event.minage);\n      this.eventForm.get(\"price\").setValue(this.event.price);\n    }\n  }\n\n  async changeLocation() {\n    const country = this.eventForm.get(\"country\").value?.trim();\n    const city = this.eventForm.get(\"city\").value?.trim();\n    const address = this.eventForm.get(\"address\").value?.trim();\n    const postal_code = this.eventForm.get(\"postal_code\").value?.trim();\n    if (country && city && address) {\n      const query = `${country} ${city} ${address} ${postal_code}`;\n      const search =\n        \"https://www.google.com/maps/embed/v1/place?key=AIzaSyBdyInAg-2KUZtQFnrQ5ra7wjf2S4q4GTQ&q=\" +\n        query.replace(/\\s|,/g, \"+\");\n      this.mapSrc = this.sanitizer.bypassSecurityTrustResourceUrl(search);\n    }\n  }\n\n  async submitEvent() {\n    if (this.eventForm.valid) {\n      const title = this.eventForm.get(\"title\").value.trim();\n      const description = this.eventForm.get(\"description\").value.trim();\n\n      const date = new Date(this.eventForm.get(\"date\").value).toUTCString();\n\n      let endDate = null;\n      if (this.eventForm.get(\"endDate\").value) {\n        endDate = new Date(this.eventForm.get(\"endDate\").value).toUTCString();\n      }\n\n      const url = this.eventForm.get(\"url\")?.value?.trim() ?? \"\";\n      const price = this.eventForm.get(\"price\")?.value ?? 0;\n      const minage = this.eventForm.get(\"minage\")?.value ?? 0;\n      const official = this.eventForm.get(\"official\")?.value ?? false;\n\n      let country = null;\n      let city = null;\n      let address = null;\n      let postal_code = null;\n      let contact_phone = null;\n      let contact_email = null;\n\n      if (this.type === \"offline\") {\n        country = this.eventForm.get(\"country\").value?.trim();\n        city = this.eventForm.get(\"city\").value?.trim();\n        address = this.eventForm.get(\"address\").value?.trim();\n        postal_code = this.eventForm.get(\"postal_code\").value?.trim();\n        contact_phone = this.eventForm.get(\"contact_phone\").value?.trim();\n        contact_email = this.eventForm.get(\"contact_email\").value?.trim();\n      }\n\n      if (this.event?.id) {\n        try {\n          await this.eventSvc.editEvent(\n            this.event.id,\n            title,\n            description,\n            date,\n            endDate,\n            url,\n            price,\n            this.type,\n            country,\n            city,\n            address,\n            postal_code,\n            contact_phone,\n            contact_email,\n            minage,\n            this.imageFile\n          );\n\n          (\n            await this.toast.create({\n              message: `Evento editado correctamente.`,\n              duration: 5000,\n              position: \"middle\"\n            })\n          ).present();\n          this.close();\n        } catch (e) {\n          (\n            await this.toast.create({\n              message: `Error al editar el evento.`,\n              duration: 5000,\n              position: \"middle\"\n            })\n          ).present();\n          console.error(e);\n        }\n      } else {\n        try {\n          await this.eventSvc.setEvent(\n            title,\n            description,\n            date,\n            endDate,\n            url,\n            price,\n            this.type,\n            country,\n            city,\n            address,\n            postal_code,\n            contact_phone,\n            contact_email,\n            minage,\n            this.imageFile,\n            this.user?.id,\n            this.page?.slug,\n            official\n          );\n\n          (\n            await this.toast.create({\n              message: `Evento publicado correctamente.`,\n              duration: 5000,\n              position: \"middle\"\n            })\n          ).present();\n          this.close();\n        } catch (e) {\n          (\n            await this.toast.create({\n              message: `Error al publicar el evento.`,\n              duration: 5000,\n              position: \"middle\"\n            })\n          ).present();\n          console.error(e);\n        }\n      }\n    }\n  }\n\n  async cropImagebyEvent(event: any) {\n    try {\n      const src = await this.utils.cropImage(event, \"\", true, 16 / 9);\n\n      if (typeof src == \"string\") {\n        this.src = src;\n        this.imageFile = await this.utils.urltoBlob(src);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  changeType(type: \"online\" | \"offline\") {\n    this.type = type;\n\n    if (this.type === \"offline\") {\n      this.eventForm.get(\"url\").setValidators([]);\n      this.eventForm.get(\"url\").updateValueAndValidity();\n      this.eventForm.get(\"country\").setValidators([Validators.required]);\n      this.eventForm.get(\"country\").setValidators([]);\n      this.eventForm.get(\"city\").setValidators([Validators.required]);\n      this.eventForm.get(\"city\").updateValueAndValidity();\n      this.eventForm.get(\"address\").setValidators([Validators.required]);\n      this.eventForm.get(\"address\").updateValueAndValidity();\n    } else {\n      this.eventForm.get(\"url\").setValidators([Validators.required]);\n      this.eventForm.get(\"url\").updateValueAndValidity();\n      this.eventForm.get(\"country\").setValidators([]);\n      this.eventForm.get(\"country\").updateValueAndValidity();\n      this.eventForm.get(\"city\").setValidators([]);\n      this.eventForm.get(\"city\").updateValueAndValidity();\n      this.eventForm.get(\"address\").setValidators([]);\n      this.eventForm.get(\"address\").updateValueAndValidity();\n    }\n    this.eventForm.updateValueAndValidity();\n  }\n\n  removeImage(event: CustomEvent) {\n    if (event.detail.value === \"\") {\n      this.src = \"\";\n      this.imageFile = null;\n    }\n  }\n\n  close() {\n    this.modal.dismiss();\n  }\n}\n","import { Injectable, NgZone } from \"@angular/core\";\nimport { CanActivate } from \"@angular/router\";\n\nimport { AuthService } from \"./../services/auth.service\";\n\n@Injectable({ providedIn: \"root\" })\nexport class AdminGuard implements CanActivate {\n  constructor(private auth: AuthService) {}\n\n  async canActivate() {\n    // logged in so return true\n    if (!this.auth.isAdmin() && !this.auth.isMaster()) {\n      // El usuario no está activo\n      await this.auth.logout();\n\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n","import { Injectable, NgZone } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  RouterStateSnapshot\n} from \"@angular/router\";\nimport { NavController } from \"@ionic/angular\";\n\nimport { AuthService } from \"./../services/auth.service\";\n\n@Injectable({ providedIn: \"root\" })\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private auth: AuthService,\n    private nav: NavController,\n    private ngZone: NgZone\n  ) {}\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    const currentUser = this.auth.currentUserValue;\n    if (currentUser) {\n      // logged in so return true\n      if (!currentUser.active) {\n        // El usuario no está activo\n        this.ngZone\n          .run(() => this.nav.navigateRoot([\"/login/activate-account\"]))\n          .then();\n\n        return false;\n      } else if (currentUser.banned) {\n        // El usuario está baneado\n        this.ngZone\n          .run(() => this.nav.navigateRoot([\"/login/banned-account\"]))\n          .then();\n\n        return false;\n      } else {\n        return true;\n      }\n    } else if (state.url.includes(\"/profile\") || state.url.includes(\"/page\")) {\n      return true;\n    }\n\n    // not logged in so redirect to login page with the return url\n    this.nav.navigateRoot([\"/login\"], {\n      queryParams: { returnUrl: state.url }\n    });\n    return false;\n  }\n}\n","import { Injectable, NgZone } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  RouterStateSnapshot\n} from \"@angular/router\";\nimport { NavController } from \"@ionic/angular\";\n\nimport { AuthService } from \"../services/auth.service\";\n\n@Injectable({ providedIn: \"root\" })\nexport class TabGuard implements CanActivate {\n  constructor(\n    private auth: AuthService,\n    private nav: NavController,\n    private ngZone: NgZone\n  ) {}\n\n  async canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    if (\n      this.auth.currentUserValue &&\n      !this.auth?.isAdult() &&\n      (state.url === \"/\" || state.url === \"/tabs/radar\")\n    ) {\n      this.ngZone.run(() => this.nav.navigateRoot([\"/tabs/community\"])).then();\n\n      return false;\n    } else {\n      return true;\n    }\n  }\n}\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"hashtag\"\n})\nexport class HashtagPipe implements PipeTransform {\n  transform(value: any) {\n    value = value?.replace(\n      /(^|\\s)(#[a-z\\d-]+)/gi,\n      \"$1<a href='#' class='hashtag'>$2</a>\"\n    );\n    return value;\n  }\n}\n","import { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"mentions\"\n})\nexport class MentionsPipe implements PipeTransform {\n  transform(value: any, data?: any) {\n    if (data?.mentions?.length) {\n      const mentions = data.mentions;\n      mentions.forEach((mention: string) => {\n        value = value?.replace(\n          `@${mention}`,\n          `<a href='#' class=\"mention\">@${mention}</a>`\n        );\n      });\n    } else {\n      value = value?.replace(\n        /@([a-z\\d_]+)/gi,\n        `<a href='#' class=\"mention\">@$1</a>`\n      );\n    }\n    return value;\n  }\n}\n","import { DatePipe } from \"@angular/common\";\nimport { Pipe, PipeTransform } from \"@angular/core\";\n\n@Pipe({\n  name: \"niceDate\"\n})\nexport class NiceDatePipe implements PipeTransform {\n  transform(value: string) {\n    const date = Number(new Date(value));\n    const dif = Math.floor((Date.now() - date) / 1000 / 86400);\n    if (dif < 60) {\n      return convertToNiceDate(value);\n    } else {\n      const datePipe = new DatePipe(\"es-ES\");\n      return dif <= 30\n        ? datePipe.transform(value, \"d 'de' MMMM\")\n        : datePipe.transform(value, \"d MMM 'de' yyyy\");\n    }\n  }\n}\n\nfunction convertToNiceDate(time: string) {\n  const date = new Date(time);\n  const diff = (new Date().getTime() - date.getTime()) / 1000;\n  const daydiff = Math.floor(diff / 86400);\n\n  if (isNaN(daydiff) || daydiff < 0 || daydiff >= 60) {\n    return \"\";\n  }\n\n  return (\n    (daydiff === 0 &&\n      ((diff < 300 && \"Ahora mismo\") ||\n        (diff < 3600 && \"Hace \" + Math.floor(diff / 60) + \" minutos\") ||\n        (diff < 7200 && \"Hace 1 hora\") ||\n        (diff < 86400 && \"Hace \" + Math.floor(diff / 3600) + \" horas\"))) ||\n    (daydiff === 1 && \"Ayer\") ||\n    (daydiff < 14 && \"Hace \" + daydiff + \" días\") ||\n    (daydiff < 30 && \"Hace \" + Math.ceil(daydiff / 7) + \" semanas\") ||\n    (daydiff < 60 && \"Hace 1 mes\")\n  );\n}\n","import { Component } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport {\n  AlertController,\n  Platform,\n  PopoverController,\n  ToastController\n} from \"@ionic/angular\";\nimport { Clipboard } from \"@ionic-native/clipboard/ngx\";\n\nimport { User } from \"src/app/models/user\";\nimport { AdminService } from \"../services/admin.service\";\nimport { AuthService } from \"../services/auth.service\";\nimport { UserService } from \"../services/user.service\";\nimport { UtilsService } from \"../services/utils.service\";\n\n@Component({\n  selector: \"options-popover\",\n  templateUrl: \"./options-popover.html\",\n  styleUrls: [\"./options-popover.scss\"]\n})\nexport class OptionsPopover {\n  public user: User;\n  public page: string;\n\n  constructor(\n    public popover: PopoverController,\n    private router: Router,\n    public auth: AuthService,\n    private userSvc: UserService,\n    private alert: AlertController,\n    private toast: ToastController,\n    private admin: AdminService,\n    private utils: UtilsService,\n    public platform: Platform,\n    private clipboard: Clipboard\n  ) {}\n\n  close() {\n    this.popover.dismiss();\n  }\n\n  showProfile(id: User[\"id\"]) {\n    if (id !== 1) {\n      this.router.navigate([\"/profile\", id]);\n    }\n\n    this.close();\n  }\n\n  async report(user: User) {\n    const alert = await this.alert.create({\n      header: `¿Quieres reportar a ${user.username}?`,\n      message:\n        \"Nos llegará un aviso para que revisemos el caso y actuemos en consecuencia. Describe a continuación el motivo del reporte.\",\n      inputs: [\n        {\n          name: \"note\",\n          type: \"text\",\n          placeholder: \"Motivo del reporte\"\n        }\n      ],\n      buttons: [\n        {\n          text: \"Cancelar\",\n          role: \"cancel\",\n          cssClass: \"secondary\"\n        },\n        {\n          text: \"Reportar\",\n          role: \"block\",\n          handler: async data => {\n            if (data.note.trim().length) {\n              try {\n                await this.userSvc.report(user.id, data.note);\n                (\n                  await this.toast.create({\n                    message: \"Usuario reportado correctamente\",\n                    duration: 2000,\n                    position: \"bottom\"\n                  })\n                ).present();\n              } catch (e) {\n                (\n                  await this.toast.create({\n                    message: `Error al reportar al usuario ${e}`,\n                    duration: 2000,\n                    position: \"bottom\",\n                    color: \"danger\"\n                  })\n                ).present();\n                alert.present();\n              }\n            } else {\n              (\n                await this.toast.create({\n                  message: `El mensaje de reporte no puede estar en blanco`,\n                  duration: 2000,\n                  position: \"middle\",\n                  color: \"danger\"\n                })\n              ).present();\n\n              this.report(this.user);\n            }\n          }\n        }\n      ],\n      cssClass: \"round-alert\"\n    });\n\n    await alert.present();\n    this.close();\n  }\n\n  async block(user: User) {\n    const alert = await this.alert.create({\n      header: `¿Quieres bloquear a ${user.username}?`,\n      message:\n        \"Ya no podrá volver a verte, escribirte o interactuar contigo en FrikiRadar a menos que lo desbloquees. Si lo deseas puedes indicarnos el motivo del bloqueo.\",\n      inputs: [\n        {\n          name: \"note\",\n          type: \"text\",\n          placeholder: \"Motivo del bloqueo (opcional)\"\n        }\n      ],\n      buttons: [\n        {\n          text: \"Cancelar\",\n          role: \"cancel\",\n          cssClass: \"secondary\"\n        },\n        {\n          text: \"Bloquear\",\n          role: \"block\",\n          handler: async data => {\n            try {\n              await this.userSvc.block(user.id, data.note);\n              (\n                await this.toast.create({\n                  message: \"Usuario bloqueado correctamente\",\n                  duration: 2000,\n                  position: \"bottom\"\n                })\n              ).present();\n              this.router.navigate([\"/\"]);\n            } catch (e) {\n              (\n                await this.toast.create({\n                  message: `Error al bloquear al usuario ${e}`,\n                  duration: 2000,\n                  position: \"bottom\"\n                })\n              ).present();\n              alert.present();\n            }\n          }\n        }\n      ],\n      cssClass: \"round-alert\"\n    });\n\n    await alert.present();\n    this.close();\n  }\n\n  async copyProfile() {\n    const referrer = this.auth.currentUserValue\n      ? this.auth.currentUserValue.username\n      : \"app\";\n    const url = `https://frikiradar.app/${this.user.username.replace(\n      \" \",\n      \"+\"\n    )}?referrer=${referrer}`;\n    try {\n      if (this.platform.is(\"cordova\")) {\n        await this.clipboard.copy(url);\n      } else {\n        await navigator.clipboard.writeText(url);\n      }\n\n      (\n        await this.toast.create({\n          message: \"URL copiada correctamente\",\n          duration: 2000,\n          position: \"middle\"\n        })\n      ).present();\n    } catch (e) {\n      (\n        await this.toast.create({\n          message: \"Error al copiar la URL\",\n          duration: 2000,\n          position: \"middle\"\n        })\n      ).present();\n    }\n    this.close();\n  }\n\n  shareProfile() {\n    const url = `https://frikiradar.app/${this.user.username.replace(\n      \" \",\n      \"+\"\n    )}`;\n    this.utils.share(url);\n    this.close();\n  }\n\n  async warn(user: User) {\n    const alert = await this.alert.create({\n      header: `¿Quieres enviar una advertencia a ${user.username}?`,\n      message:\n        \"Se enviará un mensaje al usuario desde la cuenta de FrikiRadar advirtiéndole de su falta.\",\n      inputs: [\n        {\n          name: \"note\",\n          type: \"text\",\n          placeholder: \"Mensaje del moderador\"\n        }\n      ],\n      buttons: [\n        {\n          text: \"Cancelar\",\n          role: \"cancel\",\n          cssClass: \"secondary\"\n        },\n        {\n          text: \"Enviar advertencia\",\n          role: \"warn\",\n          handler: async data => {\n            try {\n              await this.admin.warn(user.id, data.note);\n              (\n                await this.toast.create({\n                  message: \"Usuario avisado correctamente\",\n                  duration: 2000,\n                  position: \"middle\"\n                })\n              ).present();\n            } catch (e) {\n              (\n                await this.toast.create({\n                  message: `Error al avisar al usuario ${e}`,\n                  duration: 2000,\n                  position: \"middle\"\n                })\n              ).present();\n              alert.present();\n            }\n          }\n        }\n      ],\n      cssClass: \"round-alert\"\n    });\n\n    await alert.present();\n    this.close();\n  }\n\n  async ban(user: User) {\n    const alert = await this.alert.create({\n      header: `¿Quieres banear al usuario ${user.username}?`,\n      message:\n        \"Indícale al usuario el motivo por el cual le baneas. Añade el tiempo (días/horas) si el baneo es temporal o déjalo en blanco si es indefinido.\",\n      inputs: [\n        {\n          name: \"note\",\n          type: \"text\",\n          placeholder: \"Motivo del baneo\"\n        },\n        {\n          name: \"hours\",\n          type: \"number\",\n          attributes: {\n            min: 0,\n            max: 24\n          },\n          placeholder: \"Horas\"\n        },\n        {\n          name: \"days\",\n          type: \"number\",\n          placeholder: \"Dias\"\n        }\n      ],\n      buttons: [\n        {\n          text: \"Cancelar\",\n          role: \"cancel\",\n          cssClass: \"secondary\"\n        },\n        {\n          text: \"Banear al usuario\",\n          role: \"ban\",\n          handler: async data => {\n            try {\n              await this.admin.ban(user.id, data.note, data.days, data.hours);\n              (\n                await this.toast.create({\n                  message: \"Usuario baneado correctamente\",\n                  duration: 2000,\n                  position: \"middle\"\n                })\n              ).present();\n            } catch (e) {\n              (\n                await this.toast.create({\n                  message: `Error al banear al usuario ${e}`,\n                  duration: 2000,\n                  position: \"middle\"\n                })\n              ).present();\n              alert.present();\n            }\n          }\n        }\n      ],\n      cssClass: \"round-alert\"\n    });\n\n    await alert.present();\n    this.close();\n  }\n}\n","import { Component } from \"@angular/core\";\nimport { AndroidPermissions } from \"@ionic-native/android-permissions/ngx\";\nimport { Diagnostic } from \"@ionic-native/diagnostic/ngx\";\nimport { LocationAccuracy } from \"@ionic-native/location-accuracy/ngx\";\nimport { ModalController, Platform } from \"@ionic/angular\";\n\n@Component({\n  selector: \"request-geolocation-modal\",\n  templateUrl: \"./request-geolocation.modal.html\",\n  styleUrls: [\"./request-geolocation.modal.scss\"]\n})\nexport class RequestGeolocationModal {\n  public view: \"request\" | \"force\" = \"request\";\n\n  constructor(\n    private modal: ModalController,\n    public platform: Platform,\n    private diagnostic: Diagnostic,\n    private androidPermissions: AndroidPermissions,\n    private locationAccuracy: LocationAccuracy\n  ) {}\n\n  async changeSettings() {\n    if (this.platform.is(\"android\")) {\n      const check = await this.androidPermissions.checkPermission(\n        this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION\n      );\n      if (check.hasPermission) {\n        await this.locationAccuracy.request(\n          this.locationAccuracy.REQUEST_PRIORITY_LOW_POWER\n        );\n      } else {\n        await this.diagnostic.switchToSettings();\n      }\n    } else {\n      await this.diagnostic.switchToSettings();\n    }\n    this.view = \"request\";\n  }\n\n  close(data: boolean) {\n    this.modal.dismiss(data);\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { Config, ConfigService } from \"../services/config.service\";\n\nimport { NavService } from \"../services/navigation.service\";\n\n@Component({\n  selector: \"app-rules\",\n  templateUrl: \"./rules.page.html\",\n  styleUrls: [\"./rules.page.scss\"]\n})\nexport class RulesPage implements OnInit {\n  public accepted = false;\n\n  constructor(\n    private nav: NavService,\n    private modal: ModalController,\n    private config: ConfigService\n  ) {}\n\n  async ngOnInit() {\n    this.accepted = await this.config.get(\"rules\") as Config['rules'];\n  }\n\n  deny() {\n    this.close();\n    this.nav.back();\n  }\n\n  async accept() {\n    await this.config.set(\"rules\", true);\n    this.close();\n    location.reload()\n  }\n\n  async close() {\n    this.modal.dismiss();\n  }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { Chat } from \"../models/chat\";\nimport { Room } from \"../models/room\";\nimport { User } from \"../models/user\";\nimport { ConfigService } from \"./config.service\";\nimport { RestService } from \"./rest.service\";\nimport { UploadService } from \"./upload.service\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class AdminService {\n  constructor(\n    private rest: RestService,\n    private config: ConfigService,\n    private uploadSvc: UploadService\n  ) {}\n\n  async warn(id: User[\"id\"], message: string) {\n    return this.rest.put(\"warn\", { touser: id, message }).toPromise();\n  }\n\n  getBans() {\n    return this.rest.get(\"bans\").toPromise() as Promise<User[]>;\n  }\n\n  async ban(id: User[\"id\"], message: string, days: string, hours: string) {\n    return this.rest\n      .put(\"ban\", { touser: id, message, days, hours })\n      .toPromise();\n  }\n\n  unban(id: User[\"id\"]) {\n    return this.rest.delete(`ban/${id}`).toPromise() as Promise<User[]>;\n  }\n\n  async sendTopicMessage(topic: string, message: string, title: string) {\n    return await this.rest\n      .put(\"topic-message\", { topic, message, title })\n      .toPromise();\n  }\n\n  async getBannedMessages(id: User[\"id\"]): Promise<Chat[]> {\n    return (await this.rest.get(`banned-messages/${id}`).toPromise()) as Chat[];\n  }\n\n  async sendMessage(id: number, text: string) {\n    return (await this.rest\n      .put(\"banned-message\", { touser: id, text })\n      .toPromise()) as Chat;\n  }\n\n  async createRoom(\n    name: string,\n    description: string,\n    permissions: string,\n    visible: boolean,\n    image: Blob\n  ) {\n    const formData: FormData = new FormData();\n    formData.set(\"name\", name);\n    formData.set(\"description\", description);\n    formData.set(\"permissions\", permissions);\n    formData.set(\"visible\", visible ? \"true\" : \"false\");\n    formData.set(\"image\", image);\n    return (await this.uploadSvc.upload(\"room\", formData)) as Room;\n  }\n\n  async editRoom(\n    id: number,\n    name: string,\n    description: string,\n    permissions: string,\n    visible: boolean,\n    image: Blob\n  ) {\n    const formData: FormData = new FormData();\n    formData.set(\"id\", \"\" + id);\n    formData.set(\"name\", name);\n    formData.set(\"description\", description);\n    formData.set(\"permissions\", permissions);\n    formData.set(\"visible\", visible ? \"true\" : \"false\");\n    formData.set(\"image\", image);\n    return (await this.uploadSvc.upload(\"edit-room\", formData)) as Room;\n  }\n\n  async getRooms() {\n    return (await this.rest.get(\"admin-rooms\").toPromise()) as Room[];\n  }\n\n  async removeRoom(id: Room[\"id\"]) {\n    return this.rest.delete(`delete-room/${id}`).toPromise() as Promise<Room[]>;\n  }\n}\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Device as deviceInfo } from \"@ionic-native/device/ngx\";\nimport { NavController } from \"@ionic/angular\";\nimport { BehaviorSubject, Observable } from \"rxjs\";\nimport { map } from \"rxjs/operators\";\nimport FingerprintJS from \"@fingerprintjs/fingerprintjs\";\nimport { Platform } from \"@ionic/angular\";\n\nimport { environment } from \"../../environments/environment\";\nimport { User } from \"./../models/user\";\nimport { RestService } from \"./rest.service\";\nimport { UserService } from \"./user.service\";\n\nconst httpOptions = {\n  headers: new HttpHeaders({ \"Content-Type\": \"application/json\" })\n};\n\n@Injectable({ providedIn: \"root\" })\nexport class AuthService {\n  private currentUserSubject: BehaviorSubject<User>;\n  public currentUser: Observable<User>;\n\n  constructor(\n    private http: HttpClient,\n    private rest: RestService,\n    private nav: NavController,\n    private device: deviceInfo,\n    private platform: Platform\n  ) {\n    this.currentUserSubject = new BehaviorSubject<User>(\n      JSON.parse(localStorage.getItem(\"currentUser\"))\n    );\n    this.currentUser = this.currentUserSubject.asObservable();\n  }\n\n  public get currentUserValue(): User {\n    return this.currentUserSubject.value;\n  }\n\n  async register(\n    username: string,\n    email: string,\n    password: string,\n    birthday: string,\n    gender: string,\n    lovegender: string[],\n    meet: string,\n    referral: string\n  ) {\n    try {\n      return await this.http\n        .post(\n          `${environment.root}api/register`,\n          {\n            username,\n            email,\n            password,\n            birthday,\n            gender,\n            lovegender,\n            meet,\n            referral\n          },\n          httpOptions\n        )\n        .toPromise();\n    } catch (e) {\n      throw new Error(\n        \"Ya hay un usuario registrado con este nombre de usuario o email.\"\n      );\n    }\n  }\n\n  async login(username: string, password: string) {\n    try {\n      const token = await this.http\n        .post(\n          `${environment.root}api/login`,\n          { username, password },\n          httpOptions\n        )\n        .pipe(\n          map((data: { token: string }) => {\n            return data.token;\n          })\n        )\n        .toPromise();\n      localStorage.setItem(\"currentUser\", JSON.stringify({ token }));\n      this.currentUserSubject.next({ token } as User);\n      return await this.getAuthUser();\n    } catch (e) {\n      throw new Error(e);\n    }\n  }\n\n  async checkUsername(\n    username: User[\"username\"]\n  ): Promise<User[\"username\"] | boolean> {\n    try {\n      const u = (await this.http\n        .get(`${environment.root}api/username/${username}`)\n        .toPromise()) as User[\"username\"];\n      if (u === username) {\n        return true;\n      } else {\n        return u;\n      }\n    } catch (e) {\n      throw new Error(\"Error al comprobar el nombre de usuario\");\n    }\n  }\n\n  getAuthUser() {\n    if (!this.currentUserValue) {\n      return;\n    }\n\n    const token = this.currentUserValue.token;\n\n    return this.rest\n      .get(\"user\")\n      .pipe(\n        map((user: User) => {\n          localStorage.setItem(\n            \"currentUser\",\n            JSON.stringify({ ...user, token })\n          );\n          return user;\n        })\n      )\n      .toPromise();\n  }\n\n  setAuthUser(user: User) {\n    if (!user) {\n      return false;\n    }\n\n    user = { ...this.currentUserValue, ...user };\n\n    localStorage.setItem(\"currentUser\", JSON.stringify(user));\n    this.currentUserSubject.next(user);\n  }\n\n  twoStepCode() {\n    return this.rest.get(\"two-step\");\n  }\n\n  verifyLogin(verification_code: string) {\n    return this.rest\n      .put(\"two-step\", { verification_code })\n      .toPromise() as Promise<User>;\n  }\n\n  requestPassword(username: string) {\n    return this.http\n      .post(`${environment.root}api/recover`, { username }, httpOptions)\n      .toPromise();\n  }\n\n  recoverPassword(\n    username: string,\n    password: string,\n    verification_code: string\n  ) {\n    return this.http\n      .put(\n        `${environment.root}api/recover`,\n        {\n          username,\n          password,\n          verification_code\n        },\n        httpOptions\n      )\n      .toPromise();\n  }\n\n  isAdmin(user?: User) {\n    if (!user) {\n      user = this.currentUserValue;\n    }\n    return user?.roles?.includes(\"ROLE_ADMIN\");\n  }\n\n  isMaster(user?: User) {\n    if (!user) {\n      user = this.currentUserValue;\n    }\n    return user?.roles?.includes(\"ROLE_MASTER\");\n  }\n\n  isPatreon(user?: User) {\n    if (!user) {\n      user = this.currentUserValue;\n    }\n    return user?.roles?.includes(\"ROLE_PATREON\");\n  }\n\n  isDemo(user?: User) {\n    if (!user) {\n      user = this.currentUserValue;\n    }\n    return user?.roles?.includes(\"ROLE_DEMO\");\n  }\n\n  isVerified(user?: User) {\n    if (!user) {\n      user = this.currentUserValue;\n    }\n    return user.verified;\n  }\n\n  isAdult(birthday?: string) {\n    if (!birthday) {\n      birthday = this.currentUserValue?.birthday;\n    }\n    const today = Date.now();\n    const date = new Date(birthday).getTime();\n    const ms = today - date;\n    const age = +(ms / 1000 / 3600 / 24 / 365).toFixed(0);\n\n    return age >= 18;\n  }\n\n  async logout() {\n    let uuid = null;\n    if (this.platform.is(\"cordova\")) {\n      uuid = this.device.uuid;\n    } else {\n      const fp = await FingerprintJS.load();\n      const fingerprint = await fp.get();\n      uuid = fingerprint.visitorId;\n    }\n\n    // Desactivamos las notificaciones\n    if (uuid && this.currentUserValue) {\n      try {\n        await this.rest.get(`turnoff-device/${uuid}`).toPromise();\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    // Eliminamos la sesión y configuraciones\n    localStorage.clear();\n    sessionStorage.clear();\n    this.currentUserSubject.next(undefined);\n\n    // Regresamos a la página de login\n    this.nav.navigateRoot([\"/login\"]);\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { AngularFireMessaging } from \"@angular/fire/compat/messaging\";\nimport { Router } from \"@angular/router\";\nimport { FirebaseX } from \"@ionic-native/firebase-x/ngx\";\nimport { LocalNotifications } from \"@ionic-native/local-notifications/ngx\";\nimport { AlertController, Platform } from \"@ionic/angular\";\n\nimport { Chat } from \"../models/chat\";\nimport { User } from \"../models/user\";\nimport { AuthService } from \"./auth.service\";\nimport { Config, ConfigService } from \"./config.service\";\nimport { RestService } from \"./rest.service\";\nimport { UploadService } from \"./upload.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ChatService {\n  public source: EventSource;\n\n  constructor(\n    private rest: RestService,\n    private uploadSvc: UploadService,\n    private auth: AuthService,\n    private alert: AlertController,\n    private afMessaging: AngularFireMessaging\n  ) {}\n\n  async getChats() {\n    const chats = (await this.rest.get(`chats`).toPromise()) as Chat[];\n\n    return chats;\n  }\n\n  async getMessages(id: number, read?: boolean, page = 1, lastId = 0) {\n    return (await this.rest\n      .get(`chat/${id}?read=${read}&page=${page}&lastid=${lastId}`)\n      .toPromise()) as Chat[];\n  }\n\n  async sendMessage(\n    id: number,\n    text: string,\n    replyto?: number,\n    tmp_id?: string\n  ): Promise<Chat> {\n    return (await this.rest\n      .put(\"chat\", { touser: id, text, replyto, tmp_id })\n      .toPromise()) as Chat;\n  }\n\n  async sendImage(\n    id: number,\n    image: Blob,\n    text: string,\n    tmp_id?: string\n  ): Promise<Chat> {\n    const formData: FormData = new FormData();\n    formData.set(\"image\", image);\n    formData.set(\"touser\", \"\" + id);\n    formData.set(\"text\", text);\n    formData.set(\"tmp_id\", tmp_id);\n    return (await this.uploadSvc.upload(\"chat-upload\", formData)) as Chat;\n  }\n\n  async sendAudio(id: number, audio: Blob, tmp_id?: string): Promise<Chat> {\n    const formData: FormData = new FormData();\n    formData.set(\"audio\", audio);\n    formData.set(\"touser\", \"\" + id);\n    formData.set(\"tmp_id\", tmp_id);\n    return (await this.uploadSvc.upload(\"chat-upload\", formData)) as Chat;\n  }\n\n  async writing(fromuser: number, touser: number) {\n    return (await this.rest\n      .put(\"writing-chat\", { fromuser, touser })\n      .toPromise()) as Chat;\n  }\n\n  async updateMessage(id: Chat[\"id\"], text: Chat[\"text\"]) {\n    return (await this.rest\n      .put(\"update-message\", { id, text })\n      .toPromise()) as Chat;\n  }\n\n  async readChat(id: number) {\n    return (await this.rest.get(`read-chat/${id}`).toPromise()) as Chat;\n  }\n\n  async deleteMessage(id: number) {\n    await this.rest.delete(`chat-message/${id}`).toPromise();\n  }\n\n  async deleteChat(touserid: number) {\n    await this.rest.delete(`chat/${touserid}`).toPromise();\n  }\n\n  async archiveChat(chat: Chat) {\n    let chats_config = await this.getChatsConfig();\n\n    if (chats_config) {\n      if (chats_config?.some((c) => c.conversationId === chat.conversationId)) {\n        chats_config.map((c) => {\n          if (c.conversationId === chat.conversationId) {\n            c.archived = true;\n          }\n        });\n      } else {\n        chats_config = [\n          ...chats_config,\n          {\n            conversationId: chat.conversationId,\n            archived: true,\n          },\n        ];\n      }\n    } else {\n      chats_config = [\n        {\n          conversationId: chat.conversationId,\n          archived: true,\n        },\n      ];\n    }\n\n    await this.setChatsConfig(chats_config);\n  }\n\n  async unarchiveChat(chat: Chat) {\n    let chats_config = await this.getChatsConfig();\n\n    if (chats_config) {\n      if (chats_config?.some((c) => c.conversationId === chat.conversationId)) {\n        chats_config.map((c) => {\n          if (c.conversationId === chat.conversationId) {\n            c.archived = false;\n          }\n        });\n      } else {\n        chats_config = [\n          ...chats_config,\n          {\n            conversationId: chat.conversationId,\n            archived: false,\n          },\n        ];\n      }\n    } else {\n      chats_config = [\n        {\n          conversationId: chat.conversationId,\n          archived: false,\n        },\n      ];\n    }\n\n    await this.setChatsConfig(chats_config);\n  }\n\n  async setChatsConfig(chats_config: Config[\"chats\"]) {\n    const user = (await this.rest\n      .put(\"chats-config\", { chats_config })\n      .toPromise()) as User;\n    this.auth.setAuthUser(user);\n  }\n\n  async getChatsConfig() {\n    const config = this.auth.currentUserValue?.config;\n    return config?.chats;\n  }\n\n  async report(message: Chat, note: string) {\n    return await this.rest.put(\"report-chat\", { message, note }).toPromise();\n  }\n\n  async realtimeChatInfo() {\n    (\n      await this.alert.create({\n        header: \"Notificaciones desactivadas\",\n        message:\n          \"Para tener chat en tiempo real es necesario activar las notificaciones. Actívalas para tener esta función.\",\n        buttons: [\n          {\n            text: \"Entendido!\",\n            handler: async () => {\n              await this.afMessaging.requestPermission.toPromise();\n            },\n          },\n        ],\n        cssClass: \"round-alert\",\n      })\n    ).present();\n  }\n}\n","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\n\nimport { environment } from \"../../environments/environment\";\nimport { Chat } from \"../models/chat\";\nimport { Page } from \"../models/page\";\nimport { Room } from \"../models/room\";\nimport { Story } from \"../models/story\";\nimport { User } from \"../models/user\";\n\nexport interface Config {\n  openTimes?: number;\n  review?: boolean;\n  radar_config?: {\n    view?: \"cards\" | \"list\";\n    range?: number;\n    extended?: boolean;\n    options?: {\n      identity: boolean;\n      range: boolean;\n      connection: boolean;\n    };\n  };\n  radarAdv?: boolean;\n  maintenance?: boolean;\n  min_version?: string;\n  version?: string;\n  chat?: boolean;\n  push_url?: string;\n  geolocation?: boolean;\n  patreon?: string;\n  rooms?: Room[];\n  chats?: Chat[];\n  radar?: User[];\n  pages?: Page[];\n  stories?: Story[];\n  theme?: \"dark\" | \"light\" | \"cyberpunk\" | \"black\" | \"fire\";\n  rules?: boolean;\n}\n@Injectable({\n  providedIn: \"root\"\n})\nexport class ConfigService {\n  private root = environment.root;\n\n  constructor(public http: HttpClient) {}\n\n  async getConfig(force?: boolean): Promise<Config> {\n    let config = JSON.parse(localStorage.getItem(\"config\"));\n    if (force || JSON.parse(localStorage.getItem(\"config\")) === undefined) {\n      config = (await this.http\n        .get(`${this.root}api/config`)\n        .toPromise()) as Config;\n      this.setConfig(config);\n    }\n\n    if (!config) {\n      config = {};\n    }\n\n    return config;\n  }\n\n  async get(parameter: keyof Config) {\n    const config = await this.getConfig();\n    return config[parameter];\n  }\n\n  async setConfig(config: Config) {\n    let currentConfig = await this.getConfig();\n    if (!currentConfig) {\n      currentConfig = {};\n    }\n    config = { ...currentConfig, ...config };\n    localStorage.setItem(\"config\", JSON.stringify(config));\n  }\n\n  async set(parameter: keyof Config, value: any) {\n    let config = await this.getConfig();\n    if (!config) {\n      config = {};\n    }\n    (config as any)[parameter] = value;\n    await this.setConfig(config);\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Device as deviceInfo } from \"@ionic-native/device/ngx\";\nimport FingerprintJS from \"@fingerprintjs/fingerprintjs\";\nimport * as platform from \"platform\";\nimport { Platform } from \"@ionic/angular\";\n\nimport { User } from \"../models/user\";\nimport { Device } from \"./../models/device\";\nimport { AuthService } from \"./auth.service\";\nimport { RestService } from \"./rest.service\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class DeviceService {\n  constructor(\n    private rest: RestService,\n    private auth: AuthService,\n    private device: deviceInfo,\n    private platform: Platform\n  ) {}\n\n  async getDevices(forceApi = false): Promise<Device[]> {\n    if (\n      this.auth.currentUserValue.devices &&\n      this.auth.currentUserValue.devices.length &&\n      !forceApi\n    ) {\n      return this.auth.currentUserValue.devices;\n    } else {\n      return (await this.rest.get(`devices`).toPromise()) as Device[];\n    }\n  }\n\n  async setDevice(token?: string) {\n    if (this.auth.currentUserValue && this.auth.currentUserValue.id) {\n      const device = await this.getCurrentDevice(token);\n      // console.log(\"device\", device);\n      let uuid = null;\n      if (this.platform.is(\"cordova\")) {\n        uuid = this.device.uuid;\n      } else {\n        const fp = await FingerprintJS.load();\n        const fingerprint = await fp.get();\n        uuid = fingerprint.visitorId;\n      }\n      if (uuid !== null) {\n        const devices = await this.getDevices();\n        if (\n          devices.length &&\n          !devices.some(\n            d => d.device_id === device.device_id || d.token === device.token\n          )\n        ) {\n          // log(\"devices\", devices);\n          console.log(\"dispositivo desconocido\", devices, device);\n          // dispositivo desconocido, enviar email avisando\n          await this.unknownDevice(device).toPromise();\n        }\n\n        let platform = '' as Device['platform']\n        if (this.platform.is(\"cordova\")) {\n          if (this.platform.is(\"android\")) {\n            platform = 'android';\n          } else if (this.platform.is(\"ios\")) {\n            platform = 'ios';\n          }\n        } else {\n          platform = 'web';\n        }\n\n        const user = (await this.rest\n          .put(\"device\", {\n            id: uuid,\n            name: device.device_name,\n            token,\n            platform\n          })\n          .toPromise()) as User;\n\n        // this.auth.setAuthUser(user);\n      }\n    }\n  }\n\n  async getCurrentDevice(token?: string): Promise<Device> {\n    let uuid = null;\n    let device: Device;\n    if (this.platform.is(\"cordova\")) {\n      uuid = this.device.uuid;\n      device = {\n        device_id: uuid,\n        device_name: `${this.device.manufacturer} ${\n          this.device.model\n        } (${this.device?.platform?.charAt(0).toUpperCase() +\n          this.device?.platform?.slice(1)} ${this.device?.version})`,\n        token\n      };\n    } else {\n      const fp = await FingerprintJS.load();\n      const fingerprint = await fp.get();\n      device = {\n        device_id: fingerprint.visitorId,\n        device_name: platform.description,\n        token\n      };\n    }\n\n    const devices = await this.getDevices();\n    if (\n      devices.some(\n        d =>\n          d.device_id === device.device_id ||\n          d.token === device.token ||\n          d.device_name === device.device_name\n      )\n    ) {\n      return devices.find(\n        d =>\n          d.device_id === device.device_id ||\n          d.token === device.token ||\n          d.device_name === device.device_name\n      );\n    } else {\n      return device;\n    }\n  }\n\n  unknownDevice(device: Device) {\n    return this.rest.put(\"unknown-device\", { device });\n  }\n\n  removeDevice(device: Device) {\n    return this.rest.delete(`device/${device.id}`).toPromise() as Promise<User>;\n  }\n\n  switchDevice(device: Device) {\n    return this.rest.get(`switch-device/${device.id}`).toPromise() as Promise<\n      User\n    >;\n  }\n}\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { environment } from \"src/environments/environment\";\n\nimport { Chat } from \"../models/chat\";\nimport { Event } from \"../models/event\";\nimport { Page } from \"../models/page\";\nimport { User } from \"../models/user\";\nimport { RestService } from \"./rest.service\";\nimport { UploadService } from \"./upload.service\";\n\nconst httpOptions = {\n  headers: new HttpHeaders({ \"Content-Type\": \"application/json\" })\n};\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class EventService {\n  constructor(\n    private rest: RestService,\n    private uploadSvc: UploadService,\n    private http: HttpClient\n  ) {}\n\n  async getEvent(id: Event[\"id\"]): Promise<Event> {\n    try {\n      return (await this.rest.get(`event/${id}`).toPromise()) as Event;\n    } catch (e) {\n      throw new Error(\"No se puede obtener el evento\");\n    }\n  }\n\n  async getPublicEvent(id: Event[\"id\"]): Promise<Event> {\n    try {\n      return (await this.http\n        .get(`${environment.root}api/event/${id}`, httpOptions)\n        .toPromise()) as Event;\n    } catch (e) {\n      throw new Error(\"No se puede obtener el evento\");\n    }\n  }\n\n  async setEvent(\n    title: Event[\"title\"],\n    description: Event[\"description\"],\n    date: Event[\"date\"],\n    endDate: Event[\"date_end\"],\n    url: Event[\"url\"],\n    price: Event[\"price\"],\n    type: Event[\"type\"],\n    country: Event[\"country\"],\n    city: Event[\"city\"],\n    address: Event[\"address\"],\n    postal_code: Event[\"postal_code\"],\n    contact_phone: Event[\"contact_phone\"],\n    contact_email: Event[\"contact_email\"],\n    minage: Event[\"minage\"],\n    image: Blob,\n    user?: User[\"id\"],\n    slug?: Page[\"slug\"],\n    official?: boolean\n  ) {\n    const formData: FormData = new FormData();\n    formData.set(\"title\", title);\n    formData.set(\"description\", description);\n    formData.set(\"date\", date);\n    if (endDate) {\n      formData.set(\"end_date\", endDate);\n    }\n    formData.set(\"url\", url);\n    formData.set(\"price\", \"\" + price);\n    formData.set(\"minage\", \"\" + minage);\n    formData.set(\"image\", image);\n    formData.set(\"type\", type);\n    if (user) {\n      formData.set(\"user\", \"\" + user);\n    }\n    if (slug) {\n      formData.set(\"slug\", slug);\n    }\n\n    if (type === \"offline\") {\n      formData.set(\"country\", country);\n      formData.set(\"city\", city);\n      formData.set(\"address\", address);\n      if (postal_code) {\n        formData.set(\"postal_code\", postal_code);\n      }\n      if (contact_phone) {\n        formData.set(\"contact_phone\", contact_phone);\n      }\n      if (contact_email) {\n        formData.set(\"contact_email\", contact_email);\n      }\n    }\n\n    const event = (await this.uploadSvc.upload(\"event\", formData)) as Event;\n    return event;\n  }\n\n  async editEvent(\n    id: number,\n    title: Event[\"title\"],\n    description: Event[\"description\"],\n    date: Event[\"date\"],\n    endDate: Event[\"date_end\"],\n    url: Event[\"url\"],\n    price: Event[\"price\"],\n    type: Event[\"type\"],\n    country: Event[\"country\"],\n    city: Event[\"city\"],\n    address: Event[\"address\"],\n    postal_code: Event[\"postal_code\"],\n    contact_phone: Event[\"contact_phone\"],\n    contact_email: Event[\"contact_email\"],\n    minage: Event[\"minage\"],\n    image: Blob\n  ) {\n    const formData: FormData = new FormData();\n    formData.set(\"id\", \"\" + id);\n    formData.set(\"title\", title);\n    formData.set(\"description\", description);\n    formData.set(\"date\", date);\n    if (endDate) {\n      formData.set(\"end_date\", endDate);\n    }\n    formData.set(\"url\", url);\n    formData.set(\"price\", \"\" + price);\n    formData.set(\"minage\", \"\" + minage);\n    formData.set(\"image\", image);\n    formData.set(\"type\", type);\n\n    if (type === \"offline\") {\n      formData.set(\"country\", country);\n      formData.set(\"city\", city);\n      formData.set(\"address\", address);\n      if (postal_code) {\n        formData.set(\"postal_code\", postal_code);\n      }\n      if (contact_phone) {\n        formData.set(\"contact_phone\", contact_phone);\n      }\n      if (contact_email) {\n        formData.set(\"contact_email\", contact_email);\n      }\n    }\n\n    return (await this.uploadSvc.upload(\"edit-event\", formData)) as Event;\n  }\n\n  async getMyEvents() {\n    return (await this.rest.get(`my-events`).toPromise()) as Event[];\n  }\n\n  async getSuggestedEvents() {\n    return (await this.rest.get(`suggested-events`).toPromise()) as Event[];\n  }\n\n  async getOnlineEvents() {\n    return (await this.rest.get(`online-events`).toPromise()) as Event[];\n  }\n\n  async getNearEvents() {\n    return (await this.rest.get(`near-events`).toPromise()) as Event[];\n  }\n\n  async getEventsSlug(slug: string) {\n    return (await this.rest.get(`slug-events/${slug}`).toPromise()) as Event[];\n  }\n\n  async cancelEvent(id: Event[\"id\"]): Promise<Event> {\n    try {\n      const event = (await this.rest\n        .put(\"cancel-event\", { id })\n        .toPromise()) as Event;\n      return event;\n    } catch (e) {\n      throw new Error(\"No se puede cancelar el evento\");\n    }\n  }\n\n  async deleteEvent(event: Event) {\n    try {\n      await this.rest.delete(`delete-event/${event.id}`).toPromise();\n    } catch (e) {\n      throw new Error(\"No se puede eliminar el evento\");\n    }\n  }\n\n  async participateEvent(id: Event[\"id\"]) {\n    try {\n      const event = (await this.rest\n        .post(\"participate-event\", { id })\n        .toPromise()) as Event;\n      return event;\n    } catch (e) {\n      throw new Error(\"Error al participar en el evento\");\n    }\n  }\n\n  async unparticipateEvent(id: Event[\"id\"]) {\n    try {\n      const event = (await this.rest\n        .delete(`remove-participant-event/${id}`)\n        .toPromise()) as Event;\n      return event;\n    } catch (e) {\n      throw new Error(\"Error al quitar participación en el evento\");\n    }\n  }\n\n  async confirmDate(id: Chat[\"id\"]) {\n    try {\n      const event = (await this.rest\n        .post(\"confirm-date\", { id })\n        .toPromise()) as Event;\n      return event;\n    } catch (e) {\n      throw new Error(\"Error al confirmar la cita\");\n    }\n  }\n\n  async declineDate(id: Chat[\"id\"]) {\n    try {\n      const event = (await this.rest\n        .put(\"decline-date\", { id })\n        .toPromise()) as Event;\n      return event;\n    } catch (e) {\n      throw new Error(\"No se puede rechazar la cita\");\n    }\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Router, NavigationEnd, UrlTree } from \"@angular/router\";\nimport {\n  ModalController,\n  NavController,\n  Platform,\n  ToastController\n} from \"@ionic/angular\";\nimport { NavigationOptions } from \"@ionic/angular/providers/nav-controller\";\n\n@Injectable({ providedIn: \"root\" })\nexport class NavService {\n  private history: string[] = [];\n  private backButtonCount = 0;\n\n  constructor(\n    private router: Router,\n    private nav: NavController,\n    private platform: Platform,\n    private toast: ToastController,\n    private modal: ModalController\n  ) {\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.history.push(event.urlAfterRedirects);\n        this.backButtonCount = 0;\n      }\n    });\n  }\n\n  back(): void {\n    this.history.pop();\n    if (this.history.length > 0) {\n      this.nav.back();\n    } else {\n      this.router.navigateByUrl(\"/\");\n    }\n  }\n\n  navigateRoot(url: string | any[] | UrlTree, options?: NavigationOptions) {\n    this.nav.navigateRoot(url, options);\n  }\n\n  async backButtonStatus() {\n    this.platform.backButton.subscribeWithPriority(1, async () => {\n      if (!!document.querySelector(\".cupertino-pane-wrapper\")) {\n        this.backButtonCount = 0;\n      } else if (\n        this.router.url.includes(\"chat\") &&\n        (await this.modal.getTop())\n      ) {\n        this.modal.dismiss();\n      } else if (\n        this.router.url.includes(\"/tabs/\") ||\n        this.router.url === \"/\"\n      ) {\n        this.backButtonCount++;\n\n        if (this.backButtonCount === 1) {\n          (\n            await this.toast.create({\n              message: \"Pulsa de nuevo para salir de la aplicación\",\n              duration: 2000,\n              position: \"bottom\"\n            })\n          ).present();\n        } else if (this.backButtonCount >= 2) {\n          navigator[\"app\"].exitApp();\n        }\n      } else {\n        this.back();\n        this.backButtonCount = 0;\n      }\n    });\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { BehaviorSubject, Observable } from \"rxjs\";\n\nimport { RestService } from \"./rest.service\";\nimport { Notification } from \"../models/notification\";\n\nexport interface NotificationCounters {\n  notifications: number;\n  chats: number;\n  radar: number;\n}\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class NotificationService {\n  private notificationSubject: BehaviorSubject<NotificationCounters>;\n  public notification: Observable<NotificationCounters>;\n\n  constructor(private rest: RestService) {\n    this.notificationSubject = new BehaviorSubject<NotificationCounters>(\n      JSON.parse(localStorage.getItem(\"notification\"))\n    );\n    this.notification = this.notificationSubject.asObservable();\n  }\n\n  public get notificationValue(): NotificationCounters {\n    return this.notificationSubject.value;\n  }\n\n  setNotification(notification: NotificationCounters) {\n    localStorage.setItem(\"notification\", JSON.stringify(notification));\n    this.notificationSubject.next(notification);\n  }\n\n  async getUnread() {\n    return this.rest.get(`notifications`).toPromise();\n  }\n\n  getNotifications() {\n    return this.rest.get(`notifications-list`).toPromise() as Promise<\n      Notification[]\n    >;\n  }\n\n  async readNotification(id: Notification[\"id\"]) {\n    return (await this.rest\n      .get(`read-notification/${id}`)\n      .toPromise()) as Notification;\n  }\n\n  async unreadNotification(id: Notification[\"id\"]) {\n    return (await this.rest\n      .get(`unread-notification/${id}`)\n      .toPromise()) as Notification;\n  }\n\n  async removeNotification(id: Notification[\"id\"]) {\n    return await this.rest.delete(`remove-notification/${id}`).toPromise();\n  }\n\n  async removeNotifications() {\n    return await this.rest.delete(`remove-notifications`).toPromise();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { FirebaseX } from \"@ionic-native/firebase-x/ngx\";\nimport { LocalNotifications } from \"@ionic-native/local-notifications/ngx\";\nimport { Platform } from \"@ionic/angular\";\nimport { AngularFireMessaging } from \"@angular/fire/compat/messaging\";\nimport { takeWhile } from \"rxjs/operators\";\nimport { SwPush } from \"@angular/service-worker\";\n\nimport { AuthService } from \"./auth.service\";\nimport { DeviceService } from \"./device.service\";\nimport {\n  NotificationCounters,\n  NotificationService,\n} from \"./notification.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class PushService {\n  notifications: any = [];\n  token: string = \"\";\n\n  constructor(\n    private device: DeviceService,\n    private firebasex: FirebaseX,\n    private router: Router,\n    private notificationSvc: NotificationService,\n    private localNotifications: LocalNotifications,\n    private platform: Platform,\n    private auth: AuthService,\n    private afMessaging: AngularFireMessaging,\n    private swPush: SwPush\n  ) {\n    this.platform.ready().then(async () => {\n      if (this.platform.is(\"cordova\")) {\n        try {\n          await this.firebasex.hasPermission();\n          this.localNotifications.on(\"click\").subscribe((notification) => {\n            console.log(\"click\", notification);\n            const data = notification.data;\n            this.router.navigate([data.url]);\n          });\n\n          this.localNotifications.on(\"trigger\").subscribe((notification) => {\n            console.log(\"trigger\", notification);\n            const data = notification.data;\n          });\n\n          this.localNotifications.on(\"reply\").subscribe((notification) => {\n            console.log(\"onreply\", notification);\n          });\n        } catch (e) {\n          console.error(e);\n        }\n      } else {\n        if (!navigator.serviceWorker) {\n          return console.error(\"Service Worker not supported\");\n        }\n\n        /*this.afMessaging.onBackgroundMessage(p => {\n          console.log(p)\n        })*/\n\n        this.swPush.notificationClicks.subscribe((payload) => {\n          this.router.navigate([payload.notification.data.url]);\n        });\n      }\n    });\n  }\n\n  async init() {\n    if (this.platform.is(\"cordova\")) {\n      this.setChannels();\n\n      this.firebasex.getToken().then(async (token) => {\n        // console.log(\"Notification token:\", token);\n        await this.device.setDevice(token);\n      });\n\n      /*this.firebase.onTokenRefresh().subscribe(async token => {\n        // console.log(\"Notification token refreshed:\", token);\n        await this.device.setDevice(token);\n      });*/\n\n      this.firebasex\n        .subscribe(\"frikiradar\")\n        .then((response) =>\n          console.log(\"Successfully subscribed to topic:\", response)\n        )\n        .catch((error) => {\n          console.log(\"Error subscribing to topic:\", error);\n        });\n\n      if (this.auth.isAdmin() || this.auth.isMaster()) {\n        this.firebasex\n          .subscribe(\"test\")\n          .then((response) =>\n            console.log(\"Successfully subscribed to topic:\", response)\n          )\n          .catch((error) => {\n            console.log(\"Error subscribing to topic:\", error);\n          });\n      }\n\n      this.firebasex.onMessageReceived().subscribe(\n        (payload) => {\n          // console.log(\"payload\", payload);\n          if (payload.tap) {\n            this.router.navigate([payload.url]);\n          } else {\n            this.localNotification(payload);\n\n            if (!this.router.url.includes(\"chat\")) {\n              this.notificationSvc\n                .getUnread()\n                .then((notification: NotificationCounters) => {\n                  this.notificationSvc.setNotification(notification);\n                });\n            }\n            // console.log(\"Received in foreground\");\n          }\n        },\n        (error) => {\n          console.error(\"Error in notification\", error);\n        }\n      );\n    } else {\n      try {\n        await this.requestPermission();\n        this.afMessaging.messages.subscribe((payload: any) => {\n          console.log(\"new message received. \", payload);\n          if (payload?.notification) {\n            this.localNotification(payload);\n\n            if (!this.router.url.includes(\"chat\")) {\n              this.notificationSvc\n                .getUnread()\n                .then((notification: NotificationCounters) => {\n                  this.notificationSvc.setNotification(notification);\n                });\n            }\n          }\n        });\n      } catch (e) {\n        // console.log(\"Notificaciones no permitidas\")\n      }\n    }\n  }\n\n  setChannels() {\n    const channels = [\n      {\n        id: \"chat\",\n        name: \"Notificaciones de Chat\",\n        description: \"Recibe notificaciones de chat cuando alguien te escribe.\",\n      },\n      {\n        id: \"radar\",\n        name: \"Notificaciones de Radar\",\n        description:\n          \"Recibe notificaciones cuando hay un usuario interesante cerca de ti.\",\n      },\n      {\n        id: \"like\",\n        name: \"Notificaciones de Kokoros\",\n        description:\n          \"Recibe notificaciones cuando un usuario te entregue su kokoro.\",\n      },\n      {\n        id: \"rooms\",\n        name: \"Notificaciones de salas de chat\",\n        description:\n          \"Recibe notificaciones de nuevos mensajes en salas de chat.\",\n      },\n      {\n        id: \"frikiradar\",\n        name: \"Notificaciones de FrikiRadar\",\n        description:\n          \"Canal de información sobre FrikiRadar, novedades y actualizaciones.\",\n      },\n      {\n        id: \"test\",\n        name: \"Notificaciones de testeo\",\n        description: \"Canal de testeo, exclusivo para masters.\",\n      },\n    ];\n\n    for (let channel of channels) {\n      if (\n        channel.id == \"test\" &&\n        !(this.auth.isAdmin() || this.auth.isMaster())\n      ) {\n        continue;\n      }\n\n      this.firebasex\n        .createChannel({\n          id: channel.id,\n          name: channel.name,\n          sound: \"bipbip\",\n          description: channel.description,\n        })\n        .then((response) => {\n          // console.log(\"Notification Channel created\", channel, response);\n        })\n        .catch((error) => {\n          console.log(\"Create notification channel error: \" + error);\n        });\n    }\n\n    this.firebasex\n      .deleteChannel(\"fcm_default_channel\")\n      .then((response) => {\n        // console.log(response);\n      })\n      .catch((error) => {\n        console.error(\"Error deleting channel\", error);\n      });\n\n    /*this.firebase\n      .listChannels()\n      .then(response => {\n        console.log(response);\n      })\n      .catch(error => {\n        console.error(error);\n      });*/\n  }\n\n  async localNotification(notification: any) {\n    /*let actions = null;\n    if (notification.topic == \"chat\") {\n      actions = [\n        {\n          id: \"reply\",\n          type: \"input\",\n          title: \"Responder\",\n          emptyText: \"Escribe tu mensaje\"\n        }\n      ] as any[];\n    }*/\n    if (this.platform.is(\"cordova\")) {\n      if (\n        !this.router.url.includes(\"chat\") &&\n        notification?.notify === \"true\"\n      ) {\n        this.localNotifications.schedule({\n          title: notification?.title,\n          text: notification?.body,\n          sound: \"file://assets/audio/bipbip.mp3\",\n          smallIcon: \"res://notification_icon\",\n          color: \"#e91e63\",\n          icon: notification?.icon,\n          // attachments: notification?.attachments,\n          channel: notification?.topic,\n          data: notification,\n          // actions\n        });\n      }\n    } else {\n      if (\n        !this.router.url.includes(\"chat\") &&\n        notification?.data?.notify === \"true\"\n      ) {\n        try {\n          const registration = await navigator.serviceWorker.ready;\n          // Customize notification here\n          const notificationTitle = notification?.title;\n          const notificationOptions = {\n            body: notification?.body,\n            icon: notification?.data?.icon,\n            image: notification?.data?.attachments\n              ? notification?.data.attachments[0]\n              : null,\n            badge: notification?.data?.badge,\n          };\n          await registration.showNotification(\n            notificationTitle,\n            notificationOptions\n          );\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    }\n  }\n\n  async requestPermission(): Promise<void> {\n    await this.afMessaging.requestPermission.toPromise();\n\n    this.afMessaging.tokenChanges\n      .pipe(takeWhile((token) => this.token !== token))\n      .subscribe(\n        async (token) => {\n          this.token = token;\n          // console.log(\"Notification token:\", token);\n          await this.device.setDevice(token);\n        },\n        (error) => {\n          console.error(error);\n        }\n      );\n  }\n}\n","import { HttpClient, HttpHeaders, HttpParams } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\n\nimport { environment } from \"../../environments/environment\";\n\nconst httpOptions = {\n  headers: new HttpHeaders({ \"Content-Type\": \"application/json\" })\n};\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class RestService {\n  private apiUrl = environment.apiUrl;\n\n  constructor(public http: HttpClient) {}\n\n  get(endpoint: string) {\n    return this.http.get(`${this.apiUrl}${endpoint}`, httpOptions);\n  }\n\n  post(endpoint: string, data) {\n    return this.http.post(\n      `${this.apiUrl}${endpoint}`,\n      JSON.stringify(data),\n      httpOptions\n    );\n  }\n\n  put(endpoint: string, data) {\n    return this.http.put(\n      `${this.apiUrl}${endpoint}`,\n      JSON.stringify(data),\n      httpOptions\n    );\n  }\n\n  delete(endpoint: string) {\n    if (!localStorage.getItem(\"currentUser\")) {\n      return;\n    }\n\n    return this.http.delete(`${this.apiUrl}${endpoint}`, httpOptions);\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\nimport { Chat } from \"../models/chat\";\n\nimport { Room } from \"../models/room\";\nimport { User } from \"../models/user\";\nimport { AuthService } from \"./auth.service\";\nimport { Config, ConfigService } from \"./config.service\";\nimport { RestService } from \"./rest.service\";\nimport { UploadService } from \"./upload.service\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class RoomService {\n  public source: EventSource;\n\n  constructor(\n    private rest: RestService,\n    private config: ConfigService,\n    private uploadSvc: UploadService, // private push: PushService\n    private auth: AuthService\n  ) {}\n\n  async getRooms() {\n    return (await this.rest.get(\"rooms\").toPromise()) as Room[];\n  }\n\n  async getRoom(slug: string) {\n    return (await this.rest.get(`room/${slug}`).toPromise()) as Room;\n  }\n\n  async sseRegister(channel: string) {\n    const config = await this.config.getConfig();\n    this.source = new EventSource(`${config.push_url}?topic=${channel}`);\n  }\n\n  async sseListener() {\n    if (!this.source || this.source.readyState === 2) {\n      this.sseRegister(\"rooms\");\n    }\n\n    return new Observable(observer => {\n      this.source.onmessage = x => observer.next(JSON.parse(x.data) as Chat);\n      this.source.onerror = x => {\n        this.source.close();\n        observer.error(x);\n      };\n\n      return () => {\n        this.source.close();\n      };\n    });\n  }\n\n  async getMessages(slug: string, page = 1) {\n    return (await this.rest\n      .get(`room-messages/${slug}?page=${page}`)\n      .toPromise()) as Chat[];\n  }\n\n  async writing(name: string, slug: string) {\n    return (await this.rest\n      .put(\"writing-room\", { name, slug })\n      .toPromise()) as Chat;\n  }\n\n  async sendMessage(\n    slug: string,\n    name: string,\n    text: string,\n    replyto?: number,\n    tmp_id?: string,\n    mentions?: User[\"username\"][]\n  ) {\n    return (await this.rest\n      .put(\"room-message\", { slug, name, text, replyto, tmp_id, mentions })\n      .toPromise()) as Chat;\n  }\n\n  async sendImage(\n    slug: string,\n    name: string,\n    image: Blob,\n    text: string,\n    tmp_id?: string,\n    mentions?: User[\"username\"][]\n  ) {\n    const formData: FormData = new FormData();\n    formData.set(\"image\", image);\n    formData.set(\"slug\", \"\" + slug);\n    formData.set(\"name\", \"\" + name);\n    formData.set(\"text\", text);\n    formData.set(\"tmp_id\", tmp_id);\n    formData.set(\"mentions\", JSON.stringify(mentions));\n    return (await this.uploadSvc.upload(\"room-upload\", formData)) as Chat;\n  }\n\n  async setLastMessage(room: Room) {\n    const value = room.last_message;\n    const slug = room.slug;\n    let rooms_config = await this.getRoomsConfig();\n\n    let last_message = 0;\n    if (rooms_config?.find(c => c.slug === slug)?.last_message) {\n      last_message = rooms_config?.find(c => c.slug === slug).last_message;\n    }\n\n    if (value > last_message) {\n      if (rooms_config) {\n        if (rooms_config.some(r => r.slug === slug)) {\n          rooms_config.map(r => {\n            if (r.slug === slug) {\n              r.last_message = value;\n            }\n          });\n        } else {\n          rooms_config = [\n            ...rooms_config,\n            {\n              slug,\n              last_message: value\n            }\n          ];\n        }\n      } else {\n        rooms_config = [\n          {\n            slug,\n            last_message: value\n          }\n        ];\n      }\n\n      await this.setRoomsConfig(rooms_config);\n    }\n  }\n\n  async reorderRooms(from: number, to: number) {\n    let rooms_config = await this.getRoomsConfig();\n\n    rooms_config.map((r, index) => {\n      if (r.order === from) {\n        r.order = to;\n      } else if (r.order > from && r.order <= to) {\n        r.order--;\n      } else if (r.order < from && r.order >= to) {\n        r.order++;\n      }\n    });\n    await this.setRoomsConfig(rooms_config);\n  }\n\n  async orderRooms(rooms: Room[]): Promise<Room[]> {\n    let rooms_config = await this.getRoomsConfig();\n\n    rooms_config = rooms_config?.filter(r => {\n      if (rooms.find(room => room.slug === r.slug)) {\n        return r;\n      }\n    });\n    if (\n      rooms_config &&\n      !rooms_config?.some(r => r.order === undefined) &&\n      !rooms_config?.some(r => {\n        if (\n          rooms_config.some(r1 => r1.slug !== r.slug && r1.order === r.order)\n        ) {\n          return true;\n        }\n      }) &&\n      rooms_config?.length === rooms.length\n    ) {\n      // Ordename según la config\n      rooms.sort((a, b) => {\n        return (\n          rooms_config.find(r => r.slug === a.slug)?.order -\n          rooms_config.find(r => r.slug === b.slug)?.order\n        );\n      });\n    } else {\n      await this.initOrderRoom(rooms);\n    }\n    return rooms;\n  }\n\n  async initOrderRoom(rooms: Room[]) {\n    let rooms_config = await this.getRoomsConfig();\n\n    rooms.forEach((room, index) => {\n      if (rooms_config) {\n        if (rooms_config.some(r => r.slug === room.slug)) {\n          rooms_config.map(r => {\n            if (r.slug === room.slug) {\n              r.order = index;\n            }\n          });\n        } else {\n          rooms_config = [\n            ...rooms_config,\n            {\n              slug: room.slug,\n              order: index\n            }\n          ];\n        }\n      } else {\n        rooms_config = [\n          {\n            slug: room.slug,\n            order: index\n          }\n        ];\n      }\n    });\n    await this.setRoomsConfig(rooms_config);\n  }\n\n  async setRoomsConfig(rooms_config: Config[\"rooms\"]) {\n    const user = (await this.rest\n      .put(\"rooms-config\", { rooms_config })\n      .toPromise()) as User;\n    this.auth.setAuthUser(user);\n  }\n\n  async getRoomsConfig() {\n    const config = this.auth.currentUserValue?.config;\n    return config?.rooms;\n  }\n\n  ngOnDestroy() {\n    this.source?.close();\n    // console.log(\"Conexión cerrada\", this.source.url);\n  }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { Story } from \"../models/story\";\nimport { User } from \"../models/user\";\nimport { AuthService } from \"./auth.service\";\nimport { RestService } from \"./rest.service\";\nimport { UploadService } from \"./upload.service\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class StoryService {\n  constructor(\n    private rest: RestService,\n    private uploadSvc: UploadService,\n    private auth: AuthService\n  ) { }\n\n  async getStory(id: Story[\"id\"]) {\n    return (await this.rest.get(`story/${id}`).toPromise()) as Story;\n  }\n\n  async getUserStories(id: User[\"id\"]) {\n    const stories = (await this.rest\n      .get(`user-stories/${id}`)\n      .toPromise()) as Story[];\n    stories.map(s => {\n      if (\n        s.viewStories.some(v => v.user.id === this.auth.currentUserValue.id) ||\n        s.user.id === this.auth.currentUserValue.id\n      ) {\n        s.viewed = true;\n      }\n    });\n\n    return stories;\n  }\n\n  async getStories() {\n    const stories = (await this.rest.get(\"stories\").toPromise()) as Story[];\n    stories.map(s => {\n      if (\n        s.viewStories.some(v => v.user.id === this.auth.currentUserValue.id) ||\n        s.user.id === this.auth.currentUserValue.id\n      ) {\n        s.viewed = true;\n      }\n    });\n\n    return stories;\n  }\n\n  async getStoriesSlug(slug: string) {\n    const stories = (await this.rest\n      .get(`stories-slug/${slug}`)\n      .toPromise()) as Story[];\n    stories.map(s => {\n      if (\n        s.viewStories.some(v => v.user.id === this.auth.currentUserValue.id) ||\n        s.user.id === this.auth.currentUserValue.id\n      ) {\n        s.viewed = true;\n      }\n    });\n\n    return stories;\n  }\n\n  async getAllStories() {\n    const stories = (await this.rest.get(\"all-stories\").toPromise()) as Story[];\n    stories.map(s => {\n      if (\n        s.viewStories.some(v => v.user.id === this.auth.currentUserValue.id) ||\n        s.user.id === this.auth.currentUserValue.id\n      ) {\n        s.viewed = true;\n      }\n    });\n\n    return stories;\n  }\n\n  orderStories(stories: Story[]) {\n    stories.sort((a, b) => {\n      return (\n        new Date(a.time_creation).getTime() -\n        new Date(b.time_creation).getTime()\n      );\n    });\n    return stories;\n  }\n\n  groupStories(stories: Story[]) {\n    const groupedStories = [];\n    stories = stories.reverse();\n    stories.forEach(s => {\n      if (!groupedStories.some(g => g.user.id === s.user.id)) {\n        const filterStories = stories.filter(sf => sf.user.id === s.user.id);\n        groupedStories.push(filterStories[0]);\n      }\n    });\n\n    return [\n      ...groupedStories.filter(\n        s => s.user.id === this.auth.currentUserValue.id\n      ),\n      ...groupedStories.filter(s => s.user.id !== this.auth.currentUserValue.id)\n    ];\n  }\n\n  async sendStory(image: Blob, text: string, mentions?: Story[\"mentions\"]) {\n    const formData: FormData = new FormData();\n    formData.set(\"image\", image);\n    formData.set(\"text\", text);\n    formData.set(\"mentions\", JSON.stringify(mentions));\n    return (await this.uploadSvc.upload(\"story-upload\", formData)) as Story;\n  }\n\n  viewStory(id: Story[\"id\"]) {\n    this.rest.put(\"view-story\", { story: id }).toPromise();\n  }\n\n  deleteStory(id: Story[\"id\"]) {\n    return this.rest.delete(`delete-story/${id}`).toPromise();\n  }\n\n  like(id: Story[\"id\"]) {\n    return this.rest.put(\"like-story\", { story: id }).toPromise() as Promise<\n      Story\n    >;\n  }\n\n  unlike(id: Story[\"id\"]) {\n    return this.rest.delete(`like-story/${id}`).toPromise() as Promise<Story>;\n  }\n\n  async commentStory(\n    id: Story[\"id\"],\n    text: Story[\"text\"],\n    mentions?: User[\"username\"][]\n  ) {\n    return (await this.rest\n      .put(\"comment-story\", { story: id, text, mentions })\n      .toPromise()) as Story;\n  }\n\n  likeComment(id: Story[\"comments\"][0][\"id\"]) {\n    return this.rest\n      .put(\"like-comment\", { comment: id })\n      .toPromise() as Promise<Story>;\n  }\n\n  unlikeComment(id: Story[\"comments\"][0][\"id\"]) {\n    return this.rest.delete(`like-comment/${id}`).toPromise() as Promise<Story>;\n  }\n\n  deleteComment(id: Story[\"id\"]) {\n    return this.rest.delete(`delete-comment/${id}`).toPromise();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { SwUpdate } from \"@angular/service-worker\";\nimport { ToastController } from \"@ionic/angular\";\n\n@Injectable({ providedIn: \"root\" })\nexport class SwService {\n  constructor(private swUpdate: SwUpdate, private toast: ToastController) {}\n\n  async init() {\n    this.swUpdate.available.subscribe(async res => {\n      const toast = await this.toast.create({\n        message: \"¡Nueva actualización disponible!\",\n        buttons: [\n          {\n            text: \"Instalar\",\n            handler: () => {\n              window.location.reload();\n            }\n          }\n        ],\n        position: \"bottom\"\n      });\n\n      await toast.present();\n\n      toast\n        .onDidDismiss()\n        .then(() => this.swUpdate.activateUpdate())\n        .then(() => window.location.reload());\n    });\n  }\n}\n","import { HttpClient, HttpParams } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\n\nimport { environment } from \"../../environments/environment\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class UploadService {\n  private apiUrl = environment.apiUrl;\n\n  constructor(public http: HttpClient) { }\n\n  async upload(endpoint: string, data: FormData) {\n    const params = new HttpParams();\n\n    return await this.http\n      .post(`${this.apiUrl}${endpoint}`, data, {\n        params,\n        reportProgress: true\n      })\n      .toPromise();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { BrowserTab } from \"@ionic-native/browser-tab/ngx\";\nimport { Platform } from \"@ionic/angular\";\nimport { InAppBrowser } from \"@ionic-native/in-app-browser/ngx\";\nimport { Router } from \"@angular/router\";\nimport { RoomService } from \"./room.service\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class UrlService {\n  constructor(\n    private browserTab: BrowserTab,\n    private iab: InAppBrowser,\n    private platform: Platform,\n    private router: Router,\n    private roomSvc: RoomService\n  ) {}\n\n  async openUrl(event: string | any) {\n    let url = \"\";\n    if (typeof event !== \"string\" && event?.srcElement?.href) {\n      event.preventDefault();\n    }\n    if (\n      event?.srcElement?.href &&\n      event?.target?.className.includes(\"linkified\")\n    ) {\n      url = event.srcElement.href;\n    } else if (typeof event === \"string\") {\n      url = event;\n    }\n\n    if (url) {\n      url = this.convertUrl(url);\n      if (url.charAt(0) == \"/\") {\n        this.router.navigate([url]);\n      } else {\n        if (this.platform.is(\"cordova\")) {\n          this.browserTab.isAvailable().then(isAvailable => {\n            if (isAvailable) {\n              this.browserTab.openUrl(url);\n            } else {\n              const browser = this.iab.create(url);\n              browser.show();\n            }\n          });\n        } else {\n          const browser = this.iab.create(url);\n          browser.show();\n        }\n        return;\n      }\n    }\n\n    if (event.srcElement?.href && event.target.className.includes(\"mention\")) {\n      const id = event.target.innerHTML.replace(\"@\", \"\");\n      if (id !== 1) {\n        this.router.navigate([\"/profile\", id]);\n      }\n      return;\n    }\n\n    if (event.srcElement?.href && event.target.className.includes(\"hashtag\")) {\n      let slug = event.target.innerHTML.replace(\"#\", \"\");\n      slug = slug === \"frikiradar\" ? \"frikiradar-room\" : slug;\n      const room = await this.roomSvc.getRoom(slug);\n      if (room.page) {\n        this.router.navigate([\"/page\", slug]);\n      } else {\n        this.router.navigate([\"/room\", slug]);\n      }\n      return;\n    }\n  }\n\n  convertUrl(url: string): string {\n    // si estoy en app y recibo https://frikiradar.app/albertoi -> convierto a /albertoi\n    if (url.includes(\"https://frikiradar.app/\")) {\n      url = url.replace(\"https://frikiradar.app/\", \"/\");\n    }\n\n    return url;\n  }\n}\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { SafeResourceUrl } from \"@angular/platform-browser\";\nimport { ToastController } from \"@ionic/angular\";\nimport { environment } from \"src/environments/environment\";\n\nimport { User } from \"./../models/user\";\nimport { AuthService } from \"./auth.service\";\nimport { RestService } from \"./rest.service\";\nimport { UploadService } from \"./upload.service\";\n\nconst httpOptions = {\n  headers: new HttpHeaders({ \"Content-Type\": \"application/json\" })\n};\n\n@Injectable({ providedIn: \"root\" })\nexport class UserService {\n  constructor(\n    private rest: RestService,\n    private uploadSvc: UploadService,\n    private auth: AuthService,\n    private toast: ToastController,\n    private http: HttpClient\n  ) {}\n\n  async getUser(id: User[\"id\"] | User[\"username\"]): Promise<User> {\n    try {\n      return (await this.rest.get(`user/${id}`).toPromise()) as User;\n    } catch (e) {\n      throw new Error(\"No se puede obtener el usuario\");\n    }\n  }\n\n  async getPublicUser(id: User[\"id\"] | User[\"username\"]): Promise<User> {\n    try {\n      return (await this.http\n        .get(`${environment.root}api/public-user/${id}`, httpOptions)\n        .toPromise()) as User;\n    } catch (e) {\n      throw new Error(\"No se puede obtener el usuario\");\n    }\n  }\n\n  async updateUser(user: User): Promise<User> {\n    try {\n      user = (await this.rest.put(\"user\", user).toPromise()) as User;\n      this.auth.setAuthUser(user);\n      return user;\n    } catch (e) {\n      throw new Error(\"No se puede actualizar el usuario\");\n    }\n  }\n\n  async uploadAvatar(file: Blob) {\n    const formData: FormData = new FormData();\n    formData.set(\"avatar\", file);\n    const user = (await this.uploadSvc.upload(\"avatar\", formData)) as User;\n    localStorage.setItem(\"currentUser\", JSON.stringify(user));\n    return user;\n  }\n\n  async setAvatar(src: SafeResourceUrl) {\n    try {\n      const user = (await this.rest\n        .put(\"avatar\", { avatar: src })\n        .toPromise()) as User;\n      this.auth.setAuthUser(user);\n      return user;\n    } catch (e) {\n      throw new Error(\"No se puede actualizar el usuario\");\n    }\n  }\n\n  async deleteAvatar(src: SafeResourceUrl) {\n    try {\n      const user = (await this.rest\n        .put(\"delete-avatar\", { avatar: src })\n        .toPromise()) as User;\n      this.auth.setAuthUser(user);\n      return user;\n    } catch (e) {\n      throw new Error(\"No se puede actualizar el usuario\");\n    }\n  }\n\n  async setCoordinates(longitude, latitude) {\n    return (await this.rest\n      .put(\"coordinates\", { longitude, latitude })\n      .toPromise()) as Promise<User[\"coordinates\"]>;\n  }\n\n  getRadarUsers(\n    page = 1,\n    ratio = -1,\n    options?: { identity: boolean; range: boolean; connection: boolean }\n  ) {\n    return this.rest\n      .put(\"radar\", { page, ratio, options })\n      .toPromise() as Promise<User[]>;\n  }\n\n  searchUsers(query: string, order: \"distance\" | \"match\", page: number) {\n    return this.rest\n      .post(`search?page=${page}`, { query, order })\n      .toPromise() as Promise<User[]>;\n  }\n\n  searchUsernames(query: string) {\n    return this.rest.get(`search-usernames/${query}`).toPromise() as Promise<\n      User[]\n    >;\n  }\n\n  activateUser(verification_code: string) {\n    return this.rest\n      .put(\"activation\", { verification_code })\n      .toPromise() as Promise<User>;\n  }\n\n  resendActivationEmail() {\n    return this.rest.get(\"activation\");\n  }\n\n  disableUser(password: string, note: string) {\n    return this.rest\n      .put(\"disable\", {\n        password,\n        note\n      })\n      .toPromise() as Promise<User>;\n  }\n\n  removeAccount(password: string, note: string) {\n    return this.rest\n      .put(\"remove-account\", {\n        password,\n        note\n      })\n      .toPromise() as Promise<User>;\n  }\n\n  changePassword(old_password: string, new_password: string) {\n    return this.rest\n      .put(\"password\", {\n        old_password,\n        new_password\n      })\n      .toPromise() as Promise<User>;\n  }\n\n  changeEmail(old_email: string, new_email: string) {\n    return this.rest\n      .put(\"email\", {\n        old_email,\n        new_email\n      })\n      .toPromise() as Promise<User>;\n  }\n\n  changeUsername(new_username: string) {\n    return this.rest\n      .put(\"username\", {\n        new_username\n      })\n      .toPromise() as Promise<User>;\n  }\n\n  getLikes() {\n    return this.rest.get(\"likes\").toPromise() as Promise<User[]>;\n  }\n\n  like(id: User[\"id\"]) {\n    return this.rest.put(\"like\", { user: id }).toPromise() as Promise<User>;\n  }\n\n  unlike(id: User[\"id\"]) {\n    return this.rest.delete(`like/${id}`).toPromise() as Promise<User>;\n  }\n\n  getBlocks() {\n    return this.rest.get(\"blocks\").toPromise() as Promise<User[]>;\n  }\n\n  block(id: User[\"id\"], note?: string) {\n    return this.rest.put(\"block\", { user: id, note }).toPromise();\n  }\n\n  unblock(id: User[\"id\"]) {\n    return this.rest.delete(`block/${id}`).toPromise() as Promise<User[]>;\n  }\n\n  report(id: User[\"id\"], note?: string) {\n    return this.rest.put(\"report\", { user: id, note }).toPromise();\n  }\n\n  getHides() {\n    return this.rest.get(\"hides\").toPromise() as Promise<User[]>;\n  }\n\n  hide(id: User[\"id\"]) {\n    return this.rest.put(\"hide\", { user: id }).toPromise();\n  }\n\n  view(id: User[\"id\"]) {\n    this.rest.put(\"view\", { user: id }).toPromise();\n  }\n\n  unhide(id: User[\"id\"]) {\n    return this.rest.delete(`hide/${id}`).toPromise() as Promise<User[]>;\n  }\n\n  async showRole(user: User) {\n    let message = \"\";\n    if (user.roles?.includes(\"ROLE_ADMIN\")) {\n      message = \"Administrador\";\n    } else if (user.roles?.includes(\"ROLE_MASTER\")) {\n      message = \"Moderador\";\n    } else if (user.roles?.includes(\"ROLE_PATREON\")) {\n      message = \"Patreon\";\n    } else if (user.roles.includes(\"ROLE_DEMO\")) {\n      message = \"FrikiBot\";\n    } else if (user.verified) {\n      message = \"Usuario verificado\";\n    }\n\n    (\n      await this.toast.create({\n        message,\n        duration: 1500,\n        position: \"middle\",\n        color: this.getRoleColor(user)\n      })\n    ).present();\n  }\n\n  getRoleColor(user?: User) {\n    if (!user) {\n      user = this.auth.currentUserValue;\n    }\n\n    if (user.roles.includes(\"ROLE_ADMIN\")) {\n      return \"danger\";\n    } else if (user.roles.includes(\"ROLE_MASTER\")) {\n      return \"tertiary\";\n    } else if (user.roles.includes(\"ROLE_PATREON\")) {\n      return \"patreon\";\n    } else if (user.roles.includes(\"ROLE_DEMO\")) {\n      return \"medium\";\n    } else if (user.verified) {\n      return \"secondary\";\n    }\n    return \"light\";\n  }\n\n  getRoleIcon(user?: User) {\n    if (!user) {\n      user = this.auth.currentUserValue;\n    }\n\n    if (user.roles.includes(\"ROLE_ADMIN\")) {\n      return \"shield-checkmark\";\n    } else if (user.roles.includes(\"ROLE_MASTER\")) {\n      return \"shield-checkmark\";\n    } else if (user.roles.includes(\"ROLE_PATREON\")) {\n      return \"/assets/icon/patreon_coral.svg\";\n    } else if (user.roles.includes(\"ROLE_DEMO\")) {\n      return \"/assets/icon/smart_toy_white_24dp.svg\";\n    } else if (user.verified) {\n      return \"checkmark-circle\";\n    }\n\n    return false;\n  }\n\n  async linkToPatreon(code: string) {\n    await this.rest.put(\"link-patreon\", { oauth_code: code }).toPromise();\n  }\n\n  getOrientations() {\n    return [\n      \"Heterosexual\",\n      \"Homosexual\",\n      \"Bisexual\",\n      \"Pansexual\",\n      \"Queer\",\n      \"Demisexual\",\n      \"Sapiosexual\",\n      \"Asexual\"\n    ];\n  }\n\n  getPronouns() {\n    return [\"El\", \"Ella\", \"Elle\", \"Elli\"];\n  }\n\n  getRelationships() {\n    return [\"Monógama\", \"No-monógama\"];\n  }\n\n  getStatus() {\n    return [\"Soltero\", \"Saliendo con alguien\", \"Pareja estable\", \"Casado\"];\n  }\n\n  getGenders() {\n    return [\n      \"Mujer\",\n      \"Hombre\",\n      \"Mujer transgénero\",\n      \"Hombre transgénero\",\n      \"Agénero\",\n      \"Andrógino\",\n      \"Género fluido\",\n      \"Bigénero\",\n      \"No-binario\",\n      \"No conforme\",\n      \"Pangénero\",\n      \"Poligénero\",\n      \"Intergénero\"\n    ];\n  }\n\n  getConnections() {\n    return [\n      \"Amistad\",\n      \"Sexo ocasional\",\n      \"Amistad con derechos\",\n      \"Pareja formal\"\n    ];\n  }\n}\n","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Camera } from \"@ionic-native/camera/ngx\";\nimport { WebView } from \"@ionic-native/ionic-webview/ngx\";\nimport { SocialSharing } from \"@ionic-native/social-sharing/ngx\";\nimport {\n  AlertController,\n  ModalController,\n  Platform,\n  ToastController\n} from \"@ionic/angular\";\nimport { StatusBar } from \"@ionic-native/status-bar/ngx\";\n\nimport { CropperModal } from \"../cropper/cropper.modal\";\nimport { WebcamModal } from \"../webcam/webcam.modal\";\nimport { AuthService } from \"./auth.service\";\nimport { Config } from \"./config.service\";\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class UtilsService {\n  constructor(\n    public http: HttpClient,\n    private alert: AlertController,\n    private auth: AuthService,\n    private socialSharing: SocialSharing,\n    private platform: Platform,\n    private webview: WebView,\n    private camera: Camera,\n    private modal: ModalController,\n    private statusBar: StatusBar, // private navigationBar: NavigationBarColor\n    private toast: ToastController\n  ) {}\n\n  async takePicture(\n    mode?: string,\n    crop?: boolean,\n    name?: string,\n    returnsrc = false,\n    square = true\n  ): Promise<Blob | string> {\n    const fileUri = await this.camera.getPicture({\n      quality: 70,\n      destinationType: this.camera.DestinationType.FILE_URI,\n      encodingType: this.camera.EncodingType.JPEG,\n      sourceType:\n        mode === \"camera\"\n          ? this.camera.PictureSourceType.CAMERA\n          : this.camera.PictureSourceType.PHOTOLIBRARY,\n      mediaType: this.camera.MediaType.PICTURE,\n      cameraDirection: 1,\n      correctOrientation: true\n    });\n\n    let src = this.webview.convertFileSrc(fileUri);\n\n    try {\n      if (crop) {\n        const res = await this.cropImage(\"\", src, square);\n        if (typeof res == \"string\") {\n          src = res;\n        } else {\n          return;\n        }\n      }\n      // console.log(src);\n      if (returnsrc) {\n        return src;\n      }\n      const blob = await this.urltoBlob(src);\n      return blob;\n    } catch (e) {\n      console.error(\"Error al recortar la imagen.\", e);\n    }\n  }\n\n  async cropImage(\n    event: any = \"\",\n    src: string = \"\",\n    square = true,\n    aspectRatio = 1 / 1\n  ): Promise<string | boolean> {\n    const modal = await this.modal.create({\n      component: CropperModal,\n      componentProps: {\n        event,\n        src,\n        square,\n        aspectRatio\n      },\n      cssClass: \"full-modal\"\n    });\n    await modal.present();\n\n    try {\n      const data = await modal.onDidDismiss();\n      if (data.data) {\n        return data.data;\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    return false;\n  }\n\n  async webcamImage(\n    name: string = \"default\",\n    crop?: boolean,\n    square = true\n  ): Promise<Blob | boolean> {\n    const modal = await this.modal.create({\n      component: WebcamModal,\n      cssClass: \"full-modal\"\n    });\n    await modal.present();\n\n    try {\n      const data = await modal.onDidDismiss();\n      if (data.data) {\n        let src = data.data;\n        if (crop) {\n          src = await this.cropImage(\"\", src, square);\n        }\n        if (typeof src == \"string\") {\n          const blob = await this.urltoBlob(src);\n          return blob;\n        } else {\n          return;\n        }\n      }\n    } catch (e) {\n      console.error(e);\n    }\n    return false;\n  }\n\n  base64toBlob(dataURI: string) {\n    const bytes: string = atob(dataURI.split(\",\")[1]);\n    // .replace(/^data:image\\/(png|jpg|jpeg|\\*);charset=utf-8;base64,/, \"\")\n    const byteNumbers = new Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) {\n      byteNumbers[i] = bytes.charCodeAt(i);\n    }\n    const byteArray = new Uint8Array(byteNumbers);\n\n    return new Blob([byteArray], { type: \"image/png\" });\n  }\n\n  async urltoBlob(url: string): Promise<Blob> {\n    const response = await fetch(url);\n    const blob = await response.blob();\n    return blob;\n  }\n\n  async blobToUrl(blob: Blob | File) {\n    const src = URL.createObjectURL(blob);\n    return src;\n  }\n\n  fileToBase64(file: Blob | File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result as string);\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  getBase64Image(imgUrl: string): Promise<string> {\n    return new Promise<string>(resolve => {\n      const img = new Image();\n      img.src = imgUrl;\n      img.setAttribute(\"crossOrigin\", \"anonymous\");\n      img.onload = () => {\n        const canvas = document.createElement(\"canvas\");\n        canvas.width = img.width;\n        canvas.height = img.height;\n        const ctx = canvas.getContext(\"2d\");\n        ctx.drawImage(img, 0, 0);\n        const dataURL = canvas.toDataURL(\"image/png\");\n        // resolve(dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\"));\n        resolve(dataURL);\n      };\n    });\n  }\n\n  async getDataURI(url: string): Promise<string> {\n    const blob = await this.urltoBlob(url);\n    return await this.fileToBase64(blob);\n  }\n\n  async test() {\n    const alert = await this.alert.create({\n      header: \"Función aún no disponible\",\n      message: \"Esta acción se encuentra aún en desarrollo.\",\n      buttons: [\"Gracias por avisar\"],\n      cssClass: \"round-alert\"\n    });\n\n    await alert.present();\n  }\n\n  async share(url = \"\", message = \"\") {\n    if (!url) {\n      url = \"https://frikiradar.com\";\n    }\n\n    if (!message) {\n      message =\n        \"Conoce a personas con tus mismos gustos con FrikiRadar, la red social para frikis\";\n    }\n\n    const referrer = this.auth.currentUserValue\n      ? this.auth.currentUserValue.username\n      : this.platform.is(\"cordova\")\n      ? \"app\"\n      : \"web\";\n\n    if (this.platform.is(\"hybrid\")) {\n      const options = {\n        message, // not supported on some apps (Facebook, Instagram)\n        subject: \"FrikiRadar, conoce a personas frikis como tú\", // fi. for email\n        url: `${url}?referrer=${referrer}`,\n        chooserTitle: \"Elige una app y ayúdanos a seguir creciendo\" // Android only, you can override the default share sheet title,\n      };\n\n      this.socialSharing.shareWithOptions(options);\n    } else if (window.navigator && window.navigator[\"share\"]) {\n      window.navigator[\"share\"]({\n        title: \"FrikiRadar, conoce a personas frikis como tú\",\n        text: message,\n        url: `${url}?referrer=${referrer}`\n      })\n        .then(() => {\n          console.log(\"Thanks for sharing!\");\n        })\n        .catch(console.error);\n    } else {\n      // fallback\n      try {\n        await navigator.clipboard.writeText(\n          `${message} ${url}?referrer=${referrer}`\n        );\n        (\n          await this.toast.create({\n            message: \"Link copiado al portapapeles\",\n            duration: 2000,\n            position: \"middle\"\n          })\n        ).present();\n      } catch (e) {\n        (\n          await this.toast.create({\n            message: \"Error al copiar el link\",\n            duration: 2000,\n            position: \"middle\"\n          })\n        ).present();\n      }\n    }\n  }\n\n  niceDate(time: string) {\n    const date = new Date(time);\n    const hours = this.format_two_digits(date.getHours());\n    const minutes = this.format_two_digits(date.getMinutes());\n\n    const diff = (new Date().getTime() - date.getTime()) / 1000;\n    const daydiff = Math.floor(diff / 86400);\n\n    if (isNaN(daydiff) || daydiff < 0 || daydiff >= 31) {\n      return \"\";\n    }\n\n    return (\n      (daydiff === 0 &&\n        ((diff < 300 && \"ahora mismo\") ||\n          (diff < 3600 && \"hace \" + Math.floor(diff / 60) + \" minutos\") ||\n          (diff < 7200 && \"hace 1 hora\") ||\n          (diff < 86400 && \"hace \" + Math.floor(diff / 3600) + \" horas\"))) ||\n      (daydiff === 1 && \"ayer a las \" + hours + \":\" + minutes) ||\n      (daydiff < 14 && \"hace \" + daydiff + \" días\") ||\n      (daydiff < 30 && \"hace \" + Math.ceil(daydiff / 7) + \" semanas\") ||\n      (daydiff < 60 && \"hace 1 mes\")\n    );\n  }\n\n  format_two_digits(n: string | number) {\n    return n < 10 ? \"0\" + n : n;\n  }\n\n  delay(ms: number) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  toggleTheme(theme: Config[\"theme\"], oldTheme?: Config[\"theme\"]) {\n    if (oldTheme) {\n      document.body.classList.toggle(oldTheme, false);\n    }\n    document.body.classList.toggle(theme, true);\n    if (this.platform.is(\"cordova\")) {\n      switch (theme) {\n        case \"dark\":\n          this.statusBar.backgroundColorByHexString(\"#1f1f1f\");\n          this.statusBar.styleBlackTranslucent();\n          // this.navigationBar.backgroundColorByHexString(\"#1f1f1f\");\n          break;\n        case \"light\":\n          this.statusBar.backgroundColorByHexString(\"#fafafa\");\n          this.statusBar.styleDefault();\n          // this.navigationBar.backgroundColorByHexString(\"#fafafa\");\n          break;\n        case \"cyberpunk\":\n          this.statusBar.backgroundColorByHexString(\"#0c1340\");\n          this.statusBar.styleBlackTranslucent();\n          // this.navigationBar.backgroundColorByHexString(\"#0c1340\");\n          break;\n        case \"black\":\n          this.statusBar.backgroundColorByHexString(\"#000000\");\n          this.statusBar.styleBlackTranslucent();\n          break;\n        case \"fire\":\n          this.statusBar.backgroundColorByHexString(\"#000000\");\n          this.statusBar.styleBlackTranslucent();\n          // this.navigationBar.backgroundColorByHexString(\"#0c1340\");\n          break;\n        default:\n          this.statusBar.backgroundColorByHexString(\"#1f1f1f\");\n          this.statusBar.styleBlackTranslucent();\n        // this.navigationBar.backgroundColorByHexString(\"#1f1f1f\");\n      }\n    }\n  }\n\n  makeId(length: number): string {\n    let result = \"\";\n    const characters =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    const charactersLength = characters.length;\n    for (var i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n  }\n\n  getCountries() {\n    return [\n      \"España\",\n      \"México\",\n      \"Argentina\",\n      \"Chile\",\n      \"Perú\",\n      \"Afganistán\",\n      \"Albania\",\n      \"Alemania\",\n      \"Andorra\",\n      \"Angola\",\n      \"Antigua y Barbuda\",\n      \"Arabia Saudita\",\n      \"Argelia\",\n      \"Armenia\",\n      \"Australia\",\n      \"Austria\",\n      \"Azerbaiyán\",\n      \"Bahamas\",\n      \"Bangladés\",\n      \"Barbados\",\n      \"Baréin\",\n      \"Bélgica\",\n      \"Belice\",\n      \"Benín\",\n      \"Bielorrusia\",\n      \"Birmania\",\n      \"Bolivia\",\n      \"Bosnia y Herzegovina\",\n      \"Botsuana\",\n      \"Brasil\",\n      \"Brunéi\",\n      \"Bulgaria\",\n      \"Burkina Faso\",\n      \"Burundi\",\n      \"Bután\",\n      \"Cabo Verde\",\n      \"Camboya\",\n      \"Camerún\",\n      \"Canadá\",\n      \"Catar\",\n      \"Chad\",\n      \"China\",\n      \"Chipre\",\n      \"Ciudad del Vaticano\",\n      \"Colombia\",\n      \"Comoras\",\n      \"Corea del Norte\",\n      \"Corea del Sur\",\n      \"Costa de Marfil\",\n      \"Costa Rica\",\n      \"Croacia\",\n      \"Cuba\",\n      \"Dinamarca\",\n      \"Dominica\",\n      \"Ecuador\",\n      \"Egipto\",\n      \"El Salvador\",\n      \"Emiratos Árabes Unidos\",\n      \"Eritrea\",\n      \"Eslovaquia\",\n      \"Eslovenia\",\n      \"Estados Unidos\",\n      \"Estonia\",\n      \"Etiopía\",\n      \"Filipinas\",\n      \"Finlandia\",\n      \"Fiyi\",\n      \"Francia\",\n      \"Gabón\",\n      \"Gambia\",\n      \"Georgia\",\n      \"Ghana\",\n      \"Granada\",\n      \"Grecia\",\n      \"Guatemala\",\n      \"Guyana\",\n      \"Guinea\",\n      \"Guinea ecuatorial\",\n      \"Guinea-Bisáu\",\n      \"Haití\",\n      \"Honduras\",\n      \"Hungría\",\n      \"India\",\n      \"Indonesia\",\n      \"Irak\",\n      \"Irán\",\n      \"Irlanda\",\n      \"Islandia\",\n      \"Islas Marshall\",\n      \"Islas Salomón\",\n      \"Israel\",\n      \"Italia\",\n      \"Jamaica\",\n      \"Japón\",\n      \"Jordania\",\n      \"Kazajistán\",\n      \"Kenia\",\n      \"Kirguistán\",\n      \"Kiribati\",\n      \"Kuwait\",\n      \"Laos\",\n      \"Lesoto\",\n      \"Letonia\",\n      \"Líbano\",\n      \"Liberia\",\n      \"Libia\",\n      \"Liechtenstein\",\n      \"Lituania\",\n      \"Luxemburgo\",\n      \"Madagascar\",\n      \"Malasia\",\n      \"Malaui\",\n      \"Maldivas\",\n      \"Malí\",\n      \"Malta\",\n      \"Marruecos\",\n      \"Mauricio\",\n      \"Mauritania\",\n      \"Micronesia\",\n      \"Moldavia\",\n      \"Mónaco\",\n      \"Mongolia\",\n      \"Montenegro\",\n      \"Mozambique\",\n      \"Namibia\",\n      \"Nauru\",\n      \"Nepal\",\n      \"Nicaragua\",\n      \"Níger\",\n      \"Nigeria\",\n      \"Noruega\",\n      \"Nueva Zelanda\",\n      \"Omán\",\n      \"Países Bajos\",\n      \"Pakistán\",\n      \"Palaos\",\n      \"Panamá\",\n      \"Papúa Nueva Guinea\",\n      \"Paraguay\",\n      \"Polonia\",\n      \"Portugal\",\n      \"Reino Unido\",\n      \"República Centroafricana\",\n      \"República Checa\",\n      \"República de Macedonia\",\n      \"República del Congo\",\n      \"República Democrática del Congo\",\n      \"República Dominicana\",\n      \"República Sudafricana\",\n      \"Ruanda\",\n      \"Rumanía\",\n      \"Rusia\",\n      \"Samoa\",\n      \"San Cristóbal y Nieves\",\n      \"San Marino\",\n      \"San Vicente y las Granadinas\",\n      \"Santa Lucía\",\n      \"Santo Tomé y Príncipe\",\n      \"Senegal\",\n      \"Serbia\",\n      \"Seychelles\",\n      \"Sierra Leona\",\n      \"Singapur\",\n      \"Siria\",\n      \"Somalia\",\n      \"Sri Lanka\",\n      \"Suazilandia\",\n      \"Sudán\",\n      \"Sudán del Sur\",\n      \"Suecia\",\n      \"Suiza\",\n      \"Surinam\",\n      \"Tailandia\",\n      \"Tanzania\",\n      \"Tayikistán\",\n      \"Timor Oriental\",\n      \"Togo\",\n      \"Tonga\",\n      \"Trinidad y Tobago\",\n      \"Túnez\",\n      \"Turkmenistán\",\n      \"Turquía\",\n      \"Tuvalu\",\n      \"Ucrania\",\n      \"Uganda\",\n      \"Uruguay\",\n      \"Uzbekistán\",\n      \"Vanuatu\",\n      \"Venezuela\",\n      \"Vietnam\",\n      \"Yemen\",\n      \"Yibuti\",\n      \"Zambia\",\n      \"Zimbabue\"\n    ];\n  }\n\n  getDeviceSymbols() {\n    return [\"$\", \"€\", \"S/.\", \"¥\", \"£\", \"\"];\n  }\n}\n","import {\n  Attribute,\n  Directive,\n  ElementRef,\n  HostListener,\n  Renderer2\n} from \"@angular/core\";\n\n@Directive({\n  selector: \"img[default]\"\n})\nexport class ImagePreloadDirective {\n  constructor(\n    @Attribute(\"default\") public defaultSrc: string,\n    private renderer: Renderer2,\n    private el: ElementRef\n  ) {\n    renderer.setAttribute(this.el.nativeElement, \"src\", this.defaultSrc);\n  }\n\n  @HostListener(\"error\") onError() {\n    this.renderer.setAttribute(this.el.nativeElement, \"src\", this.defaultSrc);\n  }\n}\n","import { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { IonicModule } from \"@ionic/angular\";\nimport { Camera } from \"@ionic-native/camera/ngx\";\nimport { NgxIonicImageViewerModule } from \"ngx-ionic-image-viewer\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { ImageCropperModule } from \"ngx-image-cropper\";\nimport { WebcamModal } from \"../webcam/webcam.modal\";\nimport { WebcamModule } from \"ngx-webcam\";\nimport { PickerModule } from \"@ctrl/ngx-emoji-mart\";\nimport { LinkyModule } from \"ngx-linky\";\n\nimport { CropperModal } from \"../cropper/cropper.modal\";\nimport { CreditsModal } from \"../credits/credits.modal\";\nimport { NiceDatePipe } from \"../nice-date.pipe\";\nimport { RequestGeolocationModal } from \"../radar/request-geolocation-modal/request-geolocation.modal\";\nimport { ImagePreloadDirective } from \"../shared/image-preload.directive\";\nimport { ChatInputComponent } from \"../chat/chat-input/chat-input.component\";\nimport { MentionsPipe } from \"../mentions.pipe\";\nimport { StoryModal } from \"../story/story-modal/story.modal\";\nimport { ViewStoriesModal } from \"../story/view-stories/view-stories.modal\";\nimport { CommentLikesModal } from \"../story/comment-likes/comment-likes.modal\";\nimport { HashtagPipe } from \"../hashtag.pipe\";\nimport { ChatListComponent } from \"../chat/chat-list/chat-list.component\";\nimport { ChatModalComponent } from \"../chat/chat-modal/chat-modal.component\";\nimport { AudioPlayerComponent } from \"../audio-player/audio-player.component\";\nimport { ChatDatePipe } from \"../chat-date.pipe\";\nimport { EventModal } from \"../events/event-modal/event.modal\";\nimport { RulesPage } from \"../rules/rules.page\";\n\n@NgModule({\n    declarations: [\n        ImagePreloadDirective,\n        NiceDatePipe,\n        ChatDatePipe,\n        MentionsPipe,\n        HashtagPipe,\n        CreditsModal,\n        RequestGeolocationModal,\n        CropperModal,\n        WebcamModal,\n        ChatInputComponent,\n        AudioPlayerComponent,\n        ChatListComponent,\n        ChatModalComponent,\n        StoryModal,\n        EventModal,\n        ViewStoriesModal,\n        CommentLikesModal,\n        RulesPage\n    ],\n    imports: [\n        FormsModule,\n        ReactiveFormsModule,\n        IonicModule,\n        CommonModule,\n        NgxIonicImageViewerModule,\n        ImageCropperModule,\n        WebcamModule,\n        PickerModule,\n        LinkyModule\n    ],\n    exports: [\n        ImagePreloadDirective,\n        NiceDatePipe,\n        ChatDatePipe,\n        MentionsPipe,\n        HashtagPipe,\n        ChatInputComponent,\n        ChatListComponent,\n        ChatModalComponent,\n        LinkyModule,\n        AudioPlayerComponent\n    ],\n    providers: [Camera]\n})\nexport class SharedModule {}\n","import { Component, Input, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { ModalController } from \"@ionic/angular\";\nimport { Story } from \"src/app/models/story\";\nimport { User } from \"src/app/models/user\";\n\n@Component({\n  selector: \"comment-likes-modal\",\n  templateUrl: \"./comment-likes.modal.html\",\n  styleUrls: [\"./comment-likes.modal.scss\"]\n})\nexport class CommentLikesModal {\n  @Input() likes: Story[\"comments\"][0][\"likes\"];\n  constructor(private modal: ModalController, private router: Router) {}\n\n  async showProfile(id: User[\"id\"]) {\n    if (id !== 1) {\n      this.close({ showProfile: true });\n      this.router.navigate([\"/profile\", id]);\n    }\n  }\n\n  close(param?: any) {\n    this.modal.dismiss(param);\n  }\n}\n","import { Component, ElementRef, Input, OnInit, ViewChild } from \"@angular/core\";\nimport { FormBuilder, FormControl, FormGroup } from \"@angular/forms\";\nimport { DomSanitizer, SafeUrl } from \"@angular/platform-browser\";\nimport { AndroidPermissions } from \"@ionic-native/android-permissions/ngx\";\nimport { Keyboard } from \"@ionic-native/keyboard/ngx\";\nimport {\n  IonTextarea,\n  ModalController,\n  Platform,\n  ToastController\n} from \"@ionic/angular\";\n\nimport { User } from \"../../models/user\";\nimport { StoryService } from \"../../services/story.service\";\nimport { UserService } from \"../../services/user.service\";\nimport { UtilsService } from \"../../services/utils.service\";\n\n@Component({\n  selector: \"story-modal\",\n  templateUrl: \"./story.modal.html\",\n  styleUrls: [\"./story.modal.scss\"]\n})\nexport class StoryModal implements OnInit {\n  @Input() hash: string;\n  @ViewChild(\"imageInput\", { static: false })\n  imageInput: ElementRef;\n\n  @ViewChild(\"textarea\", { static: false })\n  textarea: IonTextarea;\n\n  public storyForm: FormGroup;\n  get text() {\n    return this.storyForm.get(\"text\");\n  }\n  public image: SafeUrl;\n  public imageFile: Blob;\n  private inputAt = false;\n  private mention: string;\n  public userMentions: User[\"username\"][] = [];\n  public usernames: User[];\n  private writing = false;\n  public showBackdrop = false;\n\n  constructor(\n    public modal: ModalController,\n    public formBuilder: FormBuilder,\n    public platform: Platform,\n    private androidPermissions: AndroidPermissions,\n    private utils: UtilsService,\n    private sanitizer: DomSanitizer,\n    private storySvc: StoryService,\n    private toast: ToastController,\n    public keyboard: Keyboard,\n    private userSvc: UserService\n  ) {\n    this.storyForm = formBuilder.group({\n      text: new FormControl()\n    });\n  }\n\n  async ngOnInit() {\n    if (this.hash) {\n      this.text.setValue(this.hash + \" \");\n    }\n  }\n\n  async selectPicture(type: \"camera\" | \"gallery\") {\n    if (this.platform.is(\"android\") && this.platform.is(\"cordova\")) {\n      await this.androidPermissions.requestPermissions([\n        this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE,\n        this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE\n      ]);\n    }\n\n    if (type == \"camera\") {\n      if (this.platform.is(\"cordova\")) {\n        const image = (await this.utils.takePicture(\n          \"camera\",\n          true,\n          \"default\",\n          false,\n          false\n        )) as File;\n        this.addPicture(image);\n      } else {\n        const image = await this.utils.webcamImage(\"avatar\", true, false);\n        if (!image || typeof image === \"boolean\") {\n          return false;\n        }\n        this.addPicture(image);\n      }\n    } else if (type == \"gallery\") {\n      if (this.platform.is(\"cordova\")) {\n        const image = await this.utils.takePicture(\n          \"gallery\",\n          true,\n          \"default\",\n          false,\n          false\n        );\n        if (!image || typeof image == \"string\") {\n          return false;\n        }\n        this.addPicture(image);\n      } else {\n        this.imageInput.nativeElement.dispatchEvent(new MouseEvent(\"click\"));\n      }\n    }\n  }\n\n  async selectText() {\n    this.image = \"\";\n  }\n\n  async addPicture(blob: Blob) {\n    if (typeof blob !== \"string\") {\n      const image = await this.utils.fileToBase64(blob);\n      this.image = this.sanitizer.bypassSecurityTrustUrl(image);\n    }\n    this.imageFile = blob;\n  }\n\n  async cropImagebyEvent(event: any) {\n    try {\n      const src = await this.utils.cropImage(event, null, false);\n      if (typeof src == \"string\") {\n        const blob = await this.utils.urltoBlob(src);\n        this.addPicture(blob);\n      }\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async publish() {\n    try {\n      this.showBackdrop = true;\n      (\n        await this.toast.create({\n          message: \"Publicando...\",\n          position: \"middle\"\n        })\n      ).present();\n      let text = \"\";\n      if (this.text.value) {\n        text = this.text.value.trim();\n      }\n      await this.storySvc.sendStory(this.imageFile, text, this.userMentions);\n      this.toast.dismiss();\n      (\n        await this.toast.create({\n          message: \"Historia publicada correctamente\",\n          duration: 2000,\n          position: \"middle\"\n        })\n      ).present();\n      this.showBackdrop = false;\n      this.modal.dismiss();\n    } catch (e) {\n      this.showBackdrop = false;\n      this.toast.dismiss();\n      (\n        await this.toast.create({\n          message: \"Error al publicar tu historia\",\n          duration: 2000,\n          position: \"middle\",\n          color: \"danger\"\n        })\n      ).present();\n    }\n  }\n\n  setMention(username: string) {\n    this.usernames = [];\n    this.inputAt = false;\n    this.text.setValue(this.text.value.replace(this.mention, `@${username} `));\n    this.userMentions = [...this.userMentions, username];\n    this.textarea.setFocus();\n    if (this.platform.is(\"cordova\")) {\n      this.keyboard.show();\n    }\n  }\n\n  async setWriting(text: string) {\n    if (this.text.value) {\n      if (text.charAt(text.length - 1) == \"@\") {\n        this.inputAt = true;\n      }\n\n      if (this.inputAt) {\n        const pattern = /\\B@[a-zA-Z0-9-_.À-ÿ\\u00f1\\u00d1 ]+/gi;\n        const matches = text.match(pattern);\n        if (matches) {\n          this.mention = matches[matches.length - 1];\n        }\n\n        if (this.writing) {\n          return;\n        }\n        this.writing = true;\n\n        if (this.mention?.length > 3 && this.text.value.length > 3) {\n          this.usernames = await this.userSvc.searchUsernames(\n            this.mention.replace(\"@\", \"\")\n          );\n        } else {\n          this.usernames = [];\n        }\n\n        setTimeout(async () => {\n          this.writing = false;\n        }, 500);\n      }\n    } else {\n      this.usernames = [];\n    }\n  }\n\n  cancel() {\n    this.modal.dismiss();\n  }\n}\n","import { Component, ElementRef, Input, OnInit, ViewChild } from \"@angular/core\";\nimport {\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  Validators\n} from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\nimport { Keyboard } from \"@ionic-native/keyboard/ngx\";\nimport {\n  ActionSheetController,\n  IonSlides,\n  IonTextarea,\n  ModalController,\n  Platform,\n  ToastController\n} from \"@ionic/angular\";\nimport { CupertinoPane, CupertinoSettings } from \"cupertino-pane\";\n\nimport { Story } from \"src/app/models/story\";\nimport { User } from \"src/app/models/user\";\nimport { AuthService } from \"src/app/services/auth.service\";\nimport { UrlService } from \"src/app/services/url.service\";\nimport { UserService } from \"src/app/services/user.service\";\nimport { StoryService } from \"../../services/story.service\";\nimport { CommentLikesModal } from \"../comment-likes/comment-likes.modal\";\nimport { StoryModal } from \"../story-modal/story.modal\";\n\n@Component({\n  selector: \"view-stories-modal\",\n  templateUrl: \"./view-stories.modal.html\",\n  styleUrls: [\"./view-stories.modal.scss\"]\n})\nexport class ViewStoriesModal implements OnInit {\n  @Input() stories: Story[];\n  @ViewChild(\"slides\", { static: true })\n  public slides: IonSlides;\n  @ViewChild(\"textarea\", { static: false })\n  textarea: IonTextarea;\n\n  public commentForm: FormGroup;\n  get comment() {\n    return this.commentForm.get(\"comment\");\n  }\n\n  public story: Story;\n  private delay = 5000;\n  public pane: CupertinoPane;\n  private inputAt = false;\n  private mention: string;\n  public userMentions: User[\"username\"][] = [];\n  public usernames: User[];\n  private writing = false;\n\n  paneSettings: CupertinoSettings = {\n    backdrop: true,\n    bottomClose: true,\n    buttonDestroy: false,\n    handleKeyboard: false,\n    initialBreak: \"top\",\n    onBackdropTap: () => {\n      this.pane.destroy({ animate: true });\n      this.slides.startAutoplay();\n    }\n  };\n\n  slideOpts = {\n    speed: 500,\n    autoplay: {\n      delay: this.delay\n    },\n    grabCursor: true,\n    lazy: true,\n    pagination: {\n      el: \".swiper-pagination\",\n      type: \"progressbar\"\n    }\n  };\n\n  constructor(\n    public modal: ModalController,\n    private modalCreate: ModalController,\n    private likeModal: ModalController,\n    public formBuilder: FormBuilder,\n    public platform: Platform,\n    private storySvc: StoryService,\n    public userSvc: UserService,\n    private toast: ToastController,\n    private sheet: ActionSheetController,\n    private router: Router,\n    public keyboard: Keyboard,\n    public auth: AuthService,\n    private urlSvc: UrlService\n  ) {\n    this.commentForm = formBuilder.group({\n      comment: new FormControl(\"\", [Validators.required])\n    });\n  }\n\n  async ngOnInit() {\n    this.story = this.stories[0];\n    this.setLikeStory();\n    this.viewStory(this.stories[0]);\n  }\n\n  async showProfile(id: User[\"id\"]) {\n    if (id !== 1) {\n      this.close();\n      this.router.navigate([\"/profile\", id]);\n    }\n  }\n\n  async slide() {\n    this.comment.setValue(\"\");\n    this.slides.getActiveIndex().then(index => {\n      this.story = this.stories[index];\n      this.setLikeStory();\n      this.viewStory(this.stories[index]);\n    });\n  }\n\n  async tap(event: PointerEvent) {\n    if (event.pageX > screen.width / 2) {\n      this.slides.slideNext();\n    } else {\n      this.slides.slidePrev();\n    }\n  }\n\n  commentFocus() {\n    this.slides.stopAutoplay();\n    this.viewComments();\n    setTimeout(() => {\n      this.textarea.setFocus();\n      if (this.platform.is(\"cordova\")) {\n        this.keyboard.show();\n      }\n    }, 500);\n  }\n\n  setLikeStory() {\n    this.story.viewStories.map(\n      v =>\n        (v.user.like = this.story.likeStories.some(\n          l => l.user.id === v.user.id\n        ))\n    );\n    this.story.like = !!this.story.likeStories.some(\n      l => l.user.id === this.auth.currentUserValue.id\n    );\n\n    this.story.comments.map(c => {\n      if (c.likes.some(l => l.id === this.auth.currentUserValue.id)) {\n        c.like = true;\n      }\n    });\n  }\n\n  async switchLikeStory() {\n    this.slides.stopAutoplay();\n    if (\n      this.story.likeStories.some(\n        l => l.user.id === this.auth.currentUserValue.id\n      )\n    ) {\n      this.story.like = false;\n      await this.storySvc.unlike(this.story.id);\n    } else {\n      this.story.like = true;\n      await this.storySvc.like(this.story.id);\n    }\n    this.slides.startAutoplay();\n  }\n\n  async switchLikeComment(comment: Story[\"comments\"][0]) {\n    this.slides.stopAutoplay();\n    if (comment.likes.some(l => l.id === this.auth.currentUserValue.id)) {\n      this.story.comments.map(c => {\n        if (c.id === comment.id) {\n          c.like = false;\n        }\n      });\n      this.story = await this.storySvc.unlikeComment(comment.id);\n    } else {\n      this.story.comments.map(c => {\n        if (c.id === comment.id) {\n          c.like = true;\n        }\n      });\n      this.story = await this.storySvc.likeComment(comment.id);\n      this.setLikeStory();\n    }\n  }\n\n  async viewStory(story: Story) {\n    if (\n      this.auth.currentUserValue.id !== story.user.id &&\n      !story.viewStories.some(v => v.user.id === this.auth.currentUserValue.id)\n    ) {\n      this.storySvc.viewStory(story.id);\n    }\n  }\n\n  async sendComment(event?: Event) {\n    if (event) {\n      event.preventDefault();\n    }\n    this.slides.stopAutoplay();\n    const text = this.comment.value.trim();\n    this.comment.setValue(\"\");\n    this.story = await this.storySvc.commentStory(\n      this.story.id,\n      text,\n      this.userMentions\n    );\n    this.setLikeStory();\n  }\n\n  async viewViews() {\n    this.slides.stopAutoplay();\n    this.pane = new CupertinoPane(\".views-pane\", this.paneSettings);\n    this.pane.present({ animate: true });\n  }\n\n  async viewComments() {\n    this.slides.stopAutoplay();\n    this.pane = new CupertinoPane(\".comments-pane\", this.paneSettings);\n    this.pane.present({ animate: true });\n  }\n\n  async showOptions(story: Story) {\n    this.slides.stopAutoplay();\n    const actionSheet = await this.sheet.create({\n      buttons: [\n        {\n          text: \"Añadir nueva historia\",\n          icon: \"add\",\n          handler: async () => {\n            const modal = await this.modalCreate.create({\n              component: StoryModal,\n              keyboardClose: true,\n              showBackdrop: true,\n              cssClass: \"full-modal\"\n            });\n\n            await modal.present();\n            await modal.onDidDismiss();\n          }\n        },\n        {\n          text: \"Eliminar historia\",\n          icon: \"trash-outline\",\n          handler: async () => {\n            try {\n              await this.storySvc.deleteStory(story.id);\n              (\n                await this.toast.create({\n                  message: \"Historia eliminada correctamente\",\n                  position: \"middle\",\n                  duration: 2000\n                })\n              ).present();\n              this.close();\n            } catch (e) {\n              (\n                await this.toast.create({\n                  message: \"Error al eliminar la historia\",\n                  duration: 2000,\n                  position: \"middle\",\n                  color: \"danger\"\n                })\n              ).present();\n            }\n          }\n        }\n      ]\n    });\n    await actionSheet.present();\n    await actionSheet.onDidDismiss();\n    this.slides.startAutoplay();\n  }\n\n  async viewCommentLikes(likes: Story[\"comments\"][0][\"likes\"]) {\n    const modal = await this.likeModal.create({\n      component: CommentLikesModal,\n      keyboardClose: true,\n      showBackdrop: true,\n      componentProps: { likes },\n      cssClass: \"medium-modal\"\n    });\n\n    await modal.present();\n    const data = await modal.onDidDismiss();\n    if (data?.data?.showProfile) {\n      this.close();\n    }\n  }\n\n  async reply(comment: Story[\"comments\"][0]) {\n    if (comment.user.id !== this.auth.currentUserValue.id) {\n      this.comment.setValue(`@${comment.user.username} `);\n      this.setMention(comment.user.username);\n    }\n    this.textarea.setFocus();\n    if (this.platform.is(\"cordova\")) {\n      this.keyboard.show();\n    }\n  }\n\n  setMention(username: string) {\n    this.usernames = [];\n    this.inputAt = false;\n    this.comment.setValue(\n      this.comment.value.replace(this.mention, `@${username} `)\n    );\n    this.userMentions = [...this.userMentions, username];\n    this.textarea.setFocus();\n    if (this.platform.is(\"cordova\")) {\n      this.keyboard.show();\n    }\n  }\n\n  async setWriting(text: string) {\n    if (this.comment.value) {\n      if (text.charAt(text.length - 1) == \"@\") {\n        this.inputAt = true;\n      }\n\n      if (this.inputAt) {\n        const pattern = /\\B@[a-zA-Z0-9-_.À-ÿ\\u00f1\\u00d1 ]+/gi;\n        const matches = text.match(pattern);\n        if (matches) {\n          this.mention = matches[matches.length - 1];\n        }\n\n        if (this.writing) {\n          return;\n        }\n        this.writing = true;\n\n        if (this.mention?.length > 3 && this.comment.value.length > 3) {\n          this.usernames = await this.userSvc.searchUsernames(\n            this.mention.replace(\"@\", \"\")\n          );\n        } else {\n          this.usernames = [];\n        }\n\n        setTimeout(async () => {\n          this.writing = false;\n        }, 500);\n      }\n    } else {\n      this.usernames = [];\n    }\n  }\n\n  async deleteComment(comment: Story[\"comments\"][0]) {\n    (\n      await this.toast.create({\n        message: \"Eliminando comentario...\",\n        position: \"middle\",\n        duration: 2000\n      })\n    ).present();\n    try {\n      this.story = await this.storySvc.deleteComment(comment.id);\n      this.setLikeStory();\n      (\n        await this.toast.create({\n          message: \"Comentario eliminado correctamente\",\n          position: \"middle\",\n          duration: 2000\n        })\n      ).present();\n    } catch (e) {\n      (\n        await this.toast.create({\n          message: \"Error al eliminar el comentario\",\n          duration: 2000,\n          position: \"middle\",\n          color: \"danger\"\n        })\n      ).present();\n    }\n  }\n\n  async openUrl(event: any) {\n    await this.urlSvc.openUrl(event);\n\n    if (\n      event.srcElement.href &&\n      (event.target.className.includes(\"mention\") ||\n        event.target.className.includes(\"hashtag\") ||\n        event.target.className.includes(\"linkified\"))\n    ) {\n      this.close();\n    }\n\n    return false;\n  }\n\n  close() {\n    this.modal.dismiss();\n  }\n}\n","import { Component, Input } from \"@angular/core\";\nimport { ModalController } from \"@ionic/angular\";\nimport { WebcamImage, WebcamInitError, WebcamUtil } from \"ngx-webcam\";\nimport { Observable, Subject } from \"rxjs\";\n\n@Component({\n  selector: \"webcam-modal\",\n  templateUrl: \"./webcam.modal.html\",\n  styleUrls: [\"./webcam.modal.scss\"]\n})\nexport class WebcamModal {\n  @Input() src: string;\n  @Input() event: any;\n  public webcamImage: string = \"\";\n  public switchCamera: Subject<void> = new Subject<void>();\n  private trigger: Subject<void> = new Subject<void>();\n\n  public get triggerObservable(): Observable<void> {\n    return this.trigger.asObservable();\n  }\n  public get switchCameraObservable(): Observable<void> {\n    return this.switchCamera.asObservable();\n  }\n\n  constructor(public modal: ModalController, public webcam: WebcamImage) {}\n\n  handleImage(webcamImage: WebcamImage): void {\n    this.webcamImage = webcamImage.imageAsDataUrl;\n  }\n\n  triggerSnapshot(): void {\n    this.trigger.next();\n  }\n\n  triggerSwitchCamera(): void {\n    this.switchCamera.next();\n  }\n\n  ok() {\n    this.modal.dismiss(this.webcamImage);\n  }\n\n  retry() {\n    this.webcamImage = null;\n  }\n\n  cancel() {\n    this.modal.dismiss();\n  }\n}\n","export const environment = {\n  production: false,\n  root: \"https://api.frikiradar.com/\",\n  apiUrl: \"https://api.frikiradar.com/api/v1/\",\n  firebase: {\n    apiKey: \"AIzaSyDReeVhoLFIdlWdiklj90hDiXRN8RWwGVk\",\n    authDomain: \"frikiradar-1551914200548.firebaseapp.com\",\n    databaseURL: \"https://frikiradar-1551914200548.firebaseio.com\",\n    projectId: \"frikiradar-1551914200548\",\n    storageBucket: \"frikiradar-1551914200548.appspot.com\",\n    messagingSenderId: \"431880368798\",\n    appId: \"1:431880368798:web:021fb57b75ed33d8\",\n    vapidKey:\n      \"BCo47gHUNeFYajnd_WuaN85FWxZVkIhX00Xa2XZ9BGcXKkS6ourI99ZuFixCM03vhmGLxpLBzgFwRwtQCHe-Pjc\"\n  }\n};\n","import {\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest\n} from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { NavController } from \"@ionic/angular\";\nimport { Observable, throwError } from \"rxjs\";\nimport { catchError } from \"rxjs/operators\";\n\nimport { AuthService } from \"./../app/services/auth.service\";\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n  constructor(\n    private auth: AuthService,\n    private nav: NavController,\n    private router: Router\n  ) {}\n\n  intercept(\n    request: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(\n      catchError(err => {\n        if (err.status === 401) {\n          if (localStorage.getItem(\"currentUser\")) {\n            // auto logout if 401 response returned from api\n            this.auth.logout();\n          } else {\n            this.nav.navigateRoot([\"/login\"], {\n              queryParams: { returnUrl: this.router.url }\n            });\n          }\n        }\n\n        const error = err.error.message || err.statusText;\n        return throwError(error);\n      })\n    );\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { HammerGestureConfig } from \"@angular/platform-browser\";\n\n/**\n * @hidden\n * This class overrides the default Angular gesture config.\n */\n@Injectable()\nexport class IonicGestureConfig extends HammerGestureConfig {\n  buildHammer(element: HTMLElement) {\n    const mc = new (<any>window).Hammer(element);\n\n    for (const eventName in this.overrides) {\n      if (eventName) {\n        mc.get(eventName).set(this.overrides[eventName]);\n      }\n    }\n\n    return mc;\n  }\n}\n","import {\n  HttpEvent,\n  HttpHandler,\n  HttpInterceptor,\n  HttpRequest\n} from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs\";\n\nimport { AuthService } from \"./../app/services/auth.service\";\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n  constructor(private auth: AuthService) {}\n\n  intercept(\n    request: HttpRequest<any>,\n    next: HttpHandler\n  ): Observable<HttpEvent<any>> {\n    // add authorization header with jwt token if available\n    const currentUser = this.auth.currentUserValue;\n    if (currentUser && currentUser.token) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${currentUser.token}`\n        }\n      });\n    }\n\n    return next.handle(request);\n  }\n}\n","import { enableProdMode } from \"@angular/core\";\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\nimport \"hammerjs\";\n\nimport { AppModule } from \"./app/app.module\";\nimport { environment } from \"./environments/environment\";\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic()\n  .bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","var map = {\n\t\"./ion-accordion_2.entry.js\": [\n\t\t70079,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-accordion_2_entry_js\"\n\t],\n\t\"./ion-action-sheet.entry.js\": [\n\t\t25593,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-action-sheet_entry_js\"\n\t],\n\t\"./ion-alert.entry.js\": [\n\t\t13225,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-alert_entry_js\"\n\t],\n\t\"./ion-app_8.entry.js\": [\n\t\t4812,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-app_8_entry_js\"\n\t],\n\t\"./ion-avatar_3.entry.js\": [\n\t\t86655,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-avatar_3_entry_js\"\n\t],\n\t\"./ion-back-button.entry.js\": [\n\t\t44856,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-back-button_entry_js\"\n\t],\n\t\"./ion-backdrop.entry.js\": [\n\t\t13059,\n\t\t\"node_modules_ionic_core_dist_esm_ion-backdrop_entry_js\"\n\t],\n\t\"./ion-breadcrumb_2.entry.js\": [\n\t\t58648,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-breadcrumb_2_entry_js\"\n\t],\n\t\"./ion-button_2.entry.js\": [\n\t\t98308,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-button_2_entry_js\"\n\t],\n\t\"./ion-card_5.entry.js\": [\n\t\t44690,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-card_5_entry_js\"\n\t],\n\t\"./ion-checkbox.entry.js\": [\n\t\t64090,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-checkbox_entry_js\"\n\t],\n\t\"./ion-chip.entry.js\": [\n\t\t36214,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-chip_entry_js\"\n\t],\n\t\"./ion-col_3.entry.js\": [\n\t\t69447,\n\t\t\"node_modules_ionic_core_dist_esm_ion-col_3_entry_js\"\n\t],\n\t\"./ion-datetime_3.entry.js\": [\n\t\t79689,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-datetime_3_entry_js\"\n\t],\n\t\"./ion-fab_3.entry.js\": [\n\t\t18840,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-fab_3_entry_js\"\n\t],\n\t\"./ion-img.entry.js\": [\n\t\t40749,\n\t\t\"node_modules_ionic_core_dist_esm_ion-img_entry_js\"\n\t],\n\t\"./ion-infinite-scroll_2.entry.js\": [\n\t\t69667,\n\t\t\"node_modules_ionic_core_dist_esm_ion-infinite-scroll_2_entry_js\"\n\t],\n\t\"./ion-input.entry.js\": [\n\t\t83288,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-input_entry_js\"\n\t],\n\t\"./ion-item-option_3.entry.js\": [\n\t\t35473,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item-option_3_entry_js\"\n\t],\n\t\"./ion-item_8.entry.js\": [\n\t\t53634,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-item_8_entry_js\"\n\t],\n\t\"./ion-loading.entry.js\": [\n\t\t22855,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-loading_entry_js\"\n\t],\n\t\"./ion-menu_3.entry.js\": [\n\t\t495,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-menu_3_entry_js\"\n\t],\n\t\"./ion-modal.entry.js\": [\n\t\t58737,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-modal_entry_js\"\n\t],\n\t\"./ion-nav_2.entry.js\": [\n\t\t99632,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-nav_2_entry_js\"\n\t],\n\t\"./ion-picker-column-internal.entry.js\": [\n\t\t54446,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-picker-column-internal_entry_js\"\n\t],\n\t\"./ion-picker-internal.entry.js\": [\n\t\t32275,\n\t\t\"node_modules_ionic_core_dist_esm_ion-picker-internal_entry_js\"\n\t],\n\t\"./ion-popover.entry.js\": [\n\t\t48050,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-popover_entry_js\"\n\t],\n\t\"./ion-progress-bar.entry.js\": [\n\t\t18994,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-progress-bar_entry_js\"\n\t],\n\t\"./ion-radio_2.entry.js\": [\n\t\t23592,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-radio_2_entry_js\"\n\t],\n\t\"./ion-range.entry.js\": [\n\t\t35454,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-range_entry_js\"\n\t],\n\t\"./ion-refresher_2.entry.js\": [\n\t\t290,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-refresher_2_entry_js\"\n\t],\n\t\"./ion-reorder_2.entry.js\": [\n\t\t92666,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-reorder_2_entry_js\"\n\t],\n\t\"./ion-ripple-effect.entry.js\": [\n\t\t64816,\n\t\t\"node_modules_ionic_core_dist_esm_ion-ripple-effect_entry_js\"\n\t],\n\t\"./ion-route_4.entry.js\": [\n\t\t45534,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-route_4_entry_js\"\n\t],\n\t\"./ion-searchbar.entry.js\": [\n\t\t94902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-searchbar_entry_js\"\n\t],\n\t\"./ion-segment_2.entry.js\": [\n\t\t91938,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-segment_2_entry_js\"\n\t],\n\t\"./ion-select_3.entry.js\": [\n\t\t78179,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-select_3_entry_js\"\n\t],\n\t\"./ion-slide_2.entry.js\": [\n\t\t90668,\n\t\t\"node_modules_ionic_core_dist_esm_ion-slide_2_entry_js\"\n\t],\n\t\"./ion-spinner.entry.js\": [\n\t\t61624,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-spinner_entry_js\"\n\t],\n\t\"./ion-split-pane.entry.js\": [\n\t\t19989,\n\t\t\"node_modules_ionic_core_dist_esm_ion-split-pane_entry_js\"\n\t],\n\t\"./ion-tab-bar_2.entry.js\": [\n\t\t28902,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab-bar_2_entry_js\"\n\t],\n\t\"./ion-tab_2.entry.js\": [\n\t\t70199,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-tab_2_entry_js\"\n\t],\n\t\"./ion-text.entry.js\": [\n\t\t48395,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-text_entry_js\"\n\t],\n\t\"./ion-textarea.entry.js\": [\n\t\t96357,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-textarea_entry_js\"\n\t],\n\t\"./ion-toast.entry.js\": [\n\t\t38268,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toast_entry_js\"\n\t],\n\t\"./ion-toggle.entry.js\": [\n\t\t15269,\n\t\t\"common\",\n\t\t\"node_modules_ionic_core_dist_esm_ion-toggle_entry_js\"\n\t],\n\t\"./ion-virtual-scroll.entry.js\": [\n\t\t32875,\n\t\t\"node_modules_ionic_core_dist_esm_ion-virtual-scroll_entry_js\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 50863;\nmodule.exports = webpackAsyncContext;"],"names":[],"sourceRoot":"webpack:///"}